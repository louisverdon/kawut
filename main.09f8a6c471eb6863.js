(self.webpackChunkkawut=self.webpackChunkkawut||[]).push([[792],{4783:(Ve,H,R)=>{"use strict";R.d(H,{BM:()=>ge,Gt:()=>x,bf:()=>pe,e7:()=>$,iB:()=>L,rx:()=>Y,uP:()=>ee});var l=R(7705),N=R(7935),S=R(1161);Ve=R.hmd(Ve);const k=["ngOnDestroy"],x=(be,Ue,xe,ie={})=>new Proxy(be,{get:(Ce,X)=>xe.runOutsideAngular(()=>{var ue;if(be[X])return!(null===(ue=ie?.spy)||void 0===ue)&&ue.get&&ie.spy.get(X,be[X]),be[X];if(k.indexOf(X)>-1)return()=>{};const _e=Ue.toPromise().then(we=>{const re=we&&we[X];return"function"==typeof re?re.bind(we):re&&re.then?re.then(Le=>xe.run(()=>Le)):xe.run(()=>re)});return new Proxy(()=>{},{get:(we,re)=>_e[re],apply:(we,re,Le)=>_e.then($e=>{var it;const dt=$e&&$e(...Le);return!(null===(it=ie?.spy)||void 0===it)&&it.apply&&ie.spy.apply(X,Le,dt),dt})})})}),$=(be,Ue)=>{Ue.forEach(xe=>{Object.getOwnPropertyNames(xe.prototype||xe).forEach(ie=>{Object.defineProperty(be.prototype,ie,Object.getOwnPropertyDescriptor(xe.prototype||xe,ie))})})};class W{constructor(Ue){return Ue}}const Y=new l.nKC("angularfire2.app.options"),ee=new l.nKC("angularfire2.app.name");function L(be,Ue,xe){const Ce="object"==typeof xe&&xe||{};Ce.name=Ce.name||"string"==typeof xe&&xe||"[DEFAULT]";const ue=N.A.apps.filter(_e=>_e&&_e.name===Ce.name)[0]||Ue.runOutsideAngular(()=>N.A.initializeApp(be,Ce));try{JSON.stringify(be)!==JSON.stringify(ue.options)&&G("error",`${ue.name} Firebase App already initialized with different options${Ve.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new W(ue)}const G=(be,...Ue)=>{(0,l.naY)()&&typeof console<"u"&&console[be](...Ue)},K={provide:W,useFactory:L,deps:[Y,l.SKi,[new l.Xx1,ee]]};let pe=(()=>{class be{constructor(xe){N.A.registerVersion("angularfire",S.xv.full,"core"),N.A.registerVersion("angularfire",S.xv.full,"app-compat"),N.A.registerVersion("angular",l.xvI.full,xe.toString())}static initializeApp(xe,ie){return{ngModule:be,providers:[{provide:Y,useValue:xe},{provide:ee,useValue:ie}]}}}return be.\u0275fac=function(xe){return new(xe||be)(l.KVO(l.Agw))},be.\u0275mod=l.$C({type:be}),be.\u0275inj=l.G2t({providers:[K]}),be})();function ge(be,Ue,xe,ie,Ce){const[,X,ue]=globalThis.\u0275AngularfireInstanceCache.find(_e=>_e[0]===be)||[];if(X)return function Pe(be,Ue){try{return be.toString()===Ue.toString()}catch{return be===Ue}}(Ce,ue)||(Te("error",`${Ue} was already initialized on the ${xe} Firebase App with different settings.${Se?" You may need to reload as Firebase is not HMR aware.":""}`),Te("warn",{is:Ce,was:ue})),X;{const _e=ie();return globalThis.\u0275AngularfireInstanceCache.push([be,_e,Ce]),_e}}const Se=!!Ve.hot,Te=(be,...Ue)=>{(0,l.naY)()&&typeof console<"u"&&console[be](...Ue)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1161:(Ve,H,R)=>{"use strict";R.d(H,{xv:()=>bo,U0:()=>nu,u0:()=>So,CA:()=>Nn,lR:()=>Ao});var l=R(7705),N=R(2214),S=R(467),k=R(7852),x=R(1076),$=R(1362),W=R(8041);const Y=(C,I)=>I.some(M=>C instanceof M);let ee,L;const pe=new WeakMap,ge=new WeakMap,Pe=new WeakMap,Se=new WeakMap,Te=new WeakMap;let xe={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return ge.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Pe.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return ue(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function X(C){return"function"==typeof C?function Ce(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function K(){return L||(L=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(_e(this),I),ue(pe.get(this))}:function(...I){return ue(C.apply(_e(this),I))}:function(I,...M){const U=C.call(_e(this),I,...M);return Pe.set(U,I.sort?I.sort():[I]),ue(U)}}(C):(C instanceof IDBTransaction&&function Ue(C){if(ge.has(C))return;const I=new Promise((M,U)=>{const J=()=>{C.removeEventListener("complete",oe),C.removeEventListener("error",Ee),C.removeEventListener("abort",Ee)},oe=()=>{M(),J()},Ee=()=>{U(C.error||new DOMException("AbortError","AbortError")),J()};C.addEventListener("complete",oe),C.addEventListener("error",Ee),C.addEventListener("abort",Ee)});ge.set(C,I)}(C),Y(C,function G(){return ee||(ee=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,xe):C)}function ue(C){if(C instanceof IDBRequest)return function be(C){const I=new Promise((M,U)=>{const J=()=>{C.removeEventListener("success",oe),C.removeEventListener("error",Ee)},oe=()=>{M(ue(C.result)),J()},Ee=()=>{U(C.error),J()};C.addEventListener("success",oe),C.addEventListener("error",Ee)});return I.then(M=>{M instanceof IDBCursor&&pe.set(M,C)}).catch(()=>{}),Te.set(I,C),I}(C);if(Se.has(C))return Se.get(C);const I=X(C);return I!==C&&(Se.set(C,I),Te.set(I,C)),I}const _e=C=>Te.get(C),Le=["get","getKey","getAll","getAllKeys","count"],$e=["put","add","delete","clear"],it=new Map;function dt(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(it.get(I))return it.get(I);const M=I.replace(/FromIndex$/,""),U=I!==M,J=$e.includes(M);if(!(M in(U?IDBIndex:IDBObjectStore).prototype)||!J&&!Le.includes(M))return;const oe=function(){var Ee=(0,S.A)(function*(He,...Ge){const nt=this.transaction(He,J?"readwrite":"readonly");let ft=nt.store;return U&&(ft=ft.index(Ge.shift())),(yield Promise.all([ft[M](...Ge),J&&nt.done]))[0]});return function(Ge){return Ee.apply(this,arguments)}}();return it.set(I,oe),oe}!function ie(C){xe=C(xe)}(C=>({...C,get:(I,M,U)=>dt(I,M)||C.get(I,M,U),has:(I,M)=>!!dt(I,M)||C.has(I,M)}));const Ln="@firebase/installations",rn="0.6.4",$i=1e4,Qr=`w:${rn}`,Ti="FIS_v2",Lr="https://firebaseinstallations.googleapis.com/v1",he=36e5,Me=new x.FA("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ye(C){return C instanceof x.g&&C.code.includes("request-failed")}function Xe({projectId:C}){return`${Lr}/projects/${C}/installations`}function pt(C){return{token:C.token,requestStatus:2,expiresIn:mn(C.expiresIn),creationTime:Date.now()}}function $t(C,I){return qe.apply(this,arguments)}function qe(){return(qe=(0,S.A)(function*(C,I){const U=(yield I.json()).error;return Me.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function sn({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function hr(C){return vt.apply(this,arguments)}function vt(){return(vt=(0,S.A)(function*(C){const I=yield C();return I.status>=500&&I.status<600?C():I})).apply(this,arguments)}function mn(C){return Number(C.replace("s","000"))}function En(){return(En=(0,S.A)(function*({appConfig:C,heartbeatServiceProvider:I},{fid:M}){const U=Xe(C),J=sn(C),oe=I.getImmediate({optional:!0});if(oe){const nt=yield oe.getHeartbeatsHeader();nt&&J.append("x-firebase-client",nt)}const He={method:"POST",headers:J,body:JSON.stringify({fid:M,authVersion:Ti,appId:C.appId,sdkVersion:Qr})},Ge=yield hr(()=>fetch(U,He));if(Ge.ok){const nt=yield Ge.json();return{fid:nt.fid||M,registrationStatus:2,refreshToken:nt.refreshToken,authToken:pt(nt.authToken)}}throw yield $t("Create Installation",Ge)})).apply(this,arguments)}function Vr(C){return new Promise(I=>{setTimeout(I,C)})}const ia=/^[cdef][\w-]{21}$/,lt="";function Pt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const M=function _t(C){return function cs(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return ia.test(M)?M:lt}catch{return lt}}function Zt(C){return`${C.appName}!${C.appId}`}const pn=new Map;function vr(C,I){const M=Zt(C);ro(M,I),function tt(C,I){const M=function Tt(){return!Er&&"BroadcastChannel"in self&&(Er=new BroadcastChannel("[Firebase] FID Change"),Er.onmessage=C=>{ro(C.data.key,C.data.fid)}),Er}();M&&M.postMessage({key:C,fid:I}),function Hi(){0===pn.size&&Er&&(Er.close(),Er=null)}()}(M,I)}function ro(C,I){const M=pn.get(C);if(M)for(const U of M)U(I)}let Er=null;const Ai="firebase-installations-database",io=1,fr="firebase-installations-store";let us=null;function _i(){return us||(us=function we(C,I,{blocked:M,upgrade:U,blocking:J,terminated:oe}={}){const Ee=indexedDB.open(C,I),He=ue(Ee);return U&&Ee.addEventListener("upgradeneeded",Ge=>{U(ue(Ee.result),Ge.oldVersion,Ge.newVersion,ue(Ee.transaction))}),M&&Ee.addEventListener("blocked",()=>M()),He.then(Ge=>{oe&&Ge.addEventListener("close",()=>oe()),J&&Ge.addEventListener("versionchange",()=>J())}).catch(()=>{}),He}(Ai,io,{upgrade:(C,I)=>{0===I&&C.createObjectStore(fr)}})),us}function Un(C,I){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,S.A)(function*(C,I){const M=Zt(C),J=(yield _i()).transaction(fr,"readwrite"),oe=J.objectStore(fr),Ee=yield oe.get(M);return yield oe.put(I,M),yield J.done,(!Ee||Ee.fid!==I.fid)&&vr(C,I.fid),I})).apply(this,arguments)}function Gi(C){return _n.apply(this,arguments)}function _n(){return(_n=(0,S.A)(function*(C){const I=Zt(C),U=(yield _i()).transaction(fr,"readwrite");yield U.objectStore(fr).delete(I),yield U.done})).apply(this,arguments)}function yi(C,I){return pr.apply(this,arguments)}function pr(){return(pr=(0,S.A)(function*(C,I){const M=Zt(C),J=(yield _i()).transaction(fr,"readwrite"),oe=J.objectStore(fr),Ee=yield oe.get(M),He=I(Ee);return void 0===He?yield oe.delete(M):yield oe.put(He,M),yield J.done,He&&(!Ee||Ee.fid!==He.fid)&&vr(C,He.fid),He})).apply(this,arguments)}function q(C){return z.apply(this,arguments)}function z(){return z=(0,S.A)(function*(C){let I;const M=yield yi(C.appConfig,U=>{const J=function ne(C){return In(C||{fid:Pt(),registrationStatus:0})}(U),oe=function Re(C,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(Me.create("app-offline"))};const M={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},U=function de(C,I){return Ze.apply(this,arguments)}(C,M);return{installationEntry:M,registrationPromise:U}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:ht(C)}:{installationEntry:I}}(C,J);return I=oe.registrationPromise,oe.installationEntry});return M.fid===lt?{installationEntry:yield I}:{installationEntry:M,registrationPromise:I}}),z.apply(this,arguments)}function Ze(){return Ze=(0,S.A)(function*(C,I){try{const M=yield function Vn(C,I){return En.apply(this,arguments)}(C,I);return Un(C.appConfig,M)}catch(M){throw ye(M)&&409===M.customData.serverCode?yield Gi(C.appConfig):yield Un(C.appConfig,{fid:I.fid,registrationStatus:0}),M}}),Ze.apply(this,arguments)}function ht(C){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,S.A)(function*(C){let I=yield Wt(C.appConfig);for(;1===I.registrationStatus;)yield Vr(100),I=yield Wt(C.appConfig);if(0===I.registrationStatus){const{installationEntry:M,registrationPromise:U}=yield q(C);return U||M}return I})).apply(this,arguments)}function Wt(C){return yi(C,I=>{if(!I)throw Me.create("installation-not-found");return In(I)})}function In(C){return function Et(C){return 1===C.registrationStatus&&C.registrationTime+$i<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function Kn(){return(Kn=(0,S.A)(function*({appConfig:C,heartbeatServiceProvider:I},M){const U=function Cr(C,{fid:I}){return`${Xe(C)}/${I}/authTokens:generate`}(C,M),J=function Kt(C,{refreshToken:I}){const M=sn(C);return M.append("Authorization",function Mn(C){return`${Ti} ${C}`}(I)),M}(C,M),oe=I.getImmediate({optional:!0});if(oe){const nt=yield oe.getHeartbeatsHeader();nt&&J.append("x-firebase-client",nt)}const He={method:"POST",headers:J,body:JSON.stringify({installation:{sdkVersion:Qr,appId:C.appId}})},Ge=yield hr(()=>fetch(U,He));if(Ge.ok)return pt(yield Ge.json());throw yield $t("Generate Auth Token",Ge)})).apply(this,arguments)}function Wi(C){return sa.apply(this,arguments)}function sa(){return sa=(0,S.A)(function*(C,I=!1){let M;const U=yield yi(C.appConfig,oe=>{if(!Ye(oe))throw Me.create("not-registered");const Ee=oe.authToken;if(!I&&function Ht(C){return 2===C.requestStatus&&!function Dn(C){const I=Date.now();return I<C.creationTime||C.creationTime+C.expiresIn<I+he}(C)}(Ee))return oe;if(1===Ee.requestStatus)return M=function Ie(C,I){return ce.apply(this,arguments)}(C,I),oe;{if(!navigator.onLine)throw Me.create("app-offline");const He=function Cn(C){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:I})}(oe);return M=function et(C,I){return st.apply(this,arguments)}(C,He),He}});return M?yield M:U.authToken}),sa.apply(this,arguments)}function ce(){return(ce=(0,S.A)(function*(C,I){let M=yield Fe(C.appConfig);for(;1===M.authToken.requestStatus;)yield Vr(100),M=yield Fe(C.appConfig);const U=M.authToken;return 0===U.requestStatus?Wi(C,I):U})).apply(this,arguments)}function Fe(C){return yi(C,I=>{if(!Ye(I))throw Me.create("not-registered");return function Si(C){return 1===C.requestStatus&&C.requestTime+$i<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function st(){return st=(0,S.A)(function*(C,I){try{const M=yield function kt(C,I){return Kn.apply(this,arguments)}(C,I),U=Object.assign(Object.assign({},I),{authToken:M});return yield Un(C.appConfig,U),M}catch(M){if(!ye(M)||401!==M.customData.serverCode&&404!==M.customData.serverCode){const U=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield Un(C.appConfig,U)}else yield Gi(C.appConfig);throw M}}),st.apply(this,arguments)}function Ye(C){return void 0!==C&&2===C.registrationStatus}function zi(){return(zi=(0,S.A)(function*(C){const I=C,{installationEntry:M,registrationPromise:U}=yield q(I);return U?U.catch(console.error):Wi(I).catch(console.error),M.fid})).apply(this,arguments)}function so(){return so=(0,S.A)(function*(C,I=!1){const M=C;return yield function za(C){return Yr.apply(this,arguments)}(M),(yield Wi(M,I)).token}),so.apply(this,arguments)}function Yr(){return(Yr=(0,S.A)(function*(C){const{registrationPromise:I}=yield q(C);I&&(yield I)})).apply(this,arguments)}function rr(C){return Me.create("missing-app-config-values",{valueName:C})}const pd="installations",ng=C=>{const I=C.getProvider("app").getImmediate(),M=function qa(C){if(!C||!C.options)throw rr("App Configuration");if(!C.name)throw rr("App Name");const I=["projectId","apiKey","appId"];for(const M of I)if(!C.options[M])throw rr(M);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(I);return{app:I,appConfig:M,heartbeatServiceProvider:(0,k._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},Ts=C=>{const I=C.getProvider("app").getImmediate(),M=(0,k._getProvider)(I,pd).getImmediate();return{getId:()=>function wr(C){return zi.apply(this,arguments)}(M),getToken:J=>function sc(C){return so.apply(this,arguments)}(M,J)}};(function qh(){(0,k._registerComponent)(new $.uA(pd,ng,"PUBLIC")),(0,k._registerComponent)(new $.uA("installations-internal",Ts,"PRIVATE"))})(),(0,k.registerVersion)(Ln,rn),(0,k.registerVersion)(Ln,rn,"esm2017");const Qa="@firebase/remote-config",qn=new x.FA("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class ze{constructor(I,M,U,J){this.client=I,this.storage=M,this.storageCache=U,this.logger=J}isCachedDataFresh(I,M){if(!M)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-M,J=U<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${J}.`),J}fetch(I){var M=this;return(0,S.A)(function*(){const[U,J]=yield Promise.all([M.storage.getLastSuccessfulFetchTimestampMillis(),M.storage.getLastSuccessfulFetchResponse()]);if(J&&M.isCachedDataFresh(I.cacheMaxAgeMillis,U))return J;I.eTag=J&&J.eTag;const oe=yield M.client.fetch(I),Ee=[M.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Ee.push(M.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Ee),oe})()}}function Ct(C=navigator){return C.languages&&C.languages[0]||C.language}class Qt{constructor(I,M,U,J,oe,Ee){this.firebaseInstallations=I,this.sdkVersion=M,this.namespace=U,this.projectId=J,this.apiKey=oe,this.appId=Ee}fetch(I){var M=this;return(0,S.A)(function*(){const[U,J]=yield Promise.all([M.firebaseInstallations.getId(),M.firebaseInstallations.getToken()]),Ee=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${M.projectId}/namespaces/${M.namespace}:fetch?key=${M.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Ge={sdk_version:M.sdkVersion,app_instance_id:U,app_instance_id_token:J,app_id:M.appId,language_code:Ct()},nt={method:"POST",headers:He,body:JSON.stringify(Ge)},ft=fetch(Ee,nt),yt=new Promise((ni,An)=>{I.signal.addEventListener(()=>{const ri=new Error("The operation was aborted.");ri.name="AbortError",An(ri)})});let Pr;try{yield Promise.race([ft,yt]),Pr=yield ft}catch(ni){let An="fetch-client-network";throw"AbortError"===ni?.name&&(An="fetch-timeout"),qn.create(An,{originalErrorMessage:ni?.message})}let dn=Pr.status;const xi=Pr.headers.get("ETag")||void 0;let Al,an;if(200===Pr.status){let ni;try{ni=yield Pr.json()}catch(An){throw qn.create("fetch-client-parse",{originalErrorMessage:An?.message})}Al=ni.entries,an=ni.state}if("INSTANCE_STATE_UNSPECIFIED"===an?dn=500:"NO_CHANGE"===an?dn=304:("NO_TEMPLATE"===an||"EMPTY_CONFIG"===an)&&(Al={}),304!==dn&&200!==dn)throw qn.create("fetch-status",{httpStatus:dn});return{status:dn,eTag:xi,config:Al}})()}}class gr{constructor(I,M){this.client=I,this.storage=M}fetch(I){var M=this;return(0,S.A)(function*(){const U=(yield M.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return M.attemptFetch(I,U)})()}attemptFetch(I,M){var U=this;return(0,S.A)(function*(J,{throttleEndTimeMillis:oe,backoffCount:Ee}){yield function Ur(C,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),oe=setTimeout(M,J);C.addEventListener(()=>{clearTimeout(oe),U(qn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(J.signal,oe);try{const He=yield U.client.fetch(J);return yield U.storage.deleteThrottleMetadata(),He}catch(He){if(!function ao(C){if(!(C instanceof x.g&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(He))throw He;const Ge={throttleEndTimeMillis:Date.now()+(0,x.p9)(Ee),backoffCount:Ee+1};return yield U.storage.setThrottleMetadata(Ge),U.attemptFetch(J,Ge)}}).apply(this,arguments)}}class fs{constructor(I,M,U,J,oe){this.app=I,this._client=M,this._storageCache=U,this._storage=J,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ei(C,I){const M=C.target.error||void 0;return qn.create(I,{originalErrorMessage:M&&M?.message})}const ot="app_namespace_store";class Rn{constructor(I,M,U,J=function Ki(){return new Promise((C,I)=>{try{const M=indexedDB.open("firebase_remote_config",1);M.onerror=U=>{I(Ei(U,"storage-open"))},M.onsuccess=U=>{C(U.target.result)},M.onupgradeneeded=U=>{0===U.oldVersion&&U.target.result.createObjectStore(ot,{keyPath:"compositeKey"})}}catch(M){I(qn.create("storage-open",{originalErrorMessage:M?.message}))}})}()){this.appId=I,this.appName=M,this.namespace=U,this.openDbPromise=J}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var M=this;return(0,S.A)(function*(){const U=yield M.openDbPromise;return new Promise((J,oe)=>{const He=U.transaction([ot],"readonly").objectStore(ot),Ge=M.createCompositeKey(I);try{const nt=He.get(Ge);nt.onerror=ft=>{oe(Ei(ft,"storage-get"))},nt.onsuccess=ft=>{const yt=ft.target.result;J(yt?yt.value:void 0)}}catch(nt){oe(qn.create("storage-get",{originalErrorMessage:nt?.message}))}})})()}set(I,M){var U=this;return(0,S.A)(function*(){const J=yield U.openDbPromise;return new Promise((oe,Ee)=>{const Ge=J.transaction([ot],"readwrite").objectStore(ot),nt=U.createCompositeKey(I);try{const ft=Ge.put({compositeKey:nt,value:M});ft.onerror=yt=>{Ee(Ei(yt,"storage-set"))},ft.onsuccess=()=>{oe()}}catch(ft){Ee(qn.create("storage-set",{originalErrorMessage:ft?.message}))}})})()}delete(I){var M=this;return(0,S.A)(function*(){const U=yield M.openDbPromise;return new Promise((J,oe)=>{const He=U.transaction([ot],"readwrite").objectStore(ot),Ge=M.createCompositeKey(I);try{const nt=He.delete(Ge);nt.onerror=ft=>{oe(Ei(ft,"storage-delete"))},nt.onsuccess=()=>{J()}}catch(nt){oe(qn.create("storage-delete",{originalErrorMessage:nt?.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class lo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,S.A)(function*(){const M=I.storage.getLastFetchStatus(),U=I.storage.getLastSuccessfulFetchTimestampMillis(),J=I.storage.getActiveConfig(),oe=yield M;oe&&(I.lastFetchStatus=oe);const Ee=yield U;Ee&&(I.lastSuccessfulFetchTimestampMillis=Ee);const He=yield J;He&&(I.activeConfig=He)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function md(){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,S.A)(function*(){if(!(0,x.zW)())return!1;try{return yield(0,x.eX)()}catch{return!1}})).apply(this,arguments)}!function Dr(){(0,k._registerComponent)(new $.uA("remote-config",function C(I,{instanceIdentifier:M}){const U=I.getProvider("app").getImmediate(),J=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw qn.create("registration-window");if(!(0,x.zW)())throw qn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Ee,appId:He}=U.options;if(!oe)throw qn.create("registration-project-id");if(!Ee)throw qn.create("registration-api-key");if(!He)throw qn.create("registration-app-id");const Ge=new Rn(He,U.name,M=M||"firebase"),nt=new lo(Ge),ft=new W.Vy(Qa);ft.logLevel=W.$b.ERROR;const yt=new Qt(J,k.SDK_VERSION,M,oe,Ee,He),Pr=new gr(yt,Ge),dn=new ze(Pr,Ge,nt,ft),xi=new fs(U,dn,nt,Ge,ft);return function Qn(C){const I=(0,x.Ku)(C);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(xi),xi},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)(Qa,"0.4.4"),(0,k.registerVersion)(Qa,"0.4.4","esm2017")}();const qi=(C,I)=>I.some(M=>C instanceof M);let ps,Mi;const oa=new WeakMap,Ri=new WeakMap,Br=new WeakMap,ir=new WeakMap,Qi=new WeakMap;let tl={get(C,I,M){if(C instanceof IDBTransaction){if("done"===I)return Ri.get(C);if("objectStoreNames"===I)return C.objectStoreNames||Br.get(C);if("store"===I)return M.objectStoreNames[1]?void 0:M.objectStore(M.objectStoreNames[0])}return or(C[I])},set:(C,I,M)=>(C[I]=M,!0),has:(C,I)=>C instanceof IDBTransaction&&("done"===I||"store"===I)||I in C};function _c(C){return"function"==typeof C?function sr(C){return C!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function mc(){return Mi||(Mi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(C)?function(...I){return C.apply(Ss(this),I),or(oa.get(this))}:function(...I){return or(C.apply(Ss(this),I))}:function(I,...M){const U=C.call(Ss(this),I,...M);return Br.set(U,I.sort?I.sort():[I]),or(U)}}(C):(C instanceof IDBTransaction&&function jn(C){if(Ri.has(C))return;const I=new Promise((M,U)=>{const J=()=>{C.removeEventListener("complete",oe),C.removeEventListener("error",Ee),C.removeEventListener("abort",Ee)},oe=()=>{M(),J()},Ee=()=>{U(C.error||new DOMException("AbortError","AbortError")),J()};C.addEventListener("complete",oe),C.addEventListener("error",Ee),C.addEventListener("abort",Ee)});Ri.set(C,I)}(C),qi(C,function xt(){return ps||(ps=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(C,tl):C)}function or(C){if(C instanceof IDBRequest)return function aa(C){const I=new Promise((M,U)=>{const J=()=>{C.removeEventListener("success",oe),C.removeEventListener("error",Ee)},oe=()=>{M(or(C.result)),J()},Ee=()=>{U(C.error),J()};C.addEventListener("success",oe),C.addEventListener("error",Ee)});return I.then(M=>{M instanceof IDBCursor&&oa.set(M,C)}).catch(()=>{}),Qi.set(I,C),I}(C);if(ir.has(C))return ir.get(C);const I=_c(C);return I!==C&&(ir.set(C,I),Qi.set(I,C)),I}const Ss=C=>Qi.get(C);function Ar(C,I,{blocked:M,upgrade:U,blocking:J,terminated:oe}={}){const Ee=indexedDB.open(C,I),He=or(Ee);return U&&Ee.addEventListener("upgradeneeded",Ge=>{U(or(Ee.result),Ge.oldVersion,Ge.newVersion,or(Ee.transaction))}),M&&Ee.addEventListener("blocked",()=>M()),He.then(Ge=>{oe&&Ge.addEventListener("close",()=>oe()),J&&Ge.addEventListener("versionchange",()=>J())}).catch(()=>{}),He}function gs(C,{blocked:I}={}){const M=indexedDB.deleteDatabase(C);return I&&M.addEventListener("blocked",()=>I()),or(M).then(()=>{})}const yc=["get","getKey","getAll","getAllKeys","count"],Yh=["put","add","delete","clear"],vc=new Map;function Ec(C,I){if(!(C instanceof IDBDatabase)||I in C||"string"!=typeof I)return;if(vc.get(I))return vc.get(I);const M=I.replace(/FromIndex$/,""),U=I!==M,J=Yh.includes(M);if(!(M in(U?IDBIndex:IDBObjectStore).prototype)||!J&&!yc.includes(M))return;const oe=function(){var Ee=(0,S.A)(function*(He,...Ge){const nt=this.transaction(He,J?"readwrite":"readonly");let ft=nt.store;return U&&(ft=ft.index(Ge.shift())),(yield Promise.all([ft[M](...Ge),J&&nt.done]))[0]});return function(Ge){return Ee.apply(this,arguments)}}();return vc.set(I,oe),oe}!function mr(C){tl=C(tl)}(C=>({...C,get:(I,M,U)=>Ec(I,M)||C.get(I,M,U),has:(I,M)=>!!Ec(I,M)||C.has(I,M)}));const Cc="/firebase-messaging-sw.js",wc="/firebase-cloud-messaging-push-scope",_d="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rg="https://fcmregistrations.googleapis.com/v1",un="google.c.a.c_id",ig="google.c.a.c_l",Xh="google.c.a.ts";var yd=function(C){return C.PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",C}(yd||{});function Yi(C){const I=new Uint8Array(C);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function bc(C){const M=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(M),J=new Uint8Array(U.length);for(let oe=0;oe<U.length;++oe)J[oe]=U.charCodeAt(oe);return J}const nl="fcm_token_details_db",Ic=5,Ms="fcm_token_object_Store";function la(){return la=(0,S.A)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(nl))return null;let I=null;return(yield Ar(nl,Ic,{upgrade:(U=(0,S.A)(function*(J,oe,Ee,He){var Ge;if(oe<2||!J.objectStoreNames.contains(Ms))return;const nt=He.objectStore(Ms),ft=yield nt.index("fcmSenderId").get(C);if(yield nt.clear(),ft)if(2===oe){const yt=ft;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;I={token:yt.fcmToken,createTime:null!==(Ge=yt.createTime)&&void 0!==Ge?Ge:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:Yi(yt.vapidKey)}}}else if(3===oe){const yt=ft;I={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Yi(yt.auth),p256dh:Yi(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Yi(yt.vapidKey)}}}else if(4===oe){const yt=ft;I={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:Yi(yt.auth),p256dh:Yi(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:Yi(yt.vapidKey)}}}}),function(oe,Ee,He,Ge){return U.apply(this,arguments)})})).close(),yield gs(nl),yield gs("fcm_vapid_details_db"),yield gs("undefined"),function sg(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:I}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}(I)?I:null;var U}),la.apply(this,arguments)}const Xi="firebase-messaging-database",Pi=1,ei="firebase-messaging-store";let vd=null;function Tn(){return vd||(vd=Ar(Xi,Pi,{upgrade:(C,I)=>{0===I&&C.createObjectStore(ei)}})),vd}function co(C){return Xn.apply(this,arguments)}function Xn(){return Xn=(0,S.A)(function*(C){const I=uo(C),U=yield(yield Tn()).transaction(ei).objectStore(ei).get(I);if(U)return U;{const J=yield function M_(C){return la.apply(this,arguments)}(C.appConfig.senderId);if(J)return yield Dc(C,J),J}}),Xn.apply(this,arguments)}function Dc(C,I){return ca.apply(this,arguments)}function ca(){return(ca=(0,S.A)(function*(C,I){const M=uo(C),J=(yield Tn()).transaction(ei,"readwrite");return yield J.objectStore(ei).put(I,M),yield J.done,I})).apply(this,arguments)}function ua(){return(ua=(0,S.A)(function*(C){const I=uo(C),U=(yield Tn()).transaction(ei,"readwrite");yield U.objectStore(ei).delete(I),yield U.done})).apply(this,arguments)}function uo({appConfig:C}){return C.appId}const $n=new x.FA("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function rl(C,I){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,S.A)(function*(C,I){const M=yield il(C),U=og(I),J={method:"POST",headers:M,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(Ji(C.appConfig),J)).json()}catch(Ee){throw $n.create("token-subscribe-failed",{errorInfo:Ee?.toString()})}if(oe.error)throw $n.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw $n.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function Sc(){return(Sc=(0,S.A)(function*(C,I){const M=yield il(C),U=og(I.subscriptionOptions),J={method:"PATCH",headers:M,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(`${Ji(C.appConfig)}/${I.token}`,J)).json()}catch(Ee){throw $n.create("token-update-failed",{errorInfo:Ee?.toString()})}if(oe.error)throw $n.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw $n.create("token-update-no-token");return oe.token})).apply(this,arguments)}function ho(C,I){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,S.A)(function*(C,I){const U={method:"DELETE",headers:yield il(C)};try{const oe=yield(yield fetch(`${Ji(C.appConfig)}/${I}`,U)).json();if(oe.error)throw $n.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(J){throw $n.create("token-unsubscribe-failed",{errorInfo:J?.toString()})}})).apply(this,arguments)}function Ji({projectId:C}){return`${rg}/projects/${C}/registrations`}function il(C){return sl.apply(this,arguments)}function sl(){return(sl=(0,S.A)(function*({appConfig:C,installations:I}){const M=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${M}`})})).apply(this,arguments)}function og({p256dh:C,auth:I,endpoint:M,vapidKey:U}){const J={web:{endpoint:M,auth:I,p256dh:C}};return U!==_d&&(J.web.applicationPubKey=U),J}const ef=6048e5;function ol(){return ol=(0,S.A)(function*(C){const I=yield function ll(C,I){return Cd.apply(this,arguments)}(C.swRegistration,C.vapidKey),M={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:I.endpoint,auth:Yi(I.getKey("auth")),p256dh:Yi(I.getKey("p256dh"))},U=yield co(C.firebaseDependencies);if(U){if(function wd(C,I){return I.vapidKey===C.vapidKey&&I.endpoint===C.endpoint&&I.auth===C.auth&&I.p256dh===C.p256dh}(U.subscriptionOptions,M))return Date.now()>=U.createTime+ef?function Rc(C,I){return al.apply(this,arguments)}(C,{token:U.token,createTime:Date.now(),subscriptionOptions:M}):U.token;try{yield ho(C.firebaseDependencies,U.token)}catch(J){console.warn(J)}return Pc(C.firebaseDependencies,M)}return Pc(C.firebaseDependencies,M)}),ol.apply(this,arguments)}function Mc(){return Mc=(0,S.A)(function*(C){const I=yield co(C.firebaseDependencies);I&&(yield ho(C.firebaseDependencies,I.token),yield function Ed(C){return ua.apply(this,arguments)}(C.firebaseDependencies));const M=yield C.swRegistration.pushManager.getSubscription();return!M||M.unsubscribe()}),Mc.apply(this,arguments)}function al(){return al=(0,S.A)(function*(C,I){try{const M=yield function Ac(C,I){return Sc.apply(this,arguments)}(C.firebaseDependencies,I),U=Object.assign(Object.assign({},I),{token:M,createTime:Date.now()});return yield Dc(C.firebaseDependencies,U),M}catch(M){throw yield function lg(C){return Mc.apply(this,arguments)}(C),M}}),al.apply(this,arguments)}function Pc(C,I){return fo.apply(this,arguments)}function fo(){return(fo=(0,S.A)(function*(C,I){const U={token:yield rl(C,I),createTime:Date.now(),subscriptionOptions:I};return yield Dc(C,U),U.token})).apply(this,arguments)}function Cd(){return(Cd=(0,S.A)(function*(C,I){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:bc(I)})})).apply(this,arguments)}function da(C){const I={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function ha(C,I){if(!I.notification)return;C.notification={};const M=I.notification.title;M&&(C.notification.title=M);const U=I.notification.body;U&&(C.notification.body=U);const J=I.notification.image;J&&(C.notification.image=J);const oe=I.notification.icon;oe&&(C.notification.icon=oe)}(I,C),function tf(C,I){I.data&&(C.data=I.data)}(I,C),function Oc(C,I){var M,U,J,oe,Ee;if(!(I.fcmOptions||null!==(M=I.notification)&&void 0!==M&&M.click_action))return;C.fcmOptions={};const He=null!==(J=null===(U=I.fcmOptions)||void 0===U?void 0:U.link)&&void 0!==J?J:null===(oe=I.notification)||void 0===oe?void 0:oe.click_action;He&&(C.fcmOptions.link=He);const Ge=null===(Ee=I.fcmOptions)||void 0===Ee?void 0:Ee.analytics_label;Ge&&(C.fcmOptions.analyticsLabel=Ge)}(I,C),I}function bd(C,I){const M=[];for(let U=0;U<C.length;U++)M.push(C.charAt(U)),U<I.length&&M.push(I.charAt(U));return M.join("")}function cl(C){return $n.create("missing-app-config-values",{valueName:C})}bd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ug{constructor(I,M,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const J=function Id(C){if(!C||!C.options)throw cl("App Configuration Object");if(!C.name)throw cl("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:M}=C;for(const U of I)if(!M[U])throw cl(U);return{appName:C.name,projectId:M.projectId,apiKey:M.apiKey,appId:M.appId,senderId:M.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:J,installations:M,analyticsProvider:U}}_delete(){return Promise.resolve()}}function po(){return(po=(0,S.A)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(Cc,{scope:wc}),C.swRegistration.update().catch(()=>{})}catch(I){throw $n.create("failed-service-worker-registration",{browserErrorMessage:I?.message})}})).apply(this,arguments)}function Ps(){return(Ps=(0,S.A)(function*(C,I){if(!I&&!C.swRegistration&&(yield function Dd(C){return po.apply(this,arguments)}(C)),I||!C.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw $n.create("invalid-sw-registration");C.swRegistration=I}})).apply(this,arguments)}function Os(){return(Os=(0,S.A)(function*(C,I){I?C.vapidKey=I:C.vapidKey||(C.vapidKey=_d)})).apply(this,arguments)}function kc(){return kc=(0,S.A)(function*(C,I){if(!navigator)throw $n.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw $n.create("permission-blocked");return yield function Zi(C,I){return Os.apply(this,arguments)}(C,I?.vapidKey),yield function Td(C,I){return Ps.apply(this,arguments)}(C,I?.serviceWorkerRegistration),function ag(C){return ol.apply(this,arguments)}(C)}),kc.apply(this,arguments)}function Ad(){return(Ad=(0,S.A)(function*(C,I,M){const U=function Oi(C){switch(C){case yd.NOTIFICATION_CLICKED:return"notification_open";case yd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(I);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:M[un],message_name:M[ig],message_time:M[Xh],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ns(){return Ns=(0,S.A)(function*(C,I){const M=I.data;if(!M.isFirebaseMessaging)return;C.onMessageHandler&&M.messageType===yd.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(da(M)):C.onMessageHandler.next(da(M)));const U=M.data;(function cg(C){return"object"==typeof C&&!!C&&un in C})(U)&&"1"===U["google.c.a.e"]&&(yield function xc(C,I,M){return Ad.apply(this,arguments)}(C,M.messageType,U))}),Ns.apply(this,arguments)}const zt="@firebase/messaging",ks=C=>{const I=new ug(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",M=>function Sd(C,I){return Ns.apply(this,arguments)}(I,M)),I},Sr=C=>{const I=C.getProvider("messaging").getImmediate();return{getToken:U=>function Nc(C,I){return kc.apply(this,arguments)}(I,U)}};function Fc(){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,S.A)(function*(){try{yield(0,x.eX)()}catch{return!1}return typeof window<"u"&&(0,x.zW)()&&(0,x.dM)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Md(){(0,k._registerComponent)(new $.uA("messaging",ks,"PUBLIC")),(0,k._registerComponent)(new $.uA("messaging-internal",Sr,"PRIVATE")),(0,k.registerVersion)(zt,"0.12.4"),(0,k.registerVersion)(zt,"0.12.4","esm2017")}();const on="analytics",rf="firebase_id",Vc="origin",gt=6e4,dl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Uc="https://www.googletagmanager.com/gtag/js",Hn=new W.Vy("@firebase/analytics"),ar=new x.FA("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function _o(C){if(!C.startsWith(Uc)){const I=ar.create("invalid-gtag-resource",{gtagURL:C});return Hn.warn(I.message),""}return C}function es(C){return Promise.all(C.map(I=>I.catch(M=>M)))}function fa(){return(fa=(0,S.A)(function*(C,I,M,U,J,oe){const Ee=U[J];try{if(Ee)yield I[Ee];else{const Ge=(yield es(M)).find(nt=>nt.measurementId===J);Ge&&(yield I[Ge.appId])}}catch(He){Hn.error(He)}C("config",J,oe)})).apply(this,arguments)}function wt(){return(wt=(0,S.A)(function*(C,I,M,U,J){try{let oe=[];if(J&&J.send_to){let Ee=J.send_to;Array.isArray(Ee)||(Ee=[Ee]);const He=yield es(M);for(const Ge of Ee){const nt=He.find(yt=>yt.measurementId===Ge),ft=nt&&I[nt.appId];if(!ft){oe=[];break}oe.push(ft)}}0===oe.length&&(oe=Object.values(I)),yield Promise.all(oe),C("event",U,J||{})}catch(oe){Hn.error(oe)}})).apply(this,arguments)}const $c=30,Gc=new class Mr{constructor(I={},M=1e3){this.throttleMetadata=I,this.intervalMillis=M}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,M){this.throttleMetadata[I]=M}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function Wc(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function sf(){return(sf=(0,S.A)(function*(C){var I;const{appId:M,apiKey:U}=C,J={method:"GET",headers:Wc(U)},oe=dl.replace("{app-id}",M),Ee=yield fetch(oe,J);if(200!==Ee.status&&304!==Ee.status){let He="";try{const Ge=yield Ee.json();null!==(I=Ge.error)&&void 0!==I&&I.message&&(He=Ge.error.message)}catch{}throw ar.create("config-fetch-failed",{httpStatus:Ee.status,responseMessage:He})}return Ee.json()})).apply(this,arguments)}function On(){return(On=(0,S.A)(function*(C,I=Gc,M){const{appId:U,apiKey:J,measurementId:oe}=C.options;if(!U)throw ar.create("no-app-id");if(!J){if(oe)return{measurementId:oe,appId:U};throw ar.create("no-api-key")}const Ee=I.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new lf;return setTimeout((0,S.A)(function*(){He.abort()}),void 0!==M?M:gt),ts({appId:U,apiKey:J,measurementId:oe},Ee,He,I)})).apply(this,arguments)}function ts(C,I,M){return zc.apply(this,arguments)}function zc(){return zc=(0,S.A)(function*(C,{throttleEndTimeMillis:I,backoffCount:M},U,J=Gc){var oe;const{appId:Ee,measurementId:He}=C;try{yield function pa(C,I){return new Promise((M,U)=>{const J=Math.max(I-Date.now(),0),oe=setTimeout(M,J);C.addEventListener(()=>{clearTimeout(oe),U(ar.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(U,I)}catch(Ge){if(He)return Hn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${Ge?.message}]`),{appId:Ee,measurementId:He};throw Ge}try{const Ge=yield function fg(C){return sf.apply(this,arguments)}(C);return J.deleteThrottleMetadata(Ee),Ge}catch(Ge){const nt=Ge;if(!function ki(C){if(!(C instanceof x.g&&C.customData))return!1;const I=Number(C.customData.httpStatus);return 429===I||500===I||503===I||504===I}(nt)){if(J.deleteThrottleMetadata(Ee),He)return Hn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${He} provided in the "measurementId" field in the local Firebase config. [${nt?.message}]`),{appId:Ee,measurementId:He};throw Ge}const ft=503===Number(null===(oe=nt?.customData)||void 0===oe?void 0:oe.httpStatus)?(0,x.p9)(M,J.intervalMillis,$c):(0,x.p9)(M,J.intervalMillis),yt={throttleEndTimeMillis:Date.now()+ft,backoffCount:M+1};return J.setThrottleMetadata(Ee,yt),Hn.debug(`Calling attemptFetch again in ${ft} millis`),ts(C,yt,U,J)}}),zc.apply(this,arguments)}class lf{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let ga,qc;function Pd(){return(Pd=(0,S.A)(function*(C,I,M,U,J){if(J&&J.global)C("event",M,U);else{const oe=yield I;C("event",M,Object.assign(Object.assign({},U),{send_to:oe}))}})).apply(this,arguments)}function lr(){return(lr=(0,S.A)(function*(){if(!(0,x.zW)())return Hn.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,x.eX)()}catch(C){return Hn.warn(ar.create("indexeddb-unavailable",{errorInfo:C?.toString()}).message),!1}return!0})).apply(this,arguments)}function Yt(){return Yt=(0,S.A)(function*(C,I,M,U,J,oe,Ee){var He;const Ge=function af(C){return On.apply(this,arguments)}(C);Ge.then(dn=>{M[dn.measurementId]=dn.appId,C.options.measurementId&&dn.measurementId!==C.options.measurementId&&Hn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dn=>Hn.error(dn)),I.push(Ge);const nt=function Nd(){return lr.apply(this,arguments)}().then(dn=>{if(dn)return U.getId()}),[ft,yt]=yield Promise.all([Ge,nt]);(function Pn(C){const I=window.document.getElementsByTagName("script");for(const M of Object.values(I))if(M.src&&M.src.includes(Uc)&&M.src.includes(C))return M;return null})(oe)||function fl(C,I){const M=function hl(C,I){let M;return window.trustedTypes&&(M=window.trustedTypes.createPolicy(C,I)),M}("firebase-js-sdk-policy",{createScriptURL:_o}),U=document.createElement("script"),J=`${Uc}?l=${C}&id=${I}`;U.src=M?M?.createScriptURL(J):J,U.async=!0,document.head.appendChild(U)}(oe,ft.measurementId),qc&&(J("consent","default",qc),function Vs(C){qc=C}(void 0)),J("js",new Date);const Pr=null!==(He=Ee?.config)&&void 0!==He?He:{};return Pr[Vc]="firebase",Pr.update=!0,null!=yt&&(Pr[rf]=yt),J("config",ft.measurementId,Pr),ga&&(J("set",ga),function yo(C){ga=C}(void 0)),ft.measurementId}),Yt.apply(this,arguments)}class vo{constructor(I){this.app=I}_delete(){return delete wi[this.app.options.appId],Promise.resolve()}}let wi={},df=[];const hf={};let _s,cr,ns="dataLayer",ml=!1;function Co(C,I,M){!function _l(){const C=[];if((0,x.sr)()&&C.push("This is a browser extension environment."),(0,x.dM)()||C.push("Cookies are not available."),C.length>0){const I=C.map((U,J)=>`(${J+1}) ${U}`).join(" "),M=ar.create("invalid-analytics-context",{errorInfo:I});Hn.warn(M.message)}}();const U=C.options.appId;if(!U)throw ar.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw ar.create("no-api-key");Hn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=wi[U])throw ar.create("already-exists",{id:U});if(!ml){!function hg(C){let I=[];Array.isArray(window[C])?I=window[C]:window[C]=I}(ns);const{wrappedGtag:oe,gtagCore:Ee}=function jc(C,I,M,U,J){let oe=function(...Ee){window[U].push(arguments)};return window[J]&&"function"==typeof window[J]&&(oe=window[J]),window[J]=function pl(C,I,M,U){function oe(){return oe=(0,S.A)(function*(Ee,...He){try{if("event"===Ee){const[Ge,nt]=He;yield function Oe(C,I,M,U,J){return wt.apply(this,arguments)}(C,I,M,Ge,nt)}else if("config"===Ee){const[Ge,nt]=He;yield function Bc(C,I,M,U,J,oe){return fa.apply(this,arguments)}(C,I,M,U,Ge,nt)}else if("consent"===Ee){const[Ge]=He;C("consent","update",Ge)}else if("get"===Ee){const[Ge,nt,ft]=He;C("get",Ge,nt,ft)}else if("set"===Ee){const[Ge]=He;C("set",Ge)}else C(Ee,...He)}catch(Ge){Hn.error(Ge)}}),oe.apply(this,arguments)}return function J(Ee){return oe.apply(this,arguments)}}(oe,C,I,M),{gtagCore:oe,wrappedGtag:window[J]}}(wi,df,hf,ns,"gtag");cr=oe,_s=Ee,ml=!0}return wi[U]=function ms(C,I,M,U,J,oe,Ee){return Yt.apply(this,arguments)}(C,df,hf,I,_s,ns,M),new vo(C)}function vl(){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,S.A)(function*(){if((0,x.sr)()||!(0,x.dM)()||!(0,x.zW)())return!1;try{return yield(0,x.eX)()}catch{return!1}})).apply(this,arguments)}const xd="@firebase/analytics";!function va(){(0,k._registerComponent)(new $.uA(on,(I,{options:M})=>Co(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),M),"PUBLIC")),(0,k._registerComponent)(new $.uA("analytics-internal",function C(I){try{const M=I.getProvider(on).getImmediate();return{logEvent:(U,J,oe)=>function Xc(C,I,M,U){C=(0,x.Ku)(C),function pg(C,I,M,U,J){return Pd.apply(this,arguments)}(cr,wi[C.app.options.appId],I,M,U).catch(J=>Hn.error(J))}(M,U,J,oe)}}catch(M){throw ar.create("interop-component-reg-failed",{reason:M})}},"PRIVATE")),(0,k.registerVersion)(xd,"0.10.0"),(0,k.registerVersion)(xd,"0.10.0","esm2017")}();var Jc=R(6780),Zc=R(9687);const vg=new class wo extends Zc.q{}(class Ea extends Jc.R{constructor(I,M){super(I,M),this.scheduler=I,this.work=M}schedule(I,M=0){return M>0?super.schedule(I,M):(this.delay=M,this.state=I,this.scheduler.flush(this),this)}execute(I,M){return M>0||this.closed?super.execute(I,M):this._execute(I,M)}requestAsyncId(I,M,U=0){return null!=U&&U>0||null==U&&this.delay>0?super.requestAsyncId(I,M,U):(I.flush(this),0)}});var bl=R(3236),gf=R(8141),ti=R(6745),Il=R(941);const bo=new l.RxE("7.6.1"),Io="__angularfire_symbol__analyticsIsSupportedValue",Do="__angularfire_symbol__analyticsIsSupported",To="__angularfire_symbol__remoteConfigIsSupportedValue",Ca="__angularfire_symbol__remoteConfigIsSupported",Dl="__angularfire_symbol__messagingIsSupportedValue",wa="__angularfire_symbol__messagingIsSupported";function Ao(C,I,M){if(I){if(1===I.length)return I[0];const oe=I.filter(Ee=>Ee.app===M);if(1===oe.length)return oe[0]}return M.container.getProvider(C).getImmediate({optional:!0})}globalThis[Do]||(globalThis[Do]=vl().then(C=>globalThis[Io]=C).catch(()=>globalThis[Io]=!1)),globalThis[wa]||(globalThis[wa]=Fc().then(C=>globalThis[Dl]=C).catch(()=>globalThis[Dl]=!1)),globalThis[Ca]||(globalThis[Ca]=md().then(C=>globalThis[To]=C).catch(()=>globalThis[To]=!1));const Nn=(C,I)=>{const M=I?[I]:(0,N.Dk)(),U=[];return M.forEach(J=>{J.container.getProvider(C).instances.forEach(Ee=>{U.includes(Ee)||U.push(Ee)})}),U};function is(){}class tu{constructor(I,M=vg){this.zone=I,this.delegate=M}now(){return this.delegate.now()}schedule(I,M,U){const J=this.zone;return this.delegate.schedule(function(Ee){J.runGuarded(()=>{I.apply(this,[Ee])})},M,U)}}class Tl{constructor(I){this.zone=I,this.task=null}call(I,M){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),M.pipe((0,gf.M)({next:U,complete:U,error:U})).subscribe(I).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let So=(()=>{class C{constructor(M){this.ngZone=M,this.outsideAngular=M.runOutsideAngular(()=>new tu(Zone.current)),this.insideAngular=M.run(()=>new tu(Zone.current,bl.E)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(M){return new(M||C)(l.KVO(l.SKi))},C.\u0275prov=l.jDH({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function $r(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function nu(C){return $r(),function ru(C){return function(M){return(M=M.lift(new Tl(C.ngZone))).pipe((0,ti._)(C.outsideAngular),(0,Il.Q)(C.insideAngular))}}($r())(C)}},1076:(Ve,H,R)=>{"use strict";R.d(H,{$L:()=>Xe,$g:()=>$i,A4:()=>G,Am:()=>ia,As:()=>pt,Bd:()=>Le,Cv:()=>Kt,FA:()=>fe,Fy:()=>ue,HN:()=>Hi,Hk:()=>S,I9:()=>lt,Im:()=>Mn,K3:()=>$,KA:()=>Y,Ku:()=>pr,Ll:()=>re,OE:()=>io,T9:()=>ie,Uj:()=>ee,XA:()=>Ce,ZQ:()=>_e,bD:()=>En,cY:()=>X,dI:()=>tt,dM:()=>he,eX:()=>Lr,g:()=>le,gR:()=>vt,gz:()=>_t,hp:()=>Pt,jZ:()=>we,kH:()=>Vn,kj:()=>Ai,lT:()=>Ln,lV:()=>it,oD:()=>Tt,od:()=>ro,p9:()=>Gi,qc:()=>hr,sr:()=>$e,tD:()=>Zt,u:()=>L,vA:()=>N,yw:()=>mn,zW:()=>Ti,zw:()=>K});const l={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},N=function(q,z){if(!q)throw S(z)},S=function(q){return new Error("Firebase Database ("+l.SDK_VERSION+") INTERNAL ASSERT FAILED: "+q)},k=function(q){const z=[];let ne=0;for(let Re=0;Re<q.length;Re++){let de=q.charCodeAt(Re);de<128?z[ne++]=de:de<2048?(z[ne++]=de>>6|192,z[ne++]=63&de|128):55296==(64512&de)&&Re+1<q.length&&56320==(64512&q.charCodeAt(Re+1))?(de=65536+((1023&de)<<10)+(1023&q.charCodeAt(++Re)),z[ne++]=de>>18|240,z[ne++]=de>>12&63|128,z[ne++]=de>>6&63|128,z[ne++]=63&de|128):(z[ne++]=de>>12|224,z[ne++]=de>>6&63|128,z[ne++]=63&de|128)}return z},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,z){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ne=z?this.byteToCharMapWebSafe_:this.byteToCharMap_,Re=[];for(let de=0;de<q.length;de+=3){const Ze=q[de],ht=de+1<q.length,Lt=ht?q[de+1]:0,Wt=de+2<q.length,In=Wt?q[de+2]:0;let Kn=(15&Lt)<<2|In>>6,Cr=63&In;Wt||(Cr=64,ht||(Kn=64)),Re.push(ne[Ze>>2],ne[(3&Ze)<<4|Lt>>4],ne[Kn],ne[Cr])}return Re.join("")},encodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?btoa(q):this.encodeByteArray(k(q),z)},decodeString(q,z){return this.HAS_NATIVE_SUPPORT&&!z?atob(q):function(q){const z=[];let ne=0,Re=0;for(;ne<q.length;){const de=q[ne++];if(de<128)z[Re++]=String.fromCharCode(de);else if(de>191&&de<224){const Ze=q[ne++];z[Re++]=String.fromCharCode((31&de)<<6|63&Ze)}else if(de>239&&de<365){const Wt=((7&de)<<18|(63&q[ne++])<<12|(63&q[ne++])<<6|63&q[ne++])-65536;z[Re++]=String.fromCharCode(55296+(Wt>>10)),z[Re++]=String.fromCharCode(56320+(1023&Wt))}else{const Ze=q[ne++],ht=q[ne++];z[Re++]=String.fromCharCode((15&de)<<12|(63&Ze)<<6|63&ht)}}return z.join("")}(this.decodeStringToByteArray(q,z))},decodeStringToByteArray(q,z){this.init_();const ne=z?this.charToByteMapWebSafe_:this.charToByteMap_,Re=[];for(let de=0;de<q.length;){const Ze=ne[q.charAt(de++)],Lt=de<q.length?ne[q.charAt(de)]:0;++de;const In=de<q.length?ne[q.charAt(de)]:64;++de;const kt=de<q.length?ne[q.charAt(de)]:64;if(++de,null==Ze||null==Lt||null==In||null==kt)throw new W;Re.push(Ze<<2|Lt>>4),64!==In&&(Re.push(Lt<<4&240|In>>2),64!==kt&&Re.push(In<<6&192|kt))}return Re},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class W extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Y=function(q){const z=k(q);return $.encodeByteArray(z,!0)},ee=function(q){return Y(q).replace(/\./g,"")},L=function(q){try{return $.decodeString(q,!0)}catch(z){console.error("base64Decode failed: ",z)}return null};function G(q){return K(void 0,q)}function K(q,z){if(!(z instanceof Object))return z;switch(z.constructor){case Date:return new Date(z.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return z}for(const ne in z)!z.hasOwnProperty(ne)||!pe(ne)||(q[ne]=K(q[ne],z[ne]));return q}function pe(q){return"__proto__"!==q}const be=()=>{try{return function ge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const z=q&&L(q[1]);return z&&JSON.parse(z)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},ie=()=>{var q;return null===(q=be())||void 0===q?void 0:q.config},Ce=q=>{var z;return null===(z=be())||void 0===z?void 0:z[`_${q}`]};class X{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((z,ne)=>{this.resolve=z,this.reject=ne})}wrapCallback(z){return(ne,Re)=>{ne?this.reject(ne):this.resolve(Re),"function"==typeof z&&(this.promise.catch(()=>{}),1===z.length?z(ne):z(ne,Re))}}}function ue(q,z){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Re=z||"demo-project",de=q.iat||0,Ze=q.sub||q.user_id;if(!Ze)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ht=Object.assign({iss:`https://securetoken.google.com/${Re}`,aud:Re,iat:de,exp:de+3600,auth_time:de,sub:Ze,user_id:Ze,firebase:{sign_in_provider:"custom",identities:{}}},q);return[ee(JSON.stringify({alg:"none",type:"JWT"})),ee(JSON.stringify(ht)),""].join(".")}function _e(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function we(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_e())}function re(){var q;const z=null===(q=be())||void 0===q?void 0:q.forceEnvironment;if("node"===z)return!0;if("browser"===z)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Le(){return"object"==typeof self&&self.self===self}function $e(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function it(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ln(){const q=_e();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function $i(){return!0===l.NODE_CLIENT||!0===l.NODE_ADMIN}function Ti(){try{return"object"==typeof indexedDB}catch{return!1}}function Lr(){return new Promise((q,z)=>{try{let ne=!0;const Re="validate-browser-context-for-indexeddb-analytics-module",de=self.indexedDB.open(Re);de.onsuccess=()=>{de.result.close(),ne||self.indexedDB.deleteDatabase(Re),q(!0)},de.onupgradeneeded=()=>{ne=!1},de.onerror=()=>{var Ze;z((null===(Ze=de.error)||void 0===Ze?void 0:Ze.message)||"")}}catch(ne){z(ne)}})}function he(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class le extends Error{constructor(z,ne,Re){super(ne),this.code=z,this.customData=Re,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(z,ne,Re){this.service=z,this.serviceName=ne,this.errors=Re}create(z,...ne){const Re=ne[0]||{},de=`${this.service}/${z}`,Ze=this.errors[z],ht=Ze?function Me(q,z){return q.replace(ye,(ne,Re)=>{const de=z[Re];return null!=de?String(de):`<${Re}?>`})}(Ze,Re):"Error";return new le(de,`${this.serviceName}: ${ht} (${de}).`,Re)}}const ye=/\{\$([^}]+)}/g;function Xe(q){return JSON.parse(q)}function pt(q){return JSON.stringify(q)}const $t=function(q){let z={},ne={},Re={},de="";try{const Ze=q.split(".");z=Xe(L(Ze[0])||""),ne=Xe(L(Ze[1])||""),de=Ze[2],Re=ne.d||{},delete ne.d}catch{}return{header:z,claims:ne,data:Re,signature:de}},Kt=function(q){const ne=$t(q).claims;return!!ne&&"object"==typeof ne&&ne.hasOwnProperty("iat")},hr=function(q){const z=$t(q).claims;return"object"==typeof z&&!0===z.admin};function vt(q,z){return Object.prototype.hasOwnProperty.call(q,z)}function mn(q,z){if(Object.prototype.hasOwnProperty.call(q,z))return q[z]}function Mn(q){for(const z in q)if(Object.prototype.hasOwnProperty.call(q,z))return!1;return!0}function Vn(q,z,ne){const Re={};for(const de in q)Object.prototype.hasOwnProperty.call(q,de)&&(Re[de]=z.call(ne,q[de],de,q));return Re}function En(q,z){if(q===z)return!0;const ne=Object.keys(q),Re=Object.keys(z);for(const de of ne){if(!Re.includes(de))return!1;const Ze=q[de],ht=z[de];if(Vr(Ze)&&Vr(ht)){if(!En(Ze,ht))return!1}else if(Ze!==ht)return!1}for(const de of Re)if(!ne.includes(de))return!1;return!0}function Vr(q){return null!==q&&"object"==typeof q}function ia(q){const z=[];for(const[ne,Re]of Object.entries(q))Array.isArray(Re)?Re.forEach(de=>{z.push(encodeURIComponent(ne)+"="+encodeURIComponent(de))}):z.push(encodeURIComponent(ne)+"="+encodeURIComponent(Re));return z.length?"&"+z.join("&"):""}function lt(q){const z={};return q.replace(/^\?/,"").split("&").forEach(Re=>{if(Re){const[de,Ze]=Re.split("=");z[decodeURIComponent(de)]=decodeURIComponent(Ze)}}),z}function Pt(q){const z=q.indexOf("?");if(!z)return"";const ne=q.indexOf("#",z);return q.substring(z,ne>0?ne:void 0)}class _t{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let z=1;z<this.blockSize;++z)this.pad_[z]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(z,ne){ne||(ne=0);const Re=this.W_;if("string"==typeof z)for(let kt=0;kt<16;kt++)Re[kt]=z.charCodeAt(ne)<<24|z.charCodeAt(ne+1)<<16|z.charCodeAt(ne+2)<<8|z.charCodeAt(ne+3),ne+=4;else for(let kt=0;kt<16;kt++)Re[kt]=z[ne]<<24|z[ne+1]<<16|z[ne+2]<<8|z[ne+3],ne+=4;for(let kt=16;kt<80;kt++){const Kn=Re[kt-3]^Re[kt-8]^Re[kt-14]^Re[kt-16];Re[kt]=4294967295&(Kn<<1|Kn>>>31)}let In,Et,de=this.chain_[0],Ze=this.chain_[1],ht=this.chain_[2],Lt=this.chain_[3],Wt=this.chain_[4];for(let kt=0;kt<80;kt++){kt<40?kt<20?(In=Lt^Ze&(ht^Lt),Et=1518500249):(In=Ze^ht^Lt,Et=1859775393):kt<60?(In=Ze&ht|Lt&(Ze|ht),Et=2400959708):(In=Ze^ht^Lt,Et=3395469782);const Kn=(de<<5|de>>>27)+In+Wt+Et+Re[kt]&4294967295;Wt=Lt,Lt=ht,ht=4294967295&(Ze<<30|Ze>>>2),Ze=de,de=Kn}this.chain_[0]=this.chain_[0]+de&4294967295,this.chain_[1]=this.chain_[1]+Ze&4294967295,this.chain_[2]=this.chain_[2]+ht&4294967295,this.chain_[3]=this.chain_[3]+Lt&4294967295,this.chain_[4]=this.chain_[4]+Wt&4294967295}update(z,ne){if(null==z)return;void 0===ne&&(ne=z.length);const Re=ne-this.blockSize;let de=0;const Ze=this.buf_;let ht=this.inbuf_;for(;de<ne;){if(0===ht)for(;de<=Re;)this.compress_(z,de),de+=this.blockSize;if("string"==typeof z){for(;de<ne;)if(Ze[ht]=z.charCodeAt(de),++ht,++de,ht===this.blockSize){this.compress_(Ze),ht=0;break}}else for(;de<ne;)if(Ze[ht]=z[de],++ht,++de,ht===this.blockSize){this.compress_(Ze),ht=0;break}}this.inbuf_=ht,this.total_+=ne}digest(){const z=[];let ne=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let de=this.blockSize-1;de>=56;de--)this.buf_[de]=255&ne,ne/=256;this.compress_(this.buf_);let Re=0;for(let de=0;de<5;de++)for(let Ze=24;Ze>=0;Ze-=8)z[Re]=this.chain_[de]>>Ze&255,++Re;return z}}function Zt(q,z){const ne=new pn(q,z);return ne.subscribe.bind(ne)}class pn{constructor(z,ne){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ne,this.task.then(()=>{z(this)}).catch(Re=>{this.error(Re)})}next(z){this.forEachObserver(ne=>{ne.next(z)})}error(z){this.forEachObserver(ne=>{ne.error(z)}),this.close(z)}complete(){this.forEachObserver(z=>{z.complete()}),this.close()}subscribe(z,ne,Re){let de;if(void 0===z&&void 0===ne&&void 0===Re)throw new Error("Missing Observer.");de=function qt(q,z){if("object"!=typeof q||null===q)return!1;for(const ne of z)if(ne in q&&"function"==typeof q[ne])return!0;return!1}(z,["next","error","complete"])?z:{next:z,error:ne,complete:Re},void 0===de.next&&(de.next=zn),void 0===de.error&&(de.error=zn),void 0===de.complete&&(de.complete=zn);const Ze=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?de.error(this.finalError):de.complete()}catch{}}),this.observers.push(de),Ze}unsubscribeOne(z){void 0===this.observers||void 0===this.observers[z]||(delete this.observers[z],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(z){if(!this.finalized)for(let ne=0;ne<this.observers.length;ne++)this.sendOne(ne,z)}sendOne(z,ne){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[z])try{ne(this.observers[z])}catch(Re){typeof console<"u"&&console.error&&console.error(Re)}})}close(z){this.finalized||(this.finalized=!0,void 0!==z&&(this.finalError=z),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}const ro=function(q,z,ne,Re){let de;if(Re<z?de="at least "+z:Re>ne&&(de=0===ne?"none":"no more than "+ne),de)throw new Error(q+" failed: Was called with "+Re+(1===Re?" argument.":" arguments.")+" Expects "+de+".")};function tt(q,z){return`${q} failed: ${z} argument `}function Tt(q,z,ne,Re){if((!Re||ne)&&"function"!=typeof ne)throw new Error(tt(q,z)+"must be a valid function.")}function Hi(q,z,ne,Re){if((!Re||ne)&&("object"!=typeof ne||null===ne))throw new Error(tt(q,z)+"must be a valid context object.")}const Ai=function(q){const z=[];let ne=0;for(let Re=0;Re<q.length;Re++){let de=q.charCodeAt(Re);if(de>=55296&&de<=56319){const Ze=de-55296;Re++,N(Re<q.length,"Surrogate pair missing trail surrogate."),de=65536+(Ze<<10)+(q.charCodeAt(Re)-56320)}de<128?z[ne++]=de:de<2048?(z[ne++]=de>>6|192,z[ne++]=63&de|128):de<65536?(z[ne++]=de>>12|224,z[ne++]=de>>6&63|128,z[ne++]=63&de|128):(z[ne++]=de>>18|240,z[ne++]=de>>12&63|128,z[ne++]=de>>6&63|128,z[ne++]=63&de|128)}return z},io=function(q){let z=0;for(let ne=0;ne<q.length;ne++){const Re=q.charCodeAt(ne);Re<128?z++:Re<2048?z+=2:Re>=55296&&Re<=56319?(z+=4,ne++):z+=3}return z},us=1e3,_i=2,Un=144e5,Bn=.5;function Gi(q,z=us,ne=_i){const Re=z*Math.pow(ne,q),de=Math.round(Bn*Re*(Math.random()-.5)*2);return Math.min(Un,Re+de)}function pr(q){return q&&q._delegate?q._delegate:q}},1225:(Ve,H,R)=>{"use strict";var l=R(7705);let N=null;function S(){return N}class x{}const $=new l.nKC("DocumentToken");let W=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return(0,l.WQX)(ee)},providedIn:"platform"})}}return n})();const Y=new l.nKC("Location Initialized");let ee=(()=>{class n extends W{constructor(){super(),this._doc=(0,l.WQX)($),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(e){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=S().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,i,a){this._history.pushState(e,i,a)}replaceState(e,i,a){this._history.replaceState(e,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function L(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function G(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function K(n){return n&&"?"!==n[0]?"?"+n:n}let pe=(()=>{class n{historyGo(e){throw new Error("Not implemented")}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return(0,l.WQX)(Pe)},providedIn:"root"})}}return n})();const ge=new l.nKC("appBaseHref");let Pe=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.WQX)($).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return L(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+K(this._platformLocation.search),a=this._platformLocation.hash;return a&&e?`${i}${a}`:i}pushState(e,i,a,u){const g=this.prepareExternalUrl(a+K(u));this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,u){const g=this.prepareExternalUrl(a+K(u));this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(W),l.KVO(ge,8))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Se=(()=>{class n extends pe{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=L(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,a,u){let g=this.prepareExternalUrl(a+K(u));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,i,g)}replaceState(e,i,a,u){let g=this.prepareExternalUrl(a+K(u));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(W),l.KVO(ge,8))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})(),Te=(()=>{class n{constructor(e){this._subject=new l.bkB,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._basePath=function ie(n){if(new RegExp("^(https?:)?//").test(n)){const[,e]=n.split(/\/\/[^\/]+/);return e}return n}(G(xe(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+K(i))}normalize(e){return n.stripTrailingSlash(function Ue(n,t){if(!n||!t.startsWith(n))return t;const e=t.substring(n.length);return""===e||["/",";","?","#"].includes(e[0])?e:t}(this._basePath,xe(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",a=null){this._locationStrategy.pushState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+K(i)),a)}replaceState(e,i="",a=null){this._locationStrategy.replaceState(a,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+K(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(a=>a(e,i))}subscribe(e,i,a){return this._subject.subscribe({next:e,error:i,complete:a})}static{this.normalizeQueryParams=K}static{this.joinWithSlash=L}static{this.stripTrailingSlash=G}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(pe))}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return function be(){return new Te((0,l.KVO)(pe))}()},providedIn:"root"})}}return n})();function xe(n){return n.replace(/\/index.html$/,"")}const zi=/\s+/,sc=[];let so=(()=>{class n{constructor(e,i,a,u){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=a,this._renderer=u,this.initialClasses=sc,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(zi):sc}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(zi):e}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const i of e)this._updateState(i,!0);else if(null!=e)for(const i of Object.keys(e))this._updateState(i,!!e[i]);this._applyStateDiff()}_updateState(e,i){const a=this.stateMap.get(e);void 0!==a?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(e,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const i=e[0],a=e[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(e,i){(e=e.trim()).length>0&&e.split(zi).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(l._q3),l.rXU(l.MKu),l.rXU(l.aKT),l.rXU(l.sFG))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();class Ka{constructor(t,e,i,a){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let br=(()=>{class n{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,i,a){this._viewContainer=e,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((a,u,g)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new Ka(a.item,this._ngForOf,-1,-1),null===g?void 0:g);else if(null==g)i.remove(null===u?void 0:u);else if(null!==u){const y=i.get(u);i.move(y,g),oc(y,a)}});for(let a=0,u=i.length;a<u;a++){const y=i.get(a).context;y.index=a,y.count=u,y.ngForOf=this._ngForOf}e.forEachIdentityChange(a=>{oc(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(l.c1b),l.rXU(l.C4Q),l.rXU(l._q3))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function oc(n,t){n.context.$implicit=t.item}let vi=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new zh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Kh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Kh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(l.c1b),l.rXU(l.C4Q))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class zh{constructor(){this.$implicit=null,this.ngIf=null}}function Kh(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.Tbb)(t)}'.`)}let hs=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({})}}return n})();function el(n){return"server"===n}let Dr=(()=>{class n{static{this.\u0275prov=(0,l.jDH)({token:n,providedIn:"root",factory:()=>new Tr((0,l.KVO)($),window)})}}return n})();class Tr{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Zr(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=i.currentNode;for(;a;){const u=a.shadowRoot;if(u){const g=u.getElementById(t)||u.querySelector(`[name="${t}"]`);if(g)return g}a=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.supportsScrolling()&&(this.window.history.scrollRestoration=t)}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,a=e.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(i-u[0],a-u[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class wd extends x{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class da extends wd{static makeCurrent(){!function k(n){N||(N=n)}(new da)}onAndCancel(t,e,i){return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function tf(){return ha=ha||document.querySelector("base"),ha?ha.getAttribute("href"):null}();return null==e?null:function cg(n){Oc=Oc||document.createElement("a"),Oc.setAttribute("href",n);const t=Oc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){ha=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[a,u]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(a.trim()===t)return decodeURIComponent(u)}return null}(document.cookie,t)}}let Oc,ha=null,Id=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();const cl=new l.nKC("EventManagerPlugins");let ug=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(a=>{a.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,i,a){return this._findPluginFor(i).addEventListener(e,i,a)}getZone(){return this._zone}_findPluginFor(e){let i=this._eventNameToPlugin.get(e);if(i)return i;if(i=this._plugins.find(u=>u.supports(e)),!i)throw new l.wOt(5101,!1);return this._eventNameToPlugin.set(e,i),i}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(cl),l.KVO(l.SKi))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();class Dd{constructor(t){this._doc=t}}const po="ng-app-id";let Td=(()=>{class n{constructor(e,i,a,u={}){this.doc=e,this.appId=i,this.nonce=a,this.platformId=u,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=el(u),this.resetHostNodes()}addStyles(e){for(const i of e)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(e){for(const i of e)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(i=>i.remove()),e.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const i of this.getAllStyles())this.addStyleToHost(e,i)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const i of this.hostNodes)this.addStyleToHost(i,e)}onStyleRemoved(e){const i=this.styleRef;i.get(e)?.elements?.forEach(a=>a.remove()),i.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${po}="${this.appId}"]`);if(e?.length){const i=new Map;return e.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(e,i){const a=this.styleRef;if(a.has(e)){const u=a.get(e);return u.usage+=i,u.usage}return a.set(e,{usage:i,elements:[]}),i}getStyleElement(e,i){const a=this.styleNodesInDOM,u=a?.get(i);if(u?.parentNode===e)return a.delete(i),u.removeAttribute(po),u;{const g=this.doc.createElement("style");return this.nonce&&g.setAttribute("nonce",this.nonce),g.textContent=i,this.platformIsServer&&g.setAttribute(po,this.appId),g}}addStyleToHost(e,i){const a=this.getStyleElement(e,i);e.appendChild(a);const u=this.styleRef,g=u.get(i)?.elements;g?g.push(a):u.set(i,{elements:[a],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO($),l.KVO(l.sZ2),l.KVO(l.BIS,8),l.KVO(l.Agw))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();const Ps={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Zi=/%COMP%/g,Ad=new l.nKC("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Ns(n,t){return t.map(e=>e.replace(Zi,n))}let zt=(()=>{class n{constructor(e,i,a,u,g,y,w,A=null){this.eventManager=e,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=u,this.doc=g,this.platformId=y,this.ngZone=w,this.nonce=A,this.rendererByCompId=new Map,this.platformIsServer=el(y),this.defaultRenderer=new go(e,g,w,this.platformIsServer)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===l.gXe.ShadowDom&&(i={...i,encapsulation:l.gXe.Emulated});const a=this.getOrCreateRenderer(e,i);return a instanceof jr?a.applyToHost(e):a instanceof Ni&&a.applyStyles(),a}getOrCreateRenderer(e,i){const a=this.rendererByCompId;let u=a.get(i.id);if(!u){const g=this.doc,y=this.ngZone,w=this.eventManager,A=this.sharedStylesHost,F=this.removeStylesOnCompDestroy,V=this.platformIsServer;switch(i.encapsulation){case l.gXe.Emulated:u=new jr(w,A,i,this.appId,F,g,y,V);break;case l.gXe.ShadowDom:return new Fc(w,A,e,i,g,y,this.nonce,V);default:u=new Ni(w,A,i,F,g,y,V)}a.set(i.id,u)}return u}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(ug),l.KVO(Td),l.KVO(l.sZ2),l.KVO(Ad),l.KVO($),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(l.BIS))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();class go{constructor(t,e,i,a){this.eventManager=t,this.doc=e,this.ngZone=i,this.platformIsServer=a,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Ps[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Md(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Md(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?this.doc.querySelector(t):t;if(!i)throw new l.wOt(-5104,!1);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,a){if(a){e=a+":"+e;const u=Ps[a];u?t.setAttributeNS(u,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const a=Ps[i];a?t.removeAttributeNS(a,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,a){a&(l.czy.DashCase|l.czy.Important)?t.style.setProperty(e,i,a&l.czy.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&l.czy.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){if("string"==typeof t&&!(t=S().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(i))}decoratePreventDefault(t){return e=>{if("__ngUnwrap__"===e)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))&&e.preventDefault()}}}function Md(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Fc extends go{constructor(t,e,i,a,u,g,y,w){super(t,u,g,w),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const A=Ns(a.id,a.styles);for(const F of A){const V=document.createElement("style");y&&V.setAttribute("nonce",y),V.textContent=F,this.shadowRoot.appendChild(V)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ni extends go{constructor(t,e,i,a,u,g,y,w){super(t,u,g,y),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=a,this.styles=w?Ns(w,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class jr extends Ni{constructor(t,e,i,a,u,g,y,w){const A=a+"-"+i.id;super(t,e,i,u,g,y,w,A),this.contentAttr=function Oi(n){return"_ngcontent-%COMP%".replace(Zi,n)}(A),this.hostAttr=function Sd(n){return"_nghost-%COMP%".replace(Zi,n)}(A)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}let mo=(()=>{class n extends Dd{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,a){return e.addEventListener(i,a,!1),()=>this.removeEventListener(e,i,a)}removeEventListener(e,i,a){return e.removeEventListener(i,a)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO($))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();const nf=["alt","control","meta","shift"],xs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fs={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ul=(()=>{class n extends Dd{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,a){const u=n.parseEventName(i),g=n.eventCallback(u.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(e,u.domEventName,g))}static parseEventName(e){const i=e.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const u=n._normalizeKey(i.pop());let g="",y=i.indexOf("code");if(y>-1&&(i.splice(y,1),g="code."),nf.forEach(A=>{const F=i.indexOf(A);F>-1&&(i.splice(F,1),g+=A+".")}),g+=u,0!=i.length||0===u.length)return null;const w={};return w.domEventName=a,w.fullKey=g,w}static matchEventFullKeyCode(e,i){let a=xs[e.key]||e.key,u="";return i.indexOf("code.")>-1&&(a=e.code,u="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),nf.forEach(g=>{g!==a&&(0,Fs[g])(e)&&(u+=g+".")}),u+=a,u===i)}static eventCallback(e,i,a){return u=>{n.matchEventFullKeyCode(u,e)&&a.runGuarded(()=>i(u))}}static _normalizeKey(e){return"esc"===e?"escape":e}static{this.\u0275fac=function(i){return new(i||n)(l.KVO($))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();const Hn=(0,l.oH4)(l.fpN,"browser",[{provide:l.Agw,useValue:"browser"},{provide:l.PLl,useValue:function Vc(){da.makeCurrent()},multi:!0},{provide:$,useFactory:function dl(){return(0,l.TL$)(document),document},deps:[]}]),Rd=new l.nKC(""),ar=[{provide:l.e01,useClass:class bd{addToWindow(t){l.JZv.getAngularTestability=(i,a=!0)=>{const u=t.findTestabilityInTree(i,a);if(null==u)throw new l.wOt(5103,!1);return u},l.JZv.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.JZv.getAllAngularRootElements=()=>t.getAllRootElements(),l.JZv.frameworkStabilizers||(l.JZv.frameworkStabilizers=[]),l.JZv.frameworkStabilizers.push(i=>{const a=l.JZv.getAllAngularTestabilities();let u=a.length,g=!1;const y=function(w){g=g||w,u--,0==u&&i(g)};a.forEach(w=>{w.whenStable(y)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?S().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:l.WHO,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]},{provide:l.NYb,useClass:l.NYb,deps:[l.SKi,l.giA,l.e01]}],_o=[{provide:l.H8p,useValue:"root"},{provide:l.zcH,useFactory:function gt(){return new l.zcH},deps:[]},{provide:cl,useClass:mo,multi:!0,deps:[$,l.SKi,l.Agw]},{provide:cl,useClass:ul,multi:!0,deps:[$]},zt,Td,ug,{provide:l._9s,useExisting:zt},{provide:class Ci{},useClass:Id,deps:[]},[]];let es=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.sZ2,useValue:e.appId}]}}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(Rd,12))}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({providers:[..._o,...ar],imports:[hs,l.Hbi]})}}return n})(),fa=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(i){return new(i||n)(l.KVO($))}}static{this.\u0275prov=l.jDH({token:n,factory:function(i){let a=null;return a=i?new i:function Bc(){return new fa((0,l.KVO)($))}(),a},providedIn:"root"})}}return n})();typeof window<"u"&&window;class Ls{}class Kc{}const Rr="*";function Vs(n,t=null){return{type:2,steps:n,options:t}}function yo(n){return{type:6,styles:n,offset:null}}class ns{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Eo{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,a=0;const u=this.players.length;0==u?queueMicrotask(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++e==u&&this._onFinish()}),g.onDestroy(()=>{++i==u&&this._onDestroy()}),g.onStart(()=>{++a==u&&this._onStart()})}),this.totalTime=this.players.reduce((g,y)=>Math.max(g,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const a=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(a)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}function ml(n){return new l.wOt(3e3,!1)}function bi(n){switch(n.length){case 0:return new ns;case 1:return n[0];default:return new Eo(n)}}function eu(n,t,e=new Map,i=new Map){const a=[],u=[];let g=-1,y=null;if(t.forEach(w=>{const A=w.get("offset"),F=A==g,V=F&&y||new Map;w.forEach((Z,me)=>{let De=me,je=Z;if("offset"!==me)switch(De=n.normalizePropertyName(De,a),je){case"!":je=e.get(me);break;case Rr:je=i.get(me);break;default:je=n.normalizeStyleValue(me,De,je,a)}V.set(De,je)}),F||u.push(V),y=V,g=A}),a.length)throw function vg(n){return new l.wOt(3502,!1)}();return u}function ba(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&Fd(e,"start",n)));break;case"done":n.onDone(()=>i(e&&Fd(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&Fd(e,"destroy",n)))}}function Fd(n,t,e){const u=Ao(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),g=n._data;return null!=g&&(u._data=g),u}function Ao(n,t,e,i,a="",u=0,g){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:a,totalTime:u,disabled:!!g}}function Nn(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function is(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}const tu=(()=>typeof document>"u"?null:document.documentElement)();function Tl(n){const t=n.parentNode||n.host||null;return t===tu?null:t}let $r=null,kn=!1;function nu(n,t){for(;t;){if(t===n)return!0;t=Tl(t)}return!1}function ru(n,t,e){if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]}let Mo=(()=>{class n{validateStyleProperty(e){return function Us(n){$r||($r=function Ld(){return typeof document<"u"?document.body:null}()||{},kn=!!$r.style&&"WebkitAppearance"in $r.style);let t=!0;return $r.style&&!function So(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in $r.style,!t&&kn&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in $r.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return nu(e,i)}getParentElement(e){return Tl(e)}query(e,i,a){return ru(e,i,a)}computeStyle(e,i,a){return a||""}animate(e,i,a,u,g,y=[],w){return new ns(a,u)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})(),C=(()=>{class n{static{this.NOOP=new Mo}}return n})();const I=1e3,J="ng-enter",oe="ng-leave",Ee="ng-trigger",He=".ng-trigger",Ge="ng-animating",nt=".ng-animating";function ft(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:yt(parseFloat(t[1]),t[2])}function yt(n,t){return"s"===t?n*I:n}function Pr(n,t,e){return n.hasOwnProperty("duration")?n:function dn(n,t,e){let a,u=0,g="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return t.push(ml()),{duration:0,delay:0,easing:""};a=yt(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(u=yt(parseFloat(w),y[4]));const A=y[5];A&&(g=A)}else a=n;if(!e){let y=!1,w=t.length;a<0&&(t.push(function ya(){return new l.wOt(3100,!1)}()),y=!0),u<0&&(t.push(function _l(){return new l.wOt(3101,!1)}()),y=!0),y&&t.splice(w,0,ml())}return{duration:a,delay:u,easing:g}}(n,t,e)}function xi(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Al(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function An(n,t=new Map,e){if(e)for(let[i,a]of e)t.set(i,a);for(let[i,a]of n)t.set(i,a);return t}function ri(n,t,e){t.forEach((i,a)=>{const u=wg(a);e&&!e.has(a)&&e.set(a,n.style[u]),n.style[u]=i})}function Gn(n,t){t.forEach((e,i)=>{const a=wg(i);n.style[a]=""})}function ys(n){return Array.isArray(n)?1==n.length?n[0]:Vs(n):n}const Ro=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ia(n){let t=[];if("string"==typeof n){let e;for(;e=Ro.exec(n);)t.push(e[1]);Ro.lastIndex=0}return t}function Po(n,t,e){const i=n.toString(),a=i.replace(Ro,(u,g)=>{let y=t[g];return null==y&&(e.push(function kd(n){return new l.wOt(3003,!1)}()),y=""),y.toString()});return a==i?n:a}function Ud(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const Cg=/-+([a-z0-9])/g;function wg(n){return n.replace(Cg,(...t)=>t[1].toUpperCase())}function Li(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function yl(n){return new l.wOt(3004,!1)}()}}function Bd(n,t){return window.getComputedStyle(n)[t]}const Rl="*";function Pl(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function P_(n,t,e){if(":"==n[0]){const w=function jd(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Jc(n){return new l.wOt(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof w)return void t.push(w);n=w}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function va(n){return new l.wOt(3015,!1)}()),t;const a=i[1],u=i[2],g=i[3];t.push(Ig(a,g));"<"==u[0]&&!(a==Rl&&g==Rl)&&t.push(Ig(g,a))}(i,e,t)):e.push(n),e}const Ol=new Set(["true","1"]),Da=new Set(["false","0"]);function Ig(n,t){const e=Ol.has(n)||Da.has(n),i=Ol.has(t)||Da.has(t);return(a,u)=>{let g=n==Rl||n==a,y=t==Rl||t==u;return!g&&e&&"boolean"==typeof a&&(g=a?Ol.has(n):Da.has(n)),!y&&i&&"boolean"==typeof u&&(y=u?Ol.has(t):Da.has(t)),g&&y}}const _f=new RegExp("s*:selfs*,?","g");function Nl(n,t,e,i){return new O_(n).build(t,e,i)}class O_{constructor(t){this._driver=t}build(t,e,i){const a=new Aa(e);return this._resetContextStyleTimingState(a),Li(this,ys(t),a)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,a=e.depCount=0;const u=[],g=[];return"@"==t.name.charAt(0)&&e.errors.push(function Qc(){return new l.wOt(3006,!1)}()),t.definitions.forEach(y=>{if(this._resetContextStyleTimingState(e),0==y.type){const w=y,A=w.name;A.toString().split(/\s*,\s*/).forEach(F=>{w.name=F,u.push(this.visitState(w,e))}),w.name=A}else if(1==y.type){const w=this.visitTransition(y,e);i+=w.queryCount,a+=w.depCount,g.push(w)}else e.errors.push(function rs(){return new l.wOt(3007,!1)}())}),{type:7,name:t.name,states:u,transitions:g,queryCount:i,depCount:a,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),a=t.options&&t.options.params||null;if(i.containsDynamicStyles){const u=new Set,g=a||{};i.styles.forEach(y=>{y instanceof Map&&y.forEach(w=>{Ia(w).forEach(A=>{g.hasOwnProperty(A)||u.add(A)})})}),u.size&&(Ud(u.values()),e.errors.push(function El(n,t){return new l.wOt(3008,!1)}()))}return{type:0,name:t.name,style:i,options:a?{params:a}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Li(this,ys(t.animation),e);return{type:1,matchers:Pl(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:vs(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Li(this,i,e)),options:vs(t.options)}}visitGroup(t,e){const i=e.currentTime;let a=0;const u=t.steps.map(g=>{e.currentTime=i;const y=Li(this,g,e);return a=Math.max(a,e.currentTime),y});return e.currentTime=a,{type:3,steps:u,options:vs(t.options)}}visitAnimate(t,e){const i=function iE(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return su(Pr(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(u=>"{"==u.charAt(0)&&"{"==u.charAt(1))){const u=su(0,0,"");return u.dynamic=!0,u.strValue=e,u}const a=Pr(e,t);return su(a.duration,a.delay,a.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let a,u=t.styles?t.styles:yo({});if(5==u.type)a=this.visitKeyframes(u,e);else{let g=t.styles,y=!1;if(!g){y=!0;const A={};i.easing&&(A.easing=i.easing),g=yo(A)}e.currentTime+=i.duration+i.delay;const w=this.visitStyle(g,e);w.isEmptyStep=y,a=w}return e.currentAnimateTimings=null,{type:4,timings:i,style:a,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],a=Array.isArray(t.styles)?t.styles:[t.styles];for(let y of a)"string"==typeof y?y===Rr?i.push(y):e.errors.push(new l.wOt(3002,!1)):i.push(Al(y));let u=!1,g=null;return i.forEach(y=>{if(y instanceof Map&&(y.has("easing")&&(g=y.get("easing"),y.delete("easing")),!u))for(let w of y.values())if(w.toString().indexOf("{{")>=0){u=!0;break}}),{type:6,styles:i,easing:g,offset:t.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let a=e.currentTime,u=e.currentTime;i&&u>0&&(u-=i.duration+i.delay),t.styles.forEach(g=>{"string"!=typeof g&&g.forEach((y,w)=>{const A=e.collectedStyles.get(e.currentQuerySelector),F=A.get(w);let V=!0;F&&(u!=a&&u>=F.startTime&&a<=F.endTime&&(e.errors.push(function Cl(n,t,e,i,a){return new l.wOt(3010,!1)}()),V=!1),u=F.startTime),V&&A.set(w,{startTime:u,endTime:a}),e.options&&function R_(n,t,e){const i=t.params||{},a=Ia(n);a.length&&a.forEach(u=>{i.hasOwnProperty(u)||e.push(function Co(n){return new l.wOt(3001,!1)}())})}(y,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function ff(){return new l.wOt(3011,!1)}()),i;let u=0;const g=[];let y=!1,w=!1,A=0;const F=t.steps.map(It=>{const Mt=this._makeStyleAst(It,e);let Jt=null!=Mt.offset?Mt.offset:function k_(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Mt.styles),Rt=0;return null!=Jt&&(u++,Rt=Mt.offset=Jt),w=w||Rt<0||Rt>1,y=y||Rt<A,A=Rt,g.push(Rt),Mt});w&&e.errors.push(function _g(){return new l.wOt(3012,!1)}()),y&&e.errors.push(function Xc(){return new l.wOt(3200,!1)}());const V=t.steps.length;let Z=0;u>0&&u<V?e.errors.push(function yg(){return new l.wOt(3202,!1)}()):0==u&&(Z=1/(V-1));const me=V-1,De=e.currentTime,je=e.currentAnimateTimings,at=je.duration;return F.forEach((It,Mt)=>{const Jt=Z>0?Mt==me?1:Z*Mt:g[Mt],Rt=Jt*at;e.currentTime=De+je.delay+Rt,je.duration=Rt,this._validateStyleAst(It,e),It.offset=Jt,i.styles.push(It)}),i}visitReference(t,e){return{type:8,animation:Li(this,ys(t.animation),e),options:vs(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:vs(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:vs(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,a=t.options||{};e.queryCount++,e.currentQuery=t;const[u,g]=function N_(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(_f,"")),n=n.replace(/@\*/g,He).replace(/@\w+/g,e=>He+"-"+e.slice(1)).replace(/:animating/g,nt),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+u:u,Nn(e.collectedStyles,e.currentQuerySelector,new Map);const y=Li(this,ys(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:u,limit:a.limit||0,optional:!!a.optional,includeSelf:g,animation:y,originalSelector:t.selector,options:vs(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function xd(){return new l.wOt(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:Pr(t.timings,e.errors,!0);return{type:12,animation:Li(this,ys(t.animation),e),timings:i,options:null}}}class Aa{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vs(n){return n?(n=xi(n)).params&&(n.params=function Ta(n){return n?xi(n):null}(n.params)):n={},n}function su(n,t,e){return{duration:n,delay:t,easing:e}}function Dg(n,t,e,i,a,u,g=null,y=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:a,delay:u,totalTime:a+u,easing:g,subTimeline:y}}class $d{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const Gd=new RegExp(":enter","g"),Ag=new RegExp(":leave","g");function Wd(n,t,e,i,a,u=new Map,g=new Map,y,w,A=[]){return(new sE).buildKeyframes(n,t,e,i,a,u,g,y,w,A)}class sE{buildKeyframes(t,e,i,a,u,g,y,w,A,F=[]){A=A||new $d;const V=new Sg(t,e,A,a,u,F,[]);V.options=w;const Z=w.delay?ft(w.delay):0;V.currentTimeline.delayNextStep(Z),V.currentTimeline.setStyles([g],null,V.errors,w),Li(this,i,V);const me=V.timelines.filter(De=>De.containsAnimation());if(me.length&&y.size){let De;for(let je=me.length-1;je>=0;je--){const at=me[je];if(at.element===e){De=at;break}}De&&!De.allowOnlyTimelineStyles()&&De.setStyles([y],null,V.errors,w)}return me.length?me.map(De=>De.buildKeyframes()):[Dg(e,[],[],[],0,Z,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const a=e.createSubContext(t.options),u=e.currentTimeline.currentTime,g=this._visitSubInstructions(i,a,a.options);u!=g&&e.transformIntoNewTimeline(g)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,i),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,i){for(const a of t){const u=a?.delay;if(u){const g="number"==typeof u?u:ft(Po(u,a?.params??{},e.errors));i.delayNextStep(g)}}}_visitSubInstructions(t,e,i){let u=e.currentTimeline.currentTime;const g=null!=i.duration?ft(i.duration):null,y=null!=i.delay?ft(i.delay):null;return 0!==g&&t.forEach(w=>{const A=e.appendInstructionToTimeline(w,g,y);u=Math.max(u,A.duration+A.delay)}),u}visitReference(t,e){e.updateOptions(t.options,!0),Li(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let a=e;const u=t.options;if(u&&(u.params||u.delay)&&(a=e.createSubContext(u),a.transformIntoNewTimeline(),null!=u.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=ou);const g=ft(u.delay);a.delayNextStep(g)}t.steps.length&&(t.steps.forEach(g=>Li(this,g,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>i&&a.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let a=e.currentTimeline.currentTime;const u=t.options&&t.options.delay?ft(t.options.delay):0;t.steps.forEach(g=>{const y=e.createSubContext(t.options);u&&y.delayNextStep(u),Li(this,g,y),a=Math.max(a,y.currentTimeline.currentTime),i.push(y.currentTimeline)}),i.forEach(g=>e.currentTimeline.mergeTimelineCollectedStyles(g)),e.transformIntoNewTimeline(a),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return Pr(e.params?Po(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),a=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),a.snapshotCurrentStyles());const u=t.style;5==u.type?this.visitKeyframes(u,e):(e.incrementTime(i.duration),this.visitStyle(u,e),a.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,a=e.currentAnimateTimings;!a&&i.hasCurrentStyleProperties()&&i.forwardFrame();const u=a&&a.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(u):i.setStyles(t.styles,u,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,a=e.currentTimeline.duration,u=i.duration,y=e.createSubContext().currentTimeline;y.easing=i.easing,t.styles.forEach(w=>{y.forwardTime((w.offset||0)*u),y.setStyles(w.styles,w.easing,e.errors,e.options),y.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(y),e.transformIntoNewTimeline(a+u),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,a=t.options||{},u=a.delay?ft(a.delay):0;u&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=ou);let g=i;const y=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!a.optional,e.errors);e.currentQueryTotal=y.length;let w=null;y.forEach((A,F)=>{e.currentQueryIndex=F;const V=e.createSubContext(t.options,A);u&&V.delayNextStep(u),A===e.element&&(w=V.currentTimeline),Li(this,t.animation,V),V.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,V.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(g),w&&(e.currentTimeline.mergeTimelineCollectedStyles(w),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,a=e.currentTimeline,u=t.timings,g=Math.abs(u.duration),y=g*(e.currentQueryTotal-1);let w=g*e.currentQueryIndex;switch(u.duration<0?"reverse":u.easing){case"reverse":w=y-w;break;case"full":w=i.currentStaggerTime}const F=e.currentTimeline;w&&F.delayNextStep(w);const V=F.currentTime;Li(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=a.currentTime-V+(a.startTime-i.currentTimeline.startTime)}}const ou={};class Sg{constructor(t,e,i,a,u,g,y,w){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=a,this._leaveClassName=u,this.errors=g,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ou,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new Oo(this._driver,e,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let a=this.options;null!=i.duration&&(a.duration=ft(i.duration)),null!=i.delay&&(a.delay=ft(i.delay));const u=i.params;if(u){let g=a.params;g||(g=this.options.params={}),Object.keys(u).forEach(y=>{(!e||!g.hasOwnProperty(y))&&(g[y]=Po(u[y],g,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(a=>{i[a]=e[a]})}}return t}createSubContext(t=null,e,i){const a=e||this.element,u=new Sg(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,i||0));return u.previousNode=this.previousNode,u.currentAnimateTimings=this.currentAnimateTimings,u.options=this._copyOptions(),u.updateOptions(t),u.currentQueryIndex=this.currentQueryIndex,u.currentQueryTotal=this.currentQueryTotal,u.parentContext=this,this.subContextCount++,u}transformIntoNewTimeline(t){return this.previousNode=ou,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const a={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},u=new F_(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,a,t.stretchStartingKeyframe);return this.timelines.push(u),a}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,a,u,g){let y=[];if(a&&y.push(this.element),t.length>0){t=(t=t.replace(Gd,"."+this._enterClassName)).replace(Ag,"."+this._leaveClassName);let A=this._driver.query(this.element,t,1!=i);0!==i&&(A=i<0?A.slice(A.length+i,A.length):A.slice(0,i)),y.push(...A)}return!u&&0==y.length&&g.push(function wl(n){return new l.wOt(3014,!1)}()),y}}class Oo{constructor(t,e,i,a){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=a,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new Oo(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Rr),this._currentKeyframe.set(e,Rr);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,a){e&&this._previousKeyframe.set("easing",e);const u=a&&a.params||{},g=function oE(n,t){const e=new Map;let i;return n.forEach(a=>{if("*"===a){i=i||t.keys();for(let u of i)e.set(u,Rr)}else An(a,e)}),e}(t,this._globalTimelineStyles);for(let[y,w]of g){const A=Po(w,u,i);this._pendingStyles.set(y,A),this._localTimelineStyles.has(y)||this._backFill.set(y,this._globalTimelineStyles.get(y)??Rr),this._updateStyle(y,A)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const a=this._styleSummary.get(i);(!a||e.time>a.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,w)=>{const A=An(y,new Map,this._backFill);A.forEach((F,V)=>{"!"===F?t.add(V):F===Rr&&e.add(V)}),i||A.set("offset",w/this.duration),a.push(A)});const u=t.size?Ud(t.values()):[],g=e.size?Ud(e.values()):[];if(i){const y=a[0],w=new Map(y);y.set("offset",0),w.set("offset",1),a=[y,w]}return Dg(this.element,a,u,g,this.duration,this.startTime,this.easing,!1)}}class F_ extends Oo{constructor(t,e,i,a,u,g,y=!1){super(t,e,g.delay),this.keyframes=i,this.preStyleProps=a,this.postStyleProps=u,this._stretchStartingKeyframe=y,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:a}=this.timings;if(this._stretchStartingKeyframe&&e){const u=[],g=i+e,y=e/g,w=An(t[0]);w.set("offset",0),u.push(w);const A=An(t[0]);A.set("offset",au(y)),u.push(A);const F=t.length-1;for(let V=1;V<=F;V++){let Z=An(t[V]);const me=Z.get("offset");Z.set("offset",au((e+me*i)/g)),u.push(Z)}i=g,e=0,a="",t=u}return Dg(this.element,t,this.preStyleProps,this.postStyleProps,i,e,a,!0)}}function au(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class lu{}const L_=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Mg extends lu{normalizePropertyName(t,e){return wg(t)}normalizeStyleValue(t,e,i,a){let u="";const g=i.toString().trim();if(L_.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)u="px";else{const y=i.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(function vl(n,t){return new l.wOt(3005,!1)}())}return g+u}}function vf(n,t,e,i,a,u,g,y,w,A,F,V,Z){return{type:0,element:n,triggerName:t,isRemovalTransition:a,fromState:e,fromStyles:u,toState:i,toStyles:g,timelines:y,queriedElements:w,preStyleProps:A,postStyleProps:F,totalTime:V,errors:Z}}const Ef={};class Rg{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,a){return function zd(n,t,e,i,a){return n.some(u=>u(t,e,i,a))}(this.ast.matchers,t,e,i,a)}buildStyles(t,e,i){let a=this._stateStyles.get("*");return void 0!==t&&(a=this._stateStyles.get(t?.toString())||a),a?a.buildStyles(e,i):new Map}build(t,e,i,a,u,g,y,w,A,F){const V=[],Z=this.ast.options&&this.ast.options.params||Ef,De=this.buildStyles(i,y&&y.params||Ef,V),je=w&&w.params||Ef,at=this.buildStyles(a,je,V),It=new Set,Mt=new Map,Jt=new Map,Rt="void"===a,tr={params:ii(je,Z),delay:this.ast.options?.delay},gi=F?[]:Wd(t,e,this.ast.animation,u,g,De,at,tr,A,V);let ls=0;if(gi.forEach(hd=>{ls=Math.max(hd.duration+hd.delay,ls)}),V.length)return vf(e,this._triggerName,i,a,Rt,De,at,[],[],Mt,Jt,ls,V);gi.forEach(hd=>{const fd=hd.element,kR=Nn(Mt,fd,new Set);hd.preStyleProps.forEach(eg=>kR.add(eg));const eE=Nn(Jt,fd,new Set);hd.postStyleProps.forEach(eg=>eE.add(eg)),fd!==e&&It.add(fd)});const dd=Ud(It.values());return vf(e,this._triggerName,i,a,Rt,De,at,gi,dd,Mt,Jt,ls)}}function ii(n,t){const e=xi(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class kl{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,a=xi(this.defaultParams);return Object.keys(t).forEach(u=>{const g=t[u];null!==g&&(a[u]=g)}),this.styles.styles.forEach(u=>{"string"!=typeof u&&u.forEach((g,y)=>{g&&(g=Po(g,a,e));const w=this.normalizer.normalizePropertyName(y,e);g=this.normalizer.normalizeStyleValue(y,w,g,e),i.set(y,g)})}),i}}class xl{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(a=>{this.states.set(a.name,new kl(a.style,a.options&&a.options.params||{},i))}),uu(this.states,"true","1"),uu(this.states,"false","0"),e.transitions.forEach(a=>{this.transitionFactories.push(new Rg(t,a,this.states))}),this.fallbackTransition=function Kd(n,t,e){return new Rg(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,y)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,a){return this.transitionFactories.find(g=>g.match(t,e,i,a))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function uu(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const qd=new $d;class du{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],u=Nl(this._driver,e,i,[]);if(i.length)throw function pf(n){return new l.wOt(3503,!1)}();this._animations.set(t,u)}_buildPlayer(t,e,i){const a=t.element,u=eu(this._normalizer,t.keyframes,e,i);return this._driver.animate(a,u,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const a=[],u=this._animations.get(t);let g;const y=new Map;if(u?(g=Wd(this._driver,e,u,J,oe,new Map,new Map,i,qd,a),g.forEach(F=>{const V=Nn(y,F.element,new Map);F.postStyleProps.forEach(Z=>V.set(Z,null))})):(a.push(function bl(){return new l.wOt(3300,!1)}()),g=[]),a.length)throw function gf(n){return new l.wOt(3504,!1)}();y.forEach((F,V)=>{F.forEach((Z,me)=>{F.set(me,this._driver.computeStyle(V,me,Rr))})});const A=bi(g.map(F=>{const V=y.get(F.element);return this._buildPlayer(F,new Map,V)}));return this._playersById.set(t,A),A.onDestroy(()=>this.destroy(t)),this.players.push(A),A}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function ti(n){return new l.wOt(3301,!1)}();return e}listen(t,e,i,a){const u=Ao(e,"","","");return ba(this._getPlayer(t),i,u,a),()=>{}}command(t,e,i,a){if("register"==i)return void this.register(t,a[0]);if("create"==i)return void this.create(t,e,a[0]||{});const u=this._getPlayer(t);switch(i){case"play":u.play();break;case"pause":u.pause();break;case"reset":u.reset();break;case"restart":u.restart();break;case"finish":u.finish();break;case"init":u.init();break;case"setPosition":u.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(t)}}}const hu="ng-animate-queued",Qd="ng-animate-disabled",Og=[],Hr={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},bf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},si="__ng_removed";class If{get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function pu(n){return n??null}(i?t.value:t),i){const u=xi(t);delete u.value,this.options=u}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(a=>{null==i[a]&&(i[a]=e[a])})}}}const Ii="void",Wn=new If(Ii);class Yd{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,p(e,this._hostClassName)}listen(t,e,i,a){if(!this._triggers.has(e))throw function Il(n,t){return new l.wOt(3302,!1)}();if(null==i||0==i.length)throw function bo(n){return new l.wOt(3303,!1)}();if(!function Ng(n){return"start"==n||"done"==n}(i))throw function Io(n,t){return new l.wOt(3400,!1)}();const u=Nn(this._elementListeners,t,[]),g={name:e,phase:i,callback:a};u.push(g);const y=Nn(this._engine.statesByElement,t,new Map);return y.has(e)||(p(t,Ee),p(t,Ee+"-"+e),y.set(e,Wn)),()=>{this._engine.afterFlush(()=>{const w=u.indexOf(g);w>=0&&u.splice(w,1),this._triggers.has(e)||y.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Do(n){return new l.wOt(3401,!1)}();return e}trigger(t,e,i,a=!0){const u=this._getTrigger(e),g=new fu(this.id,e,t);let y=this._engine.statesByElement.get(t);y||(p(t,Ee),p(t,Ee+"-"+e),this._engine.statesByElement.set(t,y=new Map));let w=y.get(e);const A=new If(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&w&&A.absorbOptions(w.options),y.set(e,A),w||(w=Wn),A.value!==Ii&&w.value===A.value){if(!function se(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let a=0;a<e.length;a++){const u=e[a];if(!t.hasOwnProperty(u)||n[u]!==t[u])return!1}return!0}(w.params,A.params)){const je=[],at=u.matchStyles(w.value,w.params,je),It=u.matchStyles(A.value,A.params,je);je.length?this._engine.reportError(je):this._engine.afterFlush(()=>{Gn(t,at),ri(t,It)})}return}const Z=Nn(this._engine.playersByElement,t,[]);Z.forEach(je=>{je.namespaceId==this.id&&je.triggerName==e&&je.queued&&je.destroy()});let me=u.matchTransition(w.value,A.value,t,A.params),De=!1;if(!me){if(!a)return;me=u.fallbackTransition,De=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:me,fromState:w,toState:A,player:g,isFallbackTransition:De}),De||(p(t,hu),g.onStart(()=>{v(t,hu)})),g.onDone(()=>{let je=this.players.indexOf(g);je>=0&&this.players.splice(je,1);const at=this._engine.playersByElement.get(t);if(at){let It=at.indexOf(g);It>=0&&at.splice(It,1)}}),this.players.push(g),Z.push(g),g}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(a=>a.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,He,!0);i.forEach(a=>{if(a[si])return;const u=this._engine.fetchNamespacesByElement(a);u.size?u.forEach(g=>g.triggerLeaveAnimation(a,e,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(t,e,i,a){const u=this._engine.statesByElement.get(t),g=new Map;if(u){const y=[];if(u.forEach((w,A)=>{if(g.set(A,w.value),this._triggers.has(A)){const F=this.trigger(t,A,Ii,a);F&&y.push(F)}}),y.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,g),i&&bi(y).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const a=new Set;e.forEach(u=>{const g=u.name;if(a.has(g))return;a.add(g);const w=this._triggers.get(g).fallbackTransition,A=i.get(g)||Wn,F=new If(Ii),V=new fu(this.id,g,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:g,transition:w,fromState:A,toState:F,player:V,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let a=!1;if(i.totalAnimations){const u=i.players.length?i.playersByQueriedElement.get(t):[];if(u&&u.length)a=!0;else{let g=t;for(;g=g.parentNode;)if(i.statesByElement.get(g)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(t),a)i.markElementAsRemoved(this.id,t,!1,e);else{const u=t[si];(!u||u===Hr)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){p(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const a=i.player;if(a.destroyed)return;const u=i.element,g=this._elementListeners.get(u);g&&g.forEach(y=>{if(y.name==i.triggerName){const w=Ao(u,i.triggerName,i.fromState.value,i.toState.value);w._data=t,ba(i.player,y.phase,w,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):e.push(i)}),this._queue=[],e.sort((i,a)=>{const u=i.transition.ast.depCount,g=a.transition.ast.depCount;return 0==u||0==g?u-g:this._engine.driver.containsElement(i.element,a.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}}class Df{_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,u)=>{}}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new Yd(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,a=this.namespacesByHostElement;if(i.length-1>=0){let g=!1,y=this.driver.getParentElement(e);for(;y;){const w=a.get(y);if(w){const A=i.indexOf(w);i.splice(A+1,0,t),g=!0;break}y=this.driver.getParentElement(y)}g||i.unshift(t)}else i.push(t);return a.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let a=this._namespaceLookup[t];a&&a.register(e,i)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(t);this.namespacesByHostElement.delete(i.hostElement);const a=this._namespaceList.indexOf(i);a>=0&&this._namespaceList.splice(a,1),i.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let a of i.values())if(a.namespaceId){const u=this._fetchNamespace(a.namespaceId);u&&e.add(u)}return e}trigger(t,e,i,a){if(gu(e)){const u=this._fetchNamespace(t);if(u)return u.trigger(e,i,a),!0}return!1}insertNode(t,e,i,a){if(!gu(e))return;const u=e[si];if(u&&u.setForRemoval){u.setForRemoval=!1,u.setForMove=!0;const g=this.collectedLeaveElements.indexOf(e);g>=0&&this.collectedLeaveElements.splice(g,1)}if(t){const g=this._fetchNamespace(t);g&&g.insertNode(e,i)}a&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),p(t,Qd)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),v(t,Qd))}removeNode(t,e,i){if(gu(e)){const a=t?this._fetchNamespace(t):null;a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i);const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,i)}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,i,a,u){this.collectedLeaveElements.push(e),e[si]={namespaceId:t,setForRemoval:a,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:u}}listen(t,e,i,a,u){return gu(e)?this._fetchNamespace(t).listen(e,i,a,u):()=>{}}_buildInstruction(t,e,i,a,u){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,a,t.fromState.options,t.toState.options,e,u)}destroyInnerAnimations(t){let e=this.driver.query(t,He,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,nt,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return bi(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[si];if(e&&e.setForRemoval){if(t[si]=Hr,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(Qd)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,a)=>this._balanceNamespaceList(i,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)p(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let a=0;a<i.length;a++)i[a]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?bi(e).onDone(()=>{i.forEach(a=>a())}):i.forEach(a=>a())}}reportError(t){throw function To(n){return new l.wOt(3402,!1)}()}_flushAnimations(t,e){const i=new $d,a=[],u=new Map,g=[],y=new Map,w=new Map,A=new Map,F=new Set;this.disabledNodes.forEach(ut=>{F.add(ut);const mt=this.driver.query(ut,".ng-animate-queued",!0);for(let Dt=0;Dt<mt.length;Dt++)F.add(mt[Dt])});const V=this.bodyNode,Z=Array.from(this.statesByElement.keys()),me=h(Z,this.collectedEnterElements),De=new Map;let je=0;me.forEach((ut,mt)=>{const Dt=J+je++;De.set(mt,Dt),ut.forEach(nn=>p(nn,Dt))});const at=[],It=new Set,Mt=new Set;for(let ut=0;ut<this.collectedLeaveElements.length;ut++){const mt=this.collectedLeaveElements[ut],Dt=mt[si];Dt&&Dt.setForRemoval&&(at.push(mt),It.add(mt),Dt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(nn=>It.add(nn)):Mt.add(mt))}const Jt=new Map,Rt=h(Z,Array.from(It));Rt.forEach((ut,mt)=>{const Dt=oe+je++;Jt.set(mt,Dt),ut.forEach(nn=>p(nn,Dt))}),t.push(()=>{me.forEach((ut,mt)=>{const Dt=De.get(mt);ut.forEach(nn=>v(nn,Dt))}),Rt.forEach((ut,mt)=>{const Dt=Jt.get(mt);ut.forEach(nn=>v(nn,Dt))}),at.forEach(ut=>{this.processLeaveNode(ut)})});const tr=[],gi=[];for(let ut=this._namespaceList.length-1;ut>=0;ut--)this._namespaceList[ut].drainQueuedTransitions(e).forEach(Dt=>{const nn=Dt.player,mi=Dt.element;if(tr.push(nn),this.collectedEnterElements.length){const ji=mi[si];if(ji&&ji.setForMove){if(ji.previousTriggersValues&&ji.previousTriggersValues.has(Dt.triggerName)){const tg=ji.previousTriggersValues.get(Dt.triggerName),ra=this.statesByElement.get(Dt.element);if(ra&&ra.has(Dt.triggerName)){const TI=ra.get(Dt.triggerName);TI.value=tg,ra.set(Dt.triggerName,TI)}}return void nn.destroy()}}const ic=!V||!this.driver.containsElement(V,mi),no=Jt.get(mi),Wh=De.get(mi),nr=this._buildInstruction(Dt,i,Wh,no,ic);if(nr.errors&&nr.errors.length)return void gi.push(nr);if(ic)return nn.onStart(()=>Gn(mi,nr.fromStyles)),nn.onDestroy(()=>ri(mi,nr.toStyles)),void a.push(nn);if(Dt.isFallbackTransition)return nn.onStart(()=>Gn(mi,nr.fromStyles)),nn.onDestroy(()=>ri(mi,nr.toStyles)),void a.push(nn);const LR=[];nr.timelines.forEach(ji=>{ji.stretchStartingKeyframe=!0,this.disabledNodes.has(ji.element)||LR.push(ji)}),nr.timelines=LR,i.append(mi,nr.timelines),g.push({instruction:nr,player:nn,element:mi}),nr.queriedElements.forEach(ji=>Nn(y,ji,[]).push(nn)),nr.preStyleProps.forEach((ji,tg)=>{if(ji.size){let ra=w.get(tg);ra||w.set(tg,ra=new Set),ji.forEach((TI,NS)=>ra.add(NS))}}),nr.postStyleProps.forEach((ji,tg)=>{let ra=A.get(tg);ra||A.set(tg,ra=new Set),ji.forEach((TI,NS)=>ra.add(NS))})});if(gi.length){const ut=[];gi.forEach(mt=>{ut.push(function Dl(n,t){return new l.wOt(3505,!1)}())}),tr.forEach(mt=>mt.destroy()),this.reportError(ut)}const ls=new Map,dd=new Map;g.forEach(ut=>{const mt=ut.element;i.has(mt)&&(dd.set(mt,mt),this._beforeAnimationBuild(ut.player.namespaceId,ut.instruction,ls))}),a.forEach(ut=>{const mt=ut.element;this._getPreviousPlayers(mt,!1,ut.namespaceId,ut.triggerName,null).forEach(nn=>{Nn(ls,mt,[]).push(nn),nn.destroy()})});const hd=at.filter(ut=>Ne(ut,w,A)),fd=new Map;_(fd,this.driver,Mt,A,Rr).forEach(ut=>{Ne(ut,w,A)&&hd.push(ut)});const eE=new Map;me.forEach((ut,mt)=>{_(eE,this.driver,new Set(ut),w,"!")}),hd.forEach(ut=>{const mt=fd.get(ut),Dt=eE.get(ut);fd.set(ut,new Map([...mt?.entries()??[],...Dt?.entries()??[]]))});const eg=[],xR=[],FR={};g.forEach(ut=>{const{element:mt,player:Dt,instruction:nn}=ut;if(i.has(mt)){if(F.has(mt))return Dt.onDestroy(()=>ri(mt,nn.toStyles)),Dt.disabled=!0,Dt.overrideTotalTime(nn.totalTime),void a.push(Dt);let mi=FR;if(dd.size>1){let no=mt;const Wh=[];for(;no=no.parentNode;){const nr=dd.get(no);if(nr){mi=nr;break}Wh.push(no)}Wh.forEach(nr=>dd.set(nr,mi))}const ic=this._buildAnimation(Dt.namespaceId,nn,ls,u,eE,fd);if(Dt.setRealPlayer(ic),mi===FR)eg.push(Dt);else{const no=this.playersByElement.get(mi);no&&no.length&&(Dt.parentPlayer=bi(no)),a.push(Dt)}}else Gn(mt,nn.fromStyles),Dt.onDestroy(()=>ri(mt,nn.toStyles)),xR.push(Dt),F.has(mt)&&a.push(Dt)}),xR.forEach(ut=>{const mt=u.get(ut.element);if(mt&&mt.length){const Dt=bi(mt);ut.setRealPlayer(Dt)}}),a.forEach(ut=>{ut.parentPlayer?ut.syncPlayerEvents(ut.parentPlayer):ut.destroy()});for(let ut=0;ut<at.length;ut++){const mt=at[ut],Dt=mt[si];if(v(mt,oe),Dt&&Dt.hasAnimation)continue;let nn=[];if(y.size){let ic=y.get(mt);ic&&ic.length&&nn.push(...ic);let no=this.driver.query(mt,nt,!0);for(let Wh=0;Wh<no.length;Wh++){let nr=y.get(no[Wh]);nr&&nr.length&&nn.push(...nr)}}const mi=nn.filter(ic=>!ic.destroyed);mi.length?D(this,mt,mi):this.processLeaveNode(mt)}return at.length=0,eg.forEach(ut=>{this.players.push(ut),ut.onDone(()=>{ut.destroy();const mt=this.players.indexOf(ut);this.players.splice(mt,1)}),ut.play()}),eg}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,a,u){let g=[];if(e){const y=this.playersByQueriedElement.get(t);y&&(g=y)}else{const y=this.playersByElement.get(t);if(y){const w=!u||u==Ii;y.forEach(A=>{A.queued||!w&&A.triggerName!=a||g.push(A)})}}return(i||a)&&(g=g.filter(y=>!(i&&i!=y.namespaceId||a&&a!=y.triggerName))),g}_beforeAnimationBuild(t,e,i){const u=e.element,g=e.isRemovalTransition?void 0:t,y=e.isRemovalTransition?void 0:e.triggerName;for(const w of e.timelines){const A=w.element,F=A!==u,V=Nn(i,A,[]);this._getPreviousPlayers(A,F,g,y,e.toState).forEach(me=>{const De=me.getRealPlayer();De.beforeDestroy&&De.beforeDestroy(),me.destroy(),V.push(me)})}Gn(u,e.fromStyles)}_buildAnimation(t,e,i,a,u,g){const y=e.triggerName,w=e.element,A=[],F=new Set,V=new Set,Z=e.timelines.map(De=>{const je=De.element;F.add(je);const at=je[si];if(at&&at.removedBeforeQueried)return new ns(De.duration,De.delay);const It=je!==w,Mt=function O(n){const t=[];return Q(n,t),t}((i.get(je)||Og).map(ls=>ls.getRealPlayer())).filter(ls=>!!ls.element&&ls.element===je),Jt=u.get(je),Rt=g.get(je),tr=eu(this._normalizer,De.keyframes,Jt,Rt),gi=this._buildPlayer(De,tr,Mt);if(De.subTimeline&&a&&V.add(je),It){const ls=new fu(t,y,je);ls.setRealPlayer(gi),A.push(ls)}return gi});A.forEach(De=>{Nn(this.playersByQueriedElement,De.element,[]).push(De),De.onDone(()=>function ur(n,t,e){let i=n.get(t);if(i){if(i.length){const a=i.indexOf(e);i.splice(a,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,De.element,De))}),F.forEach(De=>p(De,Ge));const me=bi(Z);return me.onDestroy(()=>{F.forEach(De=>v(De,Ge)),ri(w,e.toStyles)}),V.forEach(De=>{Nn(a,De,[]).push(me)}),me}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new ns(t.duration,t.delay)}}class fu{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new ns,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(a=>ba(t,i,void 0,a))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Nn(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function gu(n){return n&&1===n.nodeType}function kg(n,t){const e=n.style.display;return n.style.display=t??"none",e}function _(n,t,e,i,a){const u=[];e.forEach(w=>u.push(kg(w)));const g=[];i.forEach((w,A)=>{const F=new Map;w.forEach(V=>{const Z=t.computeStyle(A,V,a);F.set(V,Z),(!Z||0==Z.length)&&(A[si]=bf,g.push(A))}),n.set(A,F)});let y=0;return e.forEach(w=>kg(w,u[y++])),g}function h(n,t){const e=new Map;if(n.forEach(y=>e.set(y,[])),0==t.length)return e;const a=new Set(t),u=new Map;function g(y){if(!y)return 1;let w=u.get(y);if(w)return w;const A=y.parentNode;return w=e.has(A)?A:a.has(A)?1:g(A),u.set(y,w),w}return t.forEach(y=>{const w=g(y);1!==w&&e.get(w).push(y)}),e}function p(n,t){n.classList?.add(t)}function v(n,t){n.classList?.remove(t)}function D(n,t,e){bi(e).onDone(()=>n.processLeaveNode(t))}function Q(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Eo?Q(i.players,t):t.push(i)}}function Ne(n,t,e){const i=e.get(n);if(!i)return!1;let a=t.get(n);return a?i.forEach(u=>a.add(u)):t.set(n,i),e.delete(n),!0}class We{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(a,u)=>{},this._transitionEngine=new Df(t,e,i),this._timelineEngine=new du(t,e,i),this._transitionEngine.onRemovalComplete=(a,u)=>this.onRemovalComplete(a,u)}registerTrigger(t,e,i,a,u){const g=t+"-"+a;let y=this._triggerCache[g];if(!y){const w=[],F=Nl(this._driver,u,w,[]);if(w.length)throw function wo(n,t){return new l.wOt(3404,!1)}();y=function Cf(n,t,e){return new xl(n,t,e)}(a,F,this._normalizer),this._triggerCache[g]=y}this._transitionEngine.registerTrigger(e,a,y)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,a){this._transitionEngine.insertNode(t,e,i,a)}onRemove(t,e,i){this._transitionEngine.removeNode(t,e,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,a){if("@"==i.charAt(0)){const[u,g]=is(i);this._timelineEngine.command(u,e,g,a)}else this._transitionEngine.trigger(t,e,i,a)}listen(t,e,i,a,u){if("@"==i.charAt(0)){const[g,y]=is(i);return this._timelineEngine.listen(g,e,y,u)}return this._transitionEngine.listen(t,e,i,a,u)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}}let Ke=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(e,i,a){this._element=e,this._startStyles=i,this._endStyles=a,this._state=0;let u=n.initialStylesByElement.get(e);u||n.initialStylesByElement.set(e,u=new Map),this._initialStyles=u}start(){this._state<1&&(this._startStyles&&ri(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ri(this._element,this._initialStyles),this._endStyles&&(ri(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Gn(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Gn(this._element,this._endStyles),this._endStyles=null),ri(this._element,this._initialStyles),this._state=3)}}return n})();function Vt(n){let t=null;return n.forEach((e,i)=>{(function oi(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class ko{constructor(t,e,i,a){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;const e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,a)=>{"offset"!==a&&t.set(a,this._finished?i:Bd(this.element,a))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Sa{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return nu(t,e)}getParentElement(t){return Tl(t)}query(t,e,i){return ru(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,a,u,g=[]){const w={duration:i,delay:a,fill:0==a?"both":"forwards"};u&&(w.easing=u);const A=new Map,F=g.filter(me=>me instanceof ko);(function mf(n,t){return 0===n||0===t})(i,a)&&F.forEach(me=>{me.currentSnapshot.forEach((De,je)=>A.set(je,De))});let V=function an(n){return n.length?n[0]instanceof Map?n:n.map(t=>Al(t)):[]}(e).map(me=>An(me));V=function Sl(n,t,e){if(e.size&&t.length){let i=t[0],a=[];if(e.forEach((u,g)=>{i.has(g)||a.push(g),i.set(g,u)}),a.length)for(let u=1;u<t.length;u++){let g=t[u];a.forEach(y=>g.set(y,Bd(n,y)))}}return t}(t,V,A);const Z=function rt(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=Vt(t[0]),t.length>1&&(i=Vt(t[t.length-1]))):t instanceof Map&&(e=Vt(t)),e||i?new Ke(n,e,i):null}(t,V);return new ko(t,V,w,Z)}}let xo=(()=>{class n extends Ls{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:l.gXe.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(e)?Vs(e):e;return Fl(this._renderer,null,i,"register",[a]),new mu(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(l._9s),l.KVO($))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();class mu extends Kc{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new Tf(this._id,t,e||{},this._renderer)}}class Tf{constructor(t,e,i,a){this.id=t,this.element=e,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return Fl(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Fl(n,t,e,i,a){return n.setProperty(t,`@@${e}:${i}`,a)}const Af="@.disabled";let Sf=(()=>{class n{constructor(e,i,a){this.delegate=e,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(u,g)=>{const y=g?.parentNode(u);y&&g.removeChild(y,u)}}createRenderer(e,i){const u=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let F=this._rendererCache.get(u);return F||(F=new Mf("",u,this.engine,()=>this._rendererCache.delete(u)),this._rendererCache.set(u,F)),F}const g=i.id,y=i.id+"-"+this._currentId;this._currentId++,this.engine.register(y,e);const w=F=>{Array.isArray(F)?F.forEach(w):this.engine.registerTrigger(g,y,e,F.name,F)};return i.data.animation.forEach(w),new U_(this,y,u,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,a){e>=0&&e<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(u=>{const[g,y]=u;g(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(l._9s),l.KVO(We),l.KVO(l.SKi))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();class Mf{constructor(t,e,i,a){this.namespaceId=t,this.delegate=e,this.engine=i,this._onDestroy=a}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,a=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,a)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,a){this.delegate.setAttribute(t,e,i,a)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,a){this.delegate.setStyle(t,e,i,a)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==Af?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class U_ extends Mf{constructor(t,e,i,a,u){super(e,i,a,u),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==Af?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const a=function Rf(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let u=e.slice(1),g="";return"@"!=u.charAt(0)&&([u,g]=function B_(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(u)),this.engine.listen(this.namespaceId,a,u,g,y=>{this.factory.scheduleListenerCallback(y._data||-1,i,y)})}return this.delegate.listen(t,e,i)}}const Fg=[{provide:Ls,useClass:xo},{provide:lu,useFactory:function xg(){return new Mg}},{provide:We,useClass:(()=>{class n extends We{constructor(e,i,a,u){super(e.body,i,a)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||n)(l.KVO($),l.KVO(C),l.KVO(lu),l.KVO(l.o8S))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})()},{provide:l._9s,useFactory:function j_(n,t,e){return new Sf(n,t,e)},deps:[zt,We,l.SKi]}],$_=[{provide:C,useFactory:()=>new Sa},{provide:l.bc$,useValue:"BrowserAnimations"},...Fg],lE=[{provide:C,useClass:Mo},{provide:l.bc$,useValue:"NoopAnimations"},...Fg];let H_=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?lE:$_}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({providers:$_,imports:[es]})}}return n})();var hn=R(8455),Lo=R(1985);const{isArray:kS}=Array,{getPrototypeOf:Lg,prototype:OI,keys:cE}=Object;function G_(n){if(1===n.length){const t=n[0];if(kS(t))return{args:t,keys:null};if(function uE(n){return n&&"object"==typeof n&&Lg(n)===OI}(t)){const e=cE(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Ll=R(8750),_u=R(9326),_r=R(4360),At=R(6354);const{isArray:dE}=Array;function Pf(n){return(0,At.T)(t=>function W_(n,t){return dE(t)?n(...t):n(t)}(n,t))}function z_(n,t){return n.reduce((e,i,a)=>(e[i]=t[a],e),{})}let Jd=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(l.aKT))}}static{this.\u0275dir=l.FsC({type:n})}}return n})(),yu=(()=>{class n extends Jd{static{this.\u0275fac=function(){let e;return function(a){return(e||(e=l.xGo(n)))(a||n)}}()}static{this.\u0275dir=l.FsC({type:n,features:[l.Vt3]})}}return n})();const Bs=new l.nKC("NgValueAccessor"),NI={provide:Bs,useExisting:(0,l.Rfq)(()=>q_),multi:!0};let q_=(()=>{class n extends yu{writeValue(e){this.setProperty("checked",e)}static{this.\u0275fac=function(){let e;return function(a){return(e||(e=l.xGo(n)))(a||n)}}()}static{this.\u0275dir=l.FsC({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,a){1&i&&l.bIt("change",function(g){return a.onChange(g.target.checked)})("blur",function(){return a.onTouched()})},features:[l.Jv_([NI]),l.Vt3]})}}return n})();const kI={provide:Bs,useExisting:(0,l.Rfq)(()=>Es),multi:!0},fE=new l.nKC("CompositionEventMode");let Es=(()=>{class n extends Jd{constructor(e,i,a){super(e,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hE(){const n=S()?S().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(l.sFG),l.rXU(l.aKT),l.rXU(fE,8))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,a){1&i&&l.bIt("input",function(g){return a._handleInput(g.target.value)})("blur",function(){return a.onTouched()})("compositionstart",function(){return a._compositionStart()})("compositionend",function(g){return a._compositionEnd(g.target.value)})},features:[l.Jv_([kI]),l.Vt3]})}}return n})();const ai=new l.nKC("NgValidators"),Vl=new l.nKC("NgAsyncValidators");function Eu(n){return function Vo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function Nf(n){return null}function gE(n){return null!=n}function mE(n){return(0,l.jNT)(n)?(0,hn.H)(n):n}function _E(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function yE(n,t){return t.map(e=>e(n))}function Ma(n){return n.map(t=>function xI(n){return!n.validate}(t)?t:e=>t.validate(e))}function J_(n){return null!=n?function Zd(n){if(!n)return null;const t=n.filter(gE);return 0==t.length?null:function(e){return _E(yE(e,t))}}(Ma(n)):null}function vE(n){return null!=n?function FI(n){if(!n)return null;const t=n.filter(gE);return 0==t.length?null:function(e){return function K_(...n){const t=(0,_u.ms)(n),{args:e,keys:i}=G_(n),a=new Lo.c(u=>{const{length:g}=e;if(!g)return void u.complete();const y=new Array(g);let w=g,A=g;for(let F=0;F<g;F++){let V=!1;(0,Ll.Tg)(e[F]).subscribe((0,_r._)(u,Z=>{V||(V=!0,A--),y[F]=Z},()=>w--,void 0,()=>{(!w||!V)&&(A||u.next(i?z_(i,y):y),u.complete())}))}});return t?a.pipe(Pf(t)):a}(yE(e,t).map(mE)).pipe((0,At.T)(_E))}}(Ma(n)):null}function LI(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Bg(n){return n?Array.isArray(n)?n:[n]:[]}function jg(n,t){return Array.isArray(n)?n.includes(t):n===t}function EE(n,t){const e=Bg(t);return Bg(n).forEach(a=>{jg(e,a)||e.push(a)}),e}function CE(n,t){return Bg(t).filter(e=>!jg(n,e))}class wE{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=J_(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=vE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Gr extends wE{get formDirective(){return null}get path(){return null}}class li extends wE{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eh{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ul=(()=>{class n extends eh{constructor(e){super(e)}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(li,2))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,a){2&i&&l.AVh("ng-untouched",a.isUntouched)("ng-touched",a.isTouched)("ng-pristine",a.isPristine)("ng-dirty",a.isDirty)("ng-valid",a.isValid)("ng-invalid",a.isInvalid)("ng-pending",a.isPending)},features:[l.Vt3]})}}return n})();const Ff="VALID",Hg="INVALID",Cu="PENDING",th="DISABLED";function Lf(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class wu{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ff}get invalid(){return this.status===Hg}get pending(){return this.status==Cu}get disabled(){return this.status===th}get enabled(){return this.status!==th}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(EE(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(EE(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CE(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CE(t,this._rawAsyncValidators))}hasValidator(t){return jg(this._rawValidators,t)}hasAsyncValidator(t){return jg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Cu,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=th,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ff,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ff||this.status===Cu)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?th:Ff}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Cu,this._hasOwnPendingAsyncValidator=!0;const e=mE(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,a)=>i&&i._find(a),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.bkB,this.statusChanges=new l.bkB}_calculateStatus(){return this._allControlsDisabled()?th:this.errors?Hg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Cu)?Cu:this._anyControlsHaveStatus(Hg)?Hg:Ff}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Lf(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function GI(n){return Array.isArray(n)?J_(n):n||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function WI(n){return Array.isArray(n)?vE(n):n||null}(this._rawAsyncValidators)}}const Iu=new l.nKC("CallSetDisabledState",{providedIn:"root",factory:()=>nh}),nh="always";function Bl(n,t,e=nh){(function Uf(n,t){const e=function VI(n){return n._rawValidators}(n);null!==t.validator?n.setValidators(LI(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=function UI(n){return n._rawAsyncValidators}(n);null!==t.asyncValidator?n.setAsyncValidators(LI(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const a=()=>n.updateValueAndValidity();rh(t._rawValidators,a),rh(t._rawAsyncValidators,a)})(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||"always"===e)&&t.valueAccessor.setDisabledState?.(n.disabled),function TE(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&AE(n,t)})}(n,t),function sy(n,t){const e=(i,a)=>{t.valueAccessor.writeValue(i),a&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function Du(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&AE(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function XI(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function rh(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function AE(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function RE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function ly(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const zg=class extends wu{constructor(t=null,e,i){super(function ty(n){return(Lf(n)?n.validators:n)||null}(e),function ny(n,t){return(Lf(t)?t.asyncValidators:n)||null}(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Lf(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=ly(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){RE(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){RE(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){ly(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}},uy={provide:li,useExisting:(0,l.Rfq)(()=>Uo)},Au=(()=>Promise.resolve())();let Uo=(()=>{class n extends li{constructor(e,i,a,u,g,y){super(),this._changeDetectorRef=g,this.callSetDisabledState=y,this.control=new zg,this._registered=!1,this.name="",this.update=new l.bkB,this._parent=e,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function jl(n,t){if(!t)return null;let e,i,a;return Array.isArray(t),t.forEach(u=>{u.constructor===Es?e=u:function ZI(n){return Object.getPrototypeOf(n.constructor)===yu}(u)?i=u:a=u}),a||i||e||null}(0,u)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const i=e.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function oy(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Bl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Au.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const i=e.isDisabled.currentValue,a=0!==i&&(0,l.L39)(i);Au.then(()=>{a&&!this.control.disabled?this.control.disable():!a&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Vf(n,t){return[...t.path,n]}(e,this._parent):[e]}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(Gr,9),l.rXU(ai,10),l.rXU(Vl,10),l.rXU(Bs,10),l.rXU(l.gRc,8),l.rXU(Iu,8))}}static{this.\u0275dir=l.FsC({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l.Jv_([uy]),l.Vt3,l.OA$]})}}return n})();const Hf={provide:Bs,useExisting:(0,l.Rfq)(()=>Su),multi:!0};let Su=(()=>{class n extends yu{writeValue(e){this.setProperty("value",e??"")}registerOnChange(e){this.onChange=i=>{e(""==i?null:parseFloat(i))}}static{this.\u0275fac=function(){let e;return function(a){return(e||(e=l.xGo(n)))(a||n)}}()}static{this.\u0275dir=l.FsC({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,a){1&i&&l.bIt("input",function(g){return a.onChange(g.target.value)})("blur",function(){return a.onTouched()})},features:[l.Jv_([Hf]),l.Vt3]})}}return n})(),qg=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({})}}return n})();const fy=new l.nKC("NgModelWithFormControlWarning");let js=(()=>{class n{constructor(){this._validator=Nf}ngOnChanges(e){if(this.inputName in e){const i=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Nf,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=l.FsC({type:n,features:[l.OA$]})}}return n})();const dD={provide:ai,useExisting:(0,l.Rfq)(()=>Wf),multi:!0};let Wf=(()=>{class n extends js{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=l.L39,this.createValidator=e=>Eu}enabled(e){return e}static{this.\u0275fac=function(){let e;return function(a){return(e||(e=l.xGo(n)))(a||n)}}()}static{this.\u0275dir=l.FsC({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(i,a){2&i&&l.BMQ("required",a._enabled?"":null)},inputs:{required:"required"},features:[l.Jv_([dD]),l.Vt3]})}}return n})(),Cy=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({imports:[qg]})}}return n})(),gD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Iu,useValue:e.callSetDisabledState??nh}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({imports:[Cy]})}}return n})(),mD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fy,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Iu,useValue:e.callSetDisabledState??nh}]}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({imports:[Cy]})}}return n})();var Pu=R(8071),Je=R(7673),ws=R(4412),tm=R(3669),Or=R(5225);function by(...n){const t=(0,_u.lI)(n),e=(0,_u.ms)(n),{args:i,keys:a}=G_(n);if(0===i.length)return(0,hn.H)([],t);const u=new Lo.c(function Iy(n,t,e=tm.D){return i=>{qE(t,()=>{const{length:a}=n,u=new Array(a);let g=a,y=a;for(let w=0;w<a;w++)qE(t,()=>{const A=(0,hn.H)(n[w],t);let F=!1;A.subscribe((0,_r._)(i,V=>{u[w]=V,F||(F=!0,y--),y||i.next(e(u.slice()))},()=>{--g||i.complete()}))},i)},i)}}(i,t,a?g=>z_(a,g):tm.D));return e?u.pipe(Pf(e)):u}function qE(n,t,e){n?(0,Or.N)(e,n,t):t()}const ah=(0,R(1853).L)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var lh=R(6365);function nm(...n){return function QE(){return(0,lh.U)(1)}()((0,hn.H)(n,(0,_u.lI)(n)))}function Dy(n){return new Lo.c(t=>{(0,Ll.Tg)(n()).subscribe(t)})}var YE=R(1203);function zf(n,t){const e=(0,Pu.T)(n)?n:()=>n,i=a=>a.error(e());return new Lo.c(t?a=>t.schedule(i,0,a):i)}var $l=R(983),Ty=R(8359),ci=R(9974);function Hl(){return(0,ci.N)((n,t)=>{let e=null;n._refCount++;const i=(0,_r._)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const a=n._connection,u=e;e=null,a&&(!u||a===u)&&a.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class $o extends Lo.c{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ci.S)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Ty.yU;const e=this.getSubject();t.add(this.source.subscribe((0,_r._)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Ty.yU.EMPTY)}return t}refCount(){return Hl()(this)}}var Vi=R(1413),xn=R(5558);function Ho(n){return n<=0?()=>$l.w:(0,ci.N)((t,e)=>{let i=0;t.subscribe((0,_r._)(e,a=>{++i<=n&&(e.next(a),n<=i&&e.complete())}))})}function Go(n,t){return(0,ci.N)((e,i)=>{let a=0;e.subscribe((0,_r._)(i,u=>n.call(t,u,a++)&&i.next(u)))})}var Nr=R(1397);function Gl(n){return(0,ci.N)((t,e)=>{let i=!1;t.subscribe((0,_r._)(e,a=>{i=!0,e.next(a)},()=>{i||e.next(n),e.complete()}))})}function Kf(n=JE){return(0,ci.N)((t,e)=>{let i=!1;t.subscribe((0,_r._)(e,a=>{i=!0,e.next(a)},()=>i?e.complete():e.error(n())))})}function JE(){return new ah}function Ra(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Go((a,u)=>n(a,u,i)):tm.D,Ho(1),e?Gl(t):Kf(()=>new ah))}function qf(n,t){return(0,Pu.T)(t)?(0,Nr.Z)(n,t,1):(0,Nr.Z)(n,1)}var Jn=R(8141);function Ou(n){return(0,ci.N)((t,e)=>{let u,i=null,a=!1;i=t.subscribe((0,_r._)(e,void 0,void 0,g=>{u=(0,Ll.Tg)(n(g,Ou(n)(t))),i?(i.unsubscribe(),i=null,u.subscribe(e)):a=!0})),a&&(i.unsubscribe(),i=null,u.subscribe(e))})}function rm(n,t){return(0,ci.N)(function yD(n,t,e,i,a){return(u,g)=>{let y=e,w=t,A=0;u.subscribe((0,_r._)(g,F=>{const V=A++;w=y?n(w,F,V):(y=!0,F),i&&g.next(w)},a&&(()=>{y&&g.next(w),g.complete()})))}}(n,t,arguments.length>=2,!0))}function ZE(n){return n<=0?()=>$l.w:(0,ci.N)((t,e)=>{let i=[];t.subscribe((0,_r._)(e,a=>{i.push(a),n<i.length&&i.shift()},()=>{for(const a of i)e.next(a);e.complete()},void 0,()=>{i=null}))})}function ED(n){return(0,At.T)(()=>n)}function eC(n){return(0,ci.N)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}var im=R(5343);const Ft="primary",Wl=Symbol("RouteTitle");class nC{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Nu(n){return new nC(n)}function CD(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const a={};for(let u=0;u<i.length;u++){const g=i[u],y=n[u];if(g.startsWith(":"))a[g.substring(1)]=y;else if(g!==y.path)return null}return{consumed:n.slice(0,i.length),posParams:a}}function $s(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let a;for(let u=0;u<e.length;u++)if(a=e[u],!St(n[a],t[a]))return!1;return!0}function St(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((a,u)=>i[u]===a)}return n===t}function Ay(n){return n.length>0?n[n.length-1]:null}function Pa(n){return function jo(n){return!!n&&(n instanceof Lo.c||(0,Pu.T)(n.lift)&&(0,Pu.T)(n.subscribe))}(n)?n:(0,l.jNT)(n)?(0,hn.H)(Promise.resolve(n)):(0,Je.of)(n)}const ch={exact:function ku(n,t,e){if(!xu(n.segments,t.segments)||!dh(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!ku(n.children[i],t.children[i],e))return!1;return!0},subset:uh},Sy={exact:function sm(n,t){return $s(n,t)},subset:function My(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>St(n[e],t[e]))},ignored:()=>!0};function iC(n,t,e){return ch[e.paths](n.root,t.root,e.matrixParams)&&Sy[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function uh(n,t,e){return Ry(n,t,t.segments,e)}function Ry(n,t,e,i){if(n.segments.length>e.length){const a=n.segments.slice(0,e.length);return!(!xu(a,e)||t.hasChildren()||!dh(a,e,i))}if(n.segments.length===e.length){if(!xu(n.segments,e)||!dh(n.segments,e,i))return!1;for(const a in t.children)if(!n.children[a]||!uh(n.children[a],t.children[a],i))return!1;return!0}{const a=e.slice(0,n.segments.length),u=e.slice(n.segments.length);return!!(xu(n.segments,a)&&dh(n.segments,a,i)&&n.children[Ft])&&Ry(n.children[Ft],t,u,i)}}function dh(n,t,e){return t.every((i,a)=>Sy[e](n[a].parameters,i.parameters))}class zl{constructor(t=new en([],{}),e={},i=null){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return bD.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return am(this)}}class hh{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Nu(this.parameters)),this._parameterMap}toString(){return aC(this)}}function xu(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}let Qf=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return new om},providedIn:"root"})}}return n})();class om{parse(t){const e=new ky(t);return new zl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${Yf(t.root,!0)}`,i=function YS(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(a=>`${Xf(e)}=${Xf(a)}`).join("&"):`${Xf(e)}=${Xf(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function oC(n){return encodeURI(n)}(t.fragment)}`:""}`}}const bD=new om;function am(n){return n.segments.map(t=>aC(t)).join("/")}function Yf(n,t){if(!n.hasChildren())return am(n);if(t){const e=n.children[Ft]?Yf(n.children[Ft],!1):"",i=[];return Object.entries(n.children).forEach(([a,u])=>{a!==Ft&&i.push(`${a}:${Yf(u,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function wD(n,t){let e=[];return Object.entries(n.children).forEach(([i,a])=>{i===Ft&&(e=e.concat(t(a,i)))}),Object.entries(n.children).forEach(([i,a])=>{i!==Ft&&(e=e.concat(t(a,i)))}),e}(n,(i,a)=>a===Ft?[Yf(n.children[Ft],!1)]:[`${a}:${Yf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ft]?`${am(n)}/${e[0]}`:`${am(n)}/(${e.join("//")})`}}function sC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xf(n){return sC(n).replace(/%3B/gi,";")}function Oy(n){return sC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lm(n){return decodeURIComponent(n)}function Ui(n){return lm(n.replace(/\+/g,"%20"))}function aC(n){return`${Oy(n.path)}${function ID(n){return Object.keys(n).map(t=>`;${Oy(t)}=${Oy(n[t])}`).join("")}(n.parameters)}`}const Ny=/^[^\/()?;#]+/;function cm(n){const t=n.match(Ny);return t?t[0]:""}const DD=/^[^\/()?;=#]+/,AD=/^[^=?&#]+/,SD=/^[^&#]+/;class ky{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[Ft]=new en(t,e)),i}parseSegment(){const t=cm(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new l.wOt(4009,!1);return this.capture(t),new hh(lm(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=function TD(n){const t=n.match(DD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const a=cm(this.remaining);a&&(i=a,this.capture(i))}t[lm(e)]=lm(i)}parseQueryParam(t){const e=function lC(n){const t=n.match(AD);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const g=function MD(n){const t=n.match(SD);return t?t[0]:""}(this.remaining);g&&(i=g,this.capture(i))}const a=Ui(e),u=Ui(i);if(t.hasOwnProperty(a)){let g=t[a];Array.isArray(g)||(g=[g],t[a]=g),g.push(u)}else t[a]=u}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=cm(this.remaining),a=this.remaining[i.length];if("/"!==a&&")"!==a&&";"!==a)throw new l.wOt(4010,!1);let u;i.indexOf(":")>-1?(u=i.slice(0,i.indexOf(":")),this.capture(u),this.capture(":")):t&&(u=Ft);const g=this.parseChildren();e[u]=1===Object.keys(g).length?g[Ft]:new en([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new l.wOt(4011,!1)}}function cC(n){return n.segments.length>0?new en([],{[Ft]:n}):n}function uC(n){const t={};for(const i of Object.keys(n.children)){const u=uC(n.children[i]);if(i===Ft&&0===u.segments.length&&u.hasChildren())for(const[g,y]of Object.entries(u.children))t[g]=y;else(u.segments.length>0||u.hasChildren())&&(t[i]=u)}return function RD(n){if(1===n.numberOfChildren&&n.children[Ft]){const t=n.children[Ft];return new en(n.segments.concat(t.segments),t.children)}return n}(new en(n.segments,t))}function Fu(n){return n instanceof zl}function Hs(n){let t;const a=cC(function e(u){const g={};for(const w of u.children){const A=e(w);g[w.outlet]=A}const y=new en(u.url,g);return u===n&&(t=y),y}(n.root));return t??a}function um(n,t,e,i){let a=n;for(;a.parent;)a=a.parent;if(0===t.length)return xy(a,a,a,e,i);const u=function hm(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Ly(!0,0,n);let t=0,e=!1;const i=n.reduce((a,u,g)=>{if("object"==typeof u&&null!=u){if(u.outlets){const y={};return Object.entries(u.outlets).forEach(([w,A])=>{y[w]="string"==typeof A?A.split("/"):A}),[...a,{outlets:y}]}if(u.segmentPath)return[...a,u.segmentPath]}return"string"!=typeof u?[...a,u]:0===g?(u.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?e=!0:".."===y?t++:""!=y&&a.push(y))}),a):[...a,u]},[]);return new Ly(e,t,i)}(t);if(u.toRoot())return xy(a,a,new en([],{}),e,i);const g=function XS(n,t,e){if(n.isAbsolute)return new ph(t,!0,0);if(!e)return new ph(t,!1,NaN);if(null===e.parent)return new ph(e,!0,0);const i=dm(n.commands[0])?0:1;return function dC(n,t,e){let i=n,a=t,u=e;for(;u>a;){if(u-=a,i=i.parent,!i)throw new l.wOt(4005,!1);a=i.segments.length}return new ph(i,!1,a-u)}(e,e.segments.length-1+i,n.numberOfDoubleDots)}(u,a,n),y=g.processChildren?gh(g.segmentGroup,g.index,u.commands):Vy(g.segmentGroup,g.index,u.commands);return xy(a,g.segmentGroup,y,e,i)}function dm(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function fh(n){return"object"==typeof n&&null!=n&&n.outlets}function xy(n,t,e,i,a){let g,u={};i&&Object.entries(i).forEach(([w,A])=>{u[w]=Array.isArray(A)?A.map(F=>`${F}`):`${A}`}),g=n===t?e:Fy(n,t,e);const y=cC(uC(g));return new zl(y,u,a)}function Fy(n,t,e){const i={};return Object.entries(n.children).forEach(([a,u])=>{i[a]=u===t?e:Fy(u,t,e)}),new en(n.segments,i)}class Ly{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&dm(i[0]))throw new l.wOt(4003,!1);const a=i.find(fh);if(a&&a!==Ay(i))throw new l.wOt(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ph{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Vy(n,t,e){if(n||(n=new en([],{})),0===n.segments.length&&n.hasChildren())return gh(n,t,e);const i=function Uy(n,t,e){let i=0,a=t;const u={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(i>=e.length)return u;const g=n.segments[a],y=e[i];if(fh(y))break;const w=`${y}`,A=i<e.length-1?e[i+1]:null;if(a>0&&void 0===w)break;if(w&&A&&"object"==typeof A&&void 0===A.outlets){if(!fm(w,A,g))return u;i+=2}else{if(!fm(w,{},g))return u;i++}a++}return{match:!0,pathIndex:a,commandIndex:i}}(n,t,e),a=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const u=new en(n.segments.slice(0,i.pathIndex),{});return u.children[Ft]=new en(n.segments.slice(i.pathIndex),n.children),gh(u,0,a)}return i.match&&0===a.length?new en(n.segments,{}):i.match&&!n.hasChildren()?Gs(n,t,e):i.match?gh(n,0,a):Gs(n,t,e)}function gh(n,t,e){if(0===e.length)return new en(n.segments,{});{const i=function hC(n){return fh(n[0])?n[0].outlets:{[Ft]:n}}(e),a={};if(Object.keys(i).some(u=>u!==Ft)&&n.children[Ft]&&1===n.numberOfChildren&&0===n.children[Ft].segments.length){const u=gh(n.children[Ft],t,e);return new en(n.segments,u.children)}return Object.entries(i).forEach(([u,g])=>{"string"==typeof g&&(g=[g]),null!==g&&(a[u]=Vy(n.children[u],t,g))}),Object.entries(n.children).forEach(([u,g])=>{void 0===i[u]&&(a[u]=g)}),new en(n.segments,a)}}function Gs(n,t,e){const i=n.segments.slice(0,t);let a=0;for(;a<e.length;){const u=e[a];if(fh(u)){const w=OD(u.outlets);return new en(i,w)}if(0===a&&dm(e[0])){i.push(new hh(n.segments[t].path,fC(e[0]))),a++;continue}const g=fh(u)?u.outlets[Ft]:`${u}`,y=a<e.length-1?e[a+1]:null;g&&y&&dm(y)?(i.push(new hh(g,fC(y))),a+=2):(i.push(new hh(g,{})),a++)}return new en(i,{})}function OD(n){const t={};return Object.entries(n).forEach(([e,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(t[e]=Gs(new en([],{}),0,i))}),t}function fC(n){const t={};return Object.entries(n).forEach(([e,i])=>t[e]=`${i}`),t}function fm(n,t,e){return n==e.path&&$s(t,e.parameters)}const Jf="imperative";class Ws{constructor(t,e){this.id=t,this.url=e}}class pm extends Ws{constructor(t,e,i="imperative",a=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zs extends Ws{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Oa extends Ws{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Lu extends Ws{constructor(t,e,i,a){super(t,e),this.reason=i,this.code=a,this.type=16}}class Vu extends Ws{constructor(t,e,i,a){super(t,e),this.error=i,this.target=a,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ND extends Ws{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class kD extends Ws{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pC extends Ws{constructor(t,e,i,a,u){super(t,e),this.urlAfterRedirects=i,this.state=a,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class gC extends Ws{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xD extends Ws{constructor(t,e,i,a){super(t,e),this.urlAfterRedirects=i,this.state=a,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class FD{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class mC{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _C{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zf{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class LD{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yC{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class By{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class jy{}class $y{constructor(t){this.url=t}}class VD{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ep,this.attachRef=null}}let ep=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(e,i){const a=this.getOrCreateContext(e);a.outlet=i,this.contexts.set(e,a)}onChildOutletDestroyed(e){const i=this.getContext(e);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let i=this.getContext(e);return i||(i=new VD,this.contexts.set(e,i)),i}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class vC{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Hy(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Hy(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Gy(t,this._root);return e.length<2?[]:e[e.length-2].children.map(a=>a.value).filter(a=>a!==t)}pathFromRoot(t){return Gy(t,this._root).map(e=>e.value)}}function Hy(n,t){if(n===t.value)return t;for(const e of t.children){const i=Hy(n,e);if(i)return i}return null}function Gy(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Gy(n,e);if(i.length)return i.unshift(t),i}return[]}class Na{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function mh(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class EC extends vC{constructor(t,e){super(t),this.snapshot=e,Ky(this,t)}toString(){return this.snapshot.toString()}}function Wy(n,t){const e=function zy(n,t){const g=new mm([],{},{},"",{},Ft,t,null,{});return new CC("",new Na(g,[]))}(0,t),i=new ws.t([new hh("",{})]),a=new ws.t({}),u=new ws.t({}),g=new ws.t({}),y=new ws.t(""),w=new ka(i,a,g,y,u,Ft,t,e.root);return w.snapshot=e.root,new EC(new Na(w,[]),e)}class ka{constructor(t,e,i,a,u,g,y,w){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=i,this.fragmentSubject=a,this.dataSubject=u,this.outlet=g,this.component=y,this._futureSnapshot=w,this.title=this.dataSubject?.pipe((0,At.T)(A=>A[Wl]))??(0,Je.of)(void 0),this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,At.T)(t=>Nu(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,At.T)(t=>Nu(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function tp(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const a=e[i],u=e[i-1];if(a.routeConfig&&""===a.routeConfig.path)i--;else{if(u.component)break;i--}}return function UD(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class mm{get title(){return this.data?.[Wl]}constructor(t,e,i,a,u,g,y,w,A){this.url=t,this.params=e,this.queryParams=i,this.fragment=a,this.data=u,this.outlet=g,this.component=y,this.routeConfig=w,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nu(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nu(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class CC extends vC{constructor(t,e){super(e),this.url=t,Ky(this,e)}toString(){return wC(this._root)}}function Ky(n,t){t.value._routerState=n,t.children.forEach(e=>Ky(n,e))}function wC(n){const t=n.children.length>0?` { ${n.children.map(wC).join(", ")} } `:"";return`${n.value}${t}`}function qy(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,$s(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),$s(t.params,e.params)||n.paramsSubject.next(e.params),function rC(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!$s(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.urlSubject.next(e.url),$s(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Qy(n,t){const e=$s(n.params,t.params)&&function Py(n,t){return xu(n,t)&&n.every((e,i)=>$s(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||Qy(n.parent,t.parent))}let _m=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ft,this.activateEvents=new l.bkB,this.deactivateEvents=new l.bkB,this.attachEvents=new l.bkB,this.detachEvents=new l.bkB,this.parentContexts=(0,l.WQX)(ep),this.location=(0,l.WQX)(l.c1b),this.changeDetector=(0,l.WQX)(l.gRc),this.environmentInjector=(0,l.WQX)(l.uvJ),this.inputBinder=(0,l.WQX)(ym,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:i,previousValue:a}=e.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.wOt(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.wOt(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.wOt(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new l.wOt(4013,!1);this._activatedRoute=e;const a=this.location,g=e.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,w=new bC(e,y,a.injector);this.activated=a.createComponent(g,{index:a.length,injector:w,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275dir=l.FsC({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.OA$]})}}return n})();class bC{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===ka?this.route:t===ep?this.childContexts:this.parent.get(t,e)}}const ym=new l.nKC("");let BD=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:i}=e,a=by([i.queryParams,i.params,i.data]).pipe((0,xn.n)(([u,g,y],w)=>(y={...u,...g,...y},0===w?(0,Je.of)(y):Promise.resolve(y)))).subscribe(u=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(e);const g=(0,l.HJs)(i.component);if(g)for(const{templateName:y}of g.inputs)e.activatedComponentRef.setInput(y,u[y]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,a)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();function _h(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const a=function JS(n,t,e){return t.children.map(i=>{for(const a of e.children)if(n.shouldReuseRoute(i.value,a.value.snapshot))return _h(n,i,a);return _h(n,i)})}(n,t,e);return new Na(i,a)}{if(n.shouldAttach(t.value)){const u=n.retrieve(t.value);if(null!==u){const g=u.route;return g.value._futureSnapshot=t.value,g.children=t.children.map(y=>_h(n,y)),g}}const i=function vm(n){return new ka(new ws.t(n.url),new ws.t(n.params),new ws.t(n.queryParams),new ws.t(n.fragment),new ws.t(n.data),n.outlet,n.component,n)}(t.value),a=t.children.map(u=>_h(n,u));return new Na(i,a)}}const Yy="ngNavigationCancelingError";function DC(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=Fu(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,a=Em(!1,0,t);return a.url=e,a.navigationBehaviorOptions=i,a}function Em(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[Yy]=!0,i.cancellationCode=t,e&&(i.url=e),i}function Ks(n){return n&&n[Yy]}let yh=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.aNF],decls:1,vars:0,template:function(i,a){1&i&&l.nrm(0,"router-outlet")},dependencies:[_m],encapsulation:2})}}return n})();function Kl(n){const t=n.children&&n.children.map(Kl),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==Ft&&(e.component=yh),e}function di(n){return n.outlet||Ft}function Wo(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class SC{constructor(t,e,i,a,u){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=a,this.inputBindingEnabled=u}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),qy(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const a=mh(e);t.children.forEach(u=>{const g=u.value.outlet;this.deactivateRoutes(u,a[g],i),delete a[g]}),Object.values(a).forEach(u=>{this.deactivateRouteAndItsChildren(u,i)})}deactivateRoutes(t,e,i){const a=t.value,u=e?e.value:null;if(a===u)if(a.component){const g=i.getContext(a.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,i);else u&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,u=mh(t);for(const g of Object.keys(u))this.deactivateRouteAndItsChildren(u[g],a);if(i&&i.outlet){const g=i.outlet.detach(),y=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:g,route:t,contexts:y})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),a=i&&t.value.component?i.children:e,u=mh(t);for(const g of Object.keys(u))this.deactivateRouteAndItsChildren(u[g],a);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(t,e,i){const a=mh(e);t.children.forEach(u=>{this.activateRoutes(u,a[u.value.outlet],i),this.forwardEvent(new yC(u.value.snapshot))}),t.children.length&&this.forwardEvent(new Zf(t.value.snapshot))}activateRoutes(t,e,i){const a=t.value,u=e?e.value:null;if(qy(a),a===u)if(a.component){const g=i.getOrCreateContext(a.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,i);else if(a.component){const g=i.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),g.children.onOutletReAttached(y.contexts),g.attachRef=y.componentRef,g.route=y.route.value,g.outlet&&g.outlet.attach(y.componentRef,y.route.value),qy(y.route.value),this.activateChildRoutes(t,null,g.children)}else{const y=Wo(a.snapshot);g.attachRef=null,g.route=a,g.injector=y,g.outlet&&g.outlet.activateWith(a,g.injector),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,i)}}class Jy{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class ip{constructor(t,e){this.component=t,this.route=e}}function MC(n,t,e){const i=n._root;return Ih(i,t?t._root:null,e,[i.value])}function Uu(n,t){const e=Symbol(),i=t.get(n,e);return i===e?"function"!=typeof n||(0,l.LfX)(n)?t.get(n):n:i}function Ih(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=mh(t);return n.children.forEach(g=>{(function PC(n,t,e,i,a={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,g=t?t.value:null,y=e?e.getContext(n.value.outlet):null;if(g&&u.routeConfig===g.routeConfig){const w=function Zy(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!xu(n.url,t.url);case"pathParamsOrQueryParamsChange":return!xu(n.url,t.url)||!$s(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Qy(n,t)||!$s(n.queryParams,t.queryParams);default:return!Qy(n,t)}}(g,u,u.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new Jy(i)):(u.data=g.data,u._resolvedData=g._resolvedData),Ih(n,t,u.component?y?y.children:null:e,i,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new ip(y.outlet.component,g))}else g&&sp(t,y,a),a.canActivateChecks.push(new Jy(i)),Ih(n,null,u.component?y?y.children:null:e,i,a)})(g,u[g.value.outlet],e,i.concat([g.value]),a),delete u[g.value.outlet]}),Object.entries(u).forEach(([g,y])=>sp(y,e.getContext(g),a)),a}function sp(n,t,e){const i=mh(n),a=n.value;Object.entries(i).forEach(([u,g])=>{sp(g,a.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new ip(a.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,a))}function Cm(n){return"function"==typeof n}function OC(n){return n instanceof ah||"EmptyError"===n?.name}const Dh=Symbol("INITIAL_VALUE");function zo(){return(0,xn.n)(n=>by(n.map(t=>t.pipe(Ho(1),function XE(...n){const t=(0,_u.lI)(n);return(0,ci.N)((e,i)=>{(t?nm(n,e,t):nm(n,e)).subscribe(i)})}(Dh)))).pipe((0,At.T)(t=>{for(const e of t)if(!0!==e){if(e===Dh)return Dh;if(!1===e||e instanceof zl)return e}return!0}),Go(t=>t!==Dh),Ho(1)))}function xC(n){return(0,YE.F)((0,Jn.M)(t=>{if(Fu(t))throw DC(0,t)}),(0,At.T)(t=>!0===t))}class Th{constructor(t){this.segmentGroup=t||null}}class lp{constructor(t){this.urlTree=t}}function xa(n){return zf(new Th(n))}function YD(n){return zf(new lp(n))}class tv{constructor(t,e){this.urlSerializer=t,this.urlTree=e}noMatchError(t){return new l.wOt(4002,!1)}lineralizeSegments(t,e){let i=[],a=e.root;for(;;){if(i=i.concat(a.segments),0===a.numberOfChildren)return(0,Je.of)(i);if(a.numberOfChildren>1||!a.children[Ft])return zf(new l.wOt(4e3,!1));a=a.children[Ft]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,a){const u=this.createSegmentGroup(t,e.root,i,a);return new zl(u,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return Object.entries(t).forEach(([a,u])=>{if("string"==typeof u&&u.startsWith(":")){const y=u.substring(1);i[a]=e[y]}else i[a]=u}),i}createSegmentGroup(t,e,i,a){const u=this.createSegments(t,e.segments,i,a);let g={};return Object.entries(e.children).forEach(([y,w])=>{g[y]=this.createSegmentGroup(t,w,i,a)}),new en(u,g)}createSegments(t,e,i,a){return e.map(u=>u.path.startsWith(":")?this.findPosParam(t,u,a):this.findOrReturn(u,i))}findPosParam(t,e,i){const a=i[e.path.substring(1)];if(!a)throw new l.wOt(4001,!1);return a}findOrReturn(t,e){let i=0;for(const a of e){if(a.path===t.path)return e.splice(i),a;i++}return t}}const nv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FC(n,t,e,i,a){const u=rv(n,t,e);return u.matched?(i=function ui(n,t){return n.providers&&!n._injector&&(n._injector=(0,l.Ol2)(n.providers,t,`Route: ${n.path}`)),n._injector??t}(t,i),function QD(n,t,e,i){const a=t.canMatch;if(!a||0===a.length)return(0,Je.of)(!0);const u=a.map(g=>{const y=Uu(g,n);return Pa(function tM(n){return n&&Cm(n.canMatch)}(y)?y.canMatch(t,e):n.runInContext(()=>y(t,e)))});return(0,Je.of)(u).pipe(zo(),xC())}(i,t,e).pipe((0,At.T)(g=>!0===g?u:{...nv}))):(0,Je.of)(u)}function rv(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...nv}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const a=(t.matcher||CD)(e,n,t);if(!a)return{...nv};const u={};Object.entries(a.posParams??{}).forEach(([y,w])=>{u[y]=w.path});const g=a.consumed.length>0?{...u,...a.consumed[a.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:a.consumed,remainingSegments:e.slice(a.consumed.length),parameters:g,positionalParamSegments:a.posParams??{}}}function LC(n,t,e,i){return e.length>0&&function BC(n,t,e){return e.some(i=>bm(n,t,i)&&di(i)!==Ft)}(n,e,i)?{segmentGroup:new en(t,UC(i,new en(e,n.children))),slicedSegments:[]}:0===e.length&&function ZD(n,t,e){return e.some(i=>bm(n,t,i))}(n,e,i)?{segmentGroup:new en(n.segments,VC(n,0,e,i,n.children)),slicedSegments:e}:{segmentGroup:new en(n.segments,n.children),slicedSegments:e}}function VC(n,t,e,i,a){const u={};for(const g of i)if(bm(n,e,g)&&!a[di(g)]){const y=new en([],{});u[di(g)]=y}return{...a,...u}}function UC(n,t){const e={};e[Ft]=t;for(const i of n)if(""===i.path&&di(i)!==Ft){const a=new en([],{});e[di(i)]=a}return e}function bm(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}class sv{constructor(t,e,i,a,u,g,y){this.injector=t,this.configLoader=e,this.rootComponentType=i,this.config=a,this.urlTree=u,this.paramsInheritanceStrategy=g,this.urlSerializer=y,this.allowRedirects=!0,this.applyRedirects=new tv(this.urlSerializer,this.urlTree)}noMatchError(t){return new l.wOt(4002,!1)}recognize(){const t=LC(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Ft).pipe(Ou(e=>{if(e instanceof lp)return this.allowRedirects=!1,this.urlTree=e.urlTree,this.match(e.urlTree);throw e instanceof Th?this.noMatchError(e):e}),(0,At.T)(e=>{const i=new mm([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ft,this.rootComponentType,null,{}),a=new Na(i,e),u=new CC("",a),g=function PD(n,t,e=null,i=null){return um(Hs(n),t,e,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return g.queryParams=this.urlTree.queryParams,u.url=this.urlSerializer.serialize(g),this.inheritParamsAndData(u._root),{state:u,tree:g}}))}match(t){return this.processSegmentGroup(this.injector,this.config,t.root,Ft).pipe(Ou(i=>{throw i instanceof Th?this.noMatchError(i):i}))}inheritParamsAndData(t){const e=t.value,i=tp(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(t,e,i,a){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,a,!0)}processChildren(t,e,i){const a=[];for(const u of Object.keys(i.children))"primary"===u?a.unshift(u):a.push(u);return(0,hn.H)(a).pipe(qf(u=>{const g=i.children[u],y=function bh(n,t){const e=n.filter(i=>di(i)===t);return e.push(...n.filter(i=>di(i)!==t)),e}(e,u);return this.processSegmentGroup(t,y,g,u)}),rm((u,g)=>(u.push(...g),u)),Gl(null),function vD(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Go((a,u)=>n(a,u,i)):tm.D,ZE(1),e?Gl(t):Kf(()=>new ah))}(),(0,Nr.Z)(u=>{if(null===u)return xa(i);const g=cp(u);return function nT(n){n.sort((t,e)=>t.value.outlet===Ft?-1:e.value.outlet===Ft?1:t.value.outlet.localeCompare(e.value.outlet))}(g),(0,Je.of)(g)}))}processSegment(t,e,i,a,u,g){return(0,hn.H)(e).pipe(qf(y=>this.processSegmentAgainstRoute(y._injector??t,e,y,i,a,u,g).pipe(Ou(w=>{if(w instanceof Th)return(0,Je.of)(null);throw w}))),Ra(y=>!!y),Ou(y=>{if(OC(y))return function tT(n,t,e){return 0===t.length&&!n.children[e]}(i,a,u)?(0,Je.of)([]):xa(i);throw y}))}processSegmentAgainstRoute(t,e,i,a,u,g,y){return function eT(n,t,e,i){return!!(di(n)===i||i!==Ft&&bm(t,e,n))&&("**"===n.path||rv(t,n,e).matched)}(i,a,u,g)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,a,i,u,g,y):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,a,e,i,u,g):xa(a):xa(a)}expandSegmentAgainstRouteUsingRedirect(t,e,i,a,u,g){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,a,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,u,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,a){const u=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?YD(u):this.applyRedirects.lineralizeSegments(i,u).pipe((0,Nr.Z)(g=>{const y=new en(g,{});return this.processSegment(t,e,y,g,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,a,u,g){const{matched:y,consumedSegments:w,remainingSegments:A,positionalParamSegments:F}=rv(e,a,u);if(!y)return xa(e);const V=this.applyRedirects.applyRedirectCommands(w,a.redirectTo,F);return a.redirectTo.startsWith("/")?YD(V):this.applyRedirects.lineralizeSegments(a,V).pipe((0,Nr.Z)(Z=>this.processSegment(t,i,e,Z.concat(A),g,!1)))}matchSegmentAgainstRoute(t,e,i,a,u,g){let y;if("**"===i.path){const w=a.length>0?Ay(a).parameters:{},A=new mm(a,w,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(i),di(i),i.component??i._loadedComponent??null,i,$C(i));y=(0,Je.of)({snapshot:A,consumedSegments:[],remainingSegments:[]}),e.children={}}else y=FC(e,i,a,t).pipe((0,At.T)(({matched:w,consumedSegments:A,remainingSegments:F,parameters:V})=>w?{snapshot:new mm(A,V,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ov(i),di(i),i.component??i._loadedComponent??null,i,$C(i)),consumedSegments:A,remainingSegments:F}:null));return y.pipe((0,xn.n)(w=>null===w?xa(e):this.getChildConfig(t=i._injector??t,i,a).pipe((0,xn.n)(({routes:A})=>{const F=i._loadedInjector??t,{snapshot:V,consumedSegments:Z,remainingSegments:me}=w,{segmentGroup:De,slicedSegments:je}=LC(e,Z,me,A);if(0===je.length&&De.hasChildren())return this.processChildren(F,A,De).pipe((0,At.T)(It=>null===It?null:[new Na(V,It)]));if(0===A.length&&0===je.length)return(0,Je.of)([new Na(V,[])]);const at=di(i)===u;return this.processSegment(F,A,De,je,at?Ft:u,!0).pipe((0,At.T)(It=>[new Na(V,It)]))}))))}getChildConfig(t,e,i){return e.children?(0,Je.of)({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?(0,Je.of)({routes:e._loadedRoutes,injector:e._loadedInjector}):function qD(n,t,e,i){const a=t.canLoad;if(void 0===a||0===a.length)return(0,Je.of)(!0);const u=a.map(g=>{const y=Uu(g,n);return Pa(function $D(n){return n&&Cm(n.canLoad)}(y)?y.canLoad(t,e):n.runInContext(()=>y(t,e)))});return(0,Je.of)(u).pipe(zo(),xC())}(t,e,i).pipe((0,Nr.Z)(a=>a?this.configLoader.loadChildren(t,e).pipe((0,Jn.M)(u=>{e._loadedRoutes=u.routes,e._loadedInjector=u.injector})):function JD(n){return zf(Em(!1,3))}())):(0,Je.of)({routes:[],injector:t})}}function Im(n){const t=n.value.routeConfig;return t&&""===t.path}function cp(n){const t=[],e=new Set;for(const i of n){if(!Im(i)){t.push(i);continue}const a=t.find(u=>i.value.routeConfig===u.value.routeConfig);void 0!==a?(a.children.push(...i.children),e.add(a)):t.push(i)}for(const i of e){const a=cp(i.children);t.push(new Na(i.value,a))}return t.filter(i=>!e.has(i))}function ov(n){return n.data||{}}function $C(n){return n.resolve||{}}function WC(n){return"string"==typeof n.title||null===n.title}function cv(n){return(0,xn.n)(t=>{const e=n(t);return e?(0,hn.H)(e).pipe((0,At.T)(()=>t)):(0,Je.of)(t)})}const Bu=new l.nKC("ROUTES");let up=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.WQX)(l.Ql9)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return(0,Je.of)(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Pa(e.loadComponent()).pipe((0,At.T)(dv),(0,Jn.M)(u=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=u}),eC(()=>{this.componentLoaders.delete(e)})),a=new $o(i,()=>new Vi.B).pipe(Hl());return this.componentLoaders.set(e,a),a}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,Je.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const u=function zC(n,t,e,i){return Pa(n.loadChildren()).pipe((0,At.T)(dv),(0,Nr.Z)(a=>a instanceof l.Co$||Array.isArray(a)?(0,Je.of)(a):(0,hn.H)(t.compileModuleAsync(a))),(0,At.T)(a=>{i&&i(n);let u,g,y=!1;return Array.isArray(a)?(g=a,!0):(u=a.create(e).injector,g=u.get(Bu,[],{optional:!0,self:!0}).flat()),{routes:g.map(Kl),injector:u}}))}(i,this.compiler,e,this.onLoadEndListener).pipe(eC(()=>{this.childrenLoaders.delete(i)})),g=new $o(u,()=>new Vi.B).pipe(Hl());return this.childrenLoaders.set(i,g),g}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dv(n){return function uv(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dm=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vi.B,this.transitionAbortSubject=new Vi.B,this.configLoader=(0,l.WQX)(up),this.environmentInjector=(0,l.WQX)(l.uvJ),this.urlSerializer=(0,l.WQX)(Qf),this.rootContexts=(0,l.WQX)(ep),this.inputBindingEnabled=null!==(0,l.WQX)(ym,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,Je.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new mC(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new FD(a))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:i})}setupNavigations(e,i,a){return this.transitions=new ws.t({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:e.urlHandlingStrategy.extract(i),urlAfterRedirects:e.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Jf,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Go(u=>0!==u.id),(0,At.T)(u=>({...u,extractedUrl:e.urlHandlingStrategy.extract(u.rawUrl)})),(0,xn.n)(u=>{this.currentTransition=u;let g=!1,y=!1;return(0,Je.of)(u).pipe((0,Jn.M)(w=>{this.currentNavigation={id:w.id,initialUrl:w.rawUrl,extractedUrl:w.extractedUrl,trigger:w.source,extras:w.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,xn.n)(w=>{const A=w.currentBrowserUrl.toString(),F=!e.navigated||w.extractedUrl.toString()!==A||A!==w.currentUrlTree.toString();if(!F&&"reload"!==(w.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const Z="";return this.events.next(new Lu(w.id,this.urlSerializer.serialize(w.rawUrl),Z,0)),w.resolve(null),$l.w}if(e.urlHandlingStrategy.shouldProcessUrl(w.rawUrl))return(0,Je.of)(w).pipe((0,xn.n)(Z=>{const me=this.transitions?.getValue();return this.events.next(new pm(Z.id,this.urlSerializer.serialize(Z.extractedUrl),Z.source,Z.restoredState)),me!==this.transitions?.getValue()?$l.w:Promise.resolve(Z)}),function rT(n,t,e,i,a,u){return(0,Nr.Z)(g=>function iv(n,t,e,i,a,u,g="emptyOnly"){return new sv(n,t,e,i,a,g,u).recognize()}(n,t,e,i,g.extractedUrl,a,u).pipe((0,At.T)(({state:y,tree:w})=>({...g,targetSnapshot:y,urlAfterRedirects:w}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,e.paramsInheritanceStrategy),(0,Jn.M)(Z=>{u.targetSnapshot=Z.targetSnapshot,u.urlAfterRedirects=Z.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:Z.urlAfterRedirects};const me=new ND(Z.id,this.urlSerializer.serialize(Z.extractedUrl),this.urlSerializer.serialize(Z.urlAfterRedirects),Z.targetSnapshot);this.events.next(me)}));if(F&&e.urlHandlingStrategy.shouldProcessUrl(w.currentRawUrl)){const{id:Z,extractedUrl:me,source:De,restoredState:je,extras:at}=w,It=new pm(Z,this.urlSerializer.serialize(me),De,je);this.events.next(It);const Mt=Wy(0,this.rootComponentType).snapshot;return this.currentTransition=u={...w,targetSnapshot:Mt,urlAfterRedirects:me,extras:{...at,skipLocationChange:!1,replaceUrl:!1}},(0,Je.of)(u)}{const Z="";return this.events.next(new Lu(w.id,this.urlSerializer.serialize(w.extractedUrl),Z,1)),w.resolve(null),$l.w}}),(0,Jn.M)(w=>{const A=new kD(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(A)}),(0,At.T)(w=>(this.currentTransition=u={...w,guards:MC(w.targetSnapshot,w.currentSnapshot,this.rootContexts)},u)),function ev(n,t){return(0,Nr.Z)(e=>{const{targetSnapshot:i,currentSnapshot:a,guards:{canActivateChecks:u,canDeactivateChecks:g}}=e;return 0===g.length&&0===u.length?(0,Je.of)({...e,guardsResult:!0}):function wm(n,t,e,i){return(0,hn.H)(n).pipe((0,Nr.Z)(a=>function KD(n,t,e,i,a){const u=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!u||0===u.length)return(0,Je.of)(!0);const g=u.map(y=>{const w=Wo(t)??a,A=Uu(y,w);return Pa(function GD(n){return n&&Cm(n.canDeactivate)}(A)?A.canDeactivate(n,t,e,i):w.runInContext(()=>A(n,t,e,i))).pipe(Ra())});return(0,Je.of)(g).pipe(zo())}(a.component,a.route,e,t,i)),Ra(a=>!0!==a,!0))}(g,i,a,n).pipe((0,Nr.Z)(y=>y&&function ZS(n){return"boolean"==typeof n}(y)?function NC(n,t,e,i){return(0,hn.H)(t).pipe(qf(a=>nm(function kC(n,t){return null!==n&&t&&t(new _C(n)),(0,Je.of)(!0)}(a.route.parent,i),function op(n,t){return null!==n&&t&&t(new LD(n)),(0,Je.of)(!0)}(a.route,i),function ap(n,t,e){const i=t[t.length-1],u=t.slice(0,t.length-1).reverse().map(g=>function RC(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Dy(()=>{const y=g.guards.map(w=>{const A=Wo(g.node)??e,F=Uu(w,A);return Pa(function eM(n){return n&&Cm(n.canActivateChild)}(F)?F.canActivateChild(i,n):A.runInContext(()=>F(i,n))).pipe(Ra())});return(0,Je.of)(y).pipe(zo())}));return(0,Je.of)(u).pipe(zo())}(n,a.path,e),function zD(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return(0,Je.of)(!0);const a=i.map(u=>Dy(()=>{const g=Wo(t)??e,y=Uu(u,g);return Pa(function HD(n){return n&&Cm(n.canActivate)}(y)?y.canActivate(t,n):g.runInContext(()=>y(t,n))).pipe(Ra())}));return(0,Je.of)(a).pipe(zo())}(n,a.route,e))),Ra(a=>!0!==a,!0))}(i,u,n,t):(0,Je.of)(y)),(0,At.T)(y=>({...e,guardsResult:y})))})}(this.environmentInjector,w=>this.events.next(w)),(0,Jn.M)(w=>{if(u.guardsResult=w.guardsResult,Fu(w.guardsResult))throw DC(0,w.guardsResult);const A=new pC(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot,!!w.guardsResult);this.events.next(A)}),Go(w=>!!w.guardsResult||(this.cancelNavigationTransition(w,"",3),!1)),cv(w=>{if(w.guards.canActivateChecks.length)return(0,Je.of)(w).pipe((0,Jn.M)(A=>{const F=new gC(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(F)}),(0,xn.n)(A=>{let F=!1;return(0,Je.of)(A).pipe(function iT(n,t){return(0,Nr.Z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:a}}=e;if(!a.length)return(0,Je.of)(e);let u=0;return(0,hn.H)(a).pipe(qf(g=>function av(n,t,e,i){const a=n.routeConfig,u=n._resolve;return void 0!==a?.title&&!WC(a)&&(u[Wl]=a.title),function lv(n,t,e,i){const a=function HC(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===a.length)return(0,Je.of)({});const u={};return(0,hn.H)(a).pipe((0,Nr.Z)(g=>function GC(n,t,e,i){const a=Wo(t)??i,u=Uu(n,a);return Pa(u.resolve?u.resolve(t,e):a.runInContext(()=>u(t,e)))}(n[g],t,e,i).pipe(Ra(),(0,Jn.M)(y=>{u[g]=y}))),ZE(1),ED(u),Ou(g=>OC(g)?$l.w:zf(g)))}(u,n,t,i).pipe((0,At.T)(g=>(n._resolvedData=g,n.data=tp(n,e).resolve,a&&WC(a)&&(n.data[Wl]=a.title),null)))}(g.route,i,n,t)),(0,Jn.M)(()=>u++),ZE(1),(0,Nr.Z)(g=>u===a.length?(0,Je.of)(e):$l.w))})}(e.paramsInheritanceStrategy,this.environmentInjector),(0,Jn.M)({next:()=>F=!0,complete:()=>{F||this.cancelNavigationTransition(A,"",2)}}))}),(0,Jn.M)(A=>{const F=new xD(A.id,this.urlSerializer.serialize(A.extractedUrl),this.urlSerializer.serialize(A.urlAfterRedirects),A.targetSnapshot);this.events.next(F)}))}),cv(w=>{const A=F=>{const V=[];F.routeConfig?.loadComponent&&!F.routeConfig._loadedComponent&&V.push(this.configLoader.loadComponent(F.routeConfig).pipe((0,Jn.M)(Z=>{F.component=Z}),(0,At.T)(()=>{})));for(const Z of F.children)V.push(...A(Z));return V};return by(A(w.targetSnapshot.root)).pipe(Gl(),Ho(1))}),cv(()=>this.afterPreactivation()),(0,At.T)(w=>{const A=function IC(n,t,e){const i=_h(n,t._root,e?e._root:void 0);return new EC(i,t)}(e.routeReuseStrategy,w.targetSnapshot,w.currentRouterState);return this.currentTransition=u={...w,targetRouterState:A},u}),(0,Jn.M)(()=>{this.events.next(new jy)}),((n,t,e,i)=>(0,At.T)(a=>(new SC(t,a.targetRouterState,a.currentRouterState,e,i).activate(n),a)))(this.rootContexts,e.routeReuseStrategy,w=>this.events.next(w),this.inputBindingEnabled),Ho(1),(0,Jn.M)({next:w=>{g=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zs(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects))),e.titleStrategy?.updateTitle(w.targetRouterState.snapshot),w.resolve(!0)},complete:()=>{g=!0}}),function tC(n){return(0,ci.N)((t,e)=>{(0,Ll.Tg)(n).subscribe((0,_r._)(e,()=>e.complete(),im.l)),!e.closed&&t.subscribe(e)})}(this.transitionAbortSubject.pipe((0,Jn.M)(w=>{throw w}))),eC(()=>{g||y||this.cancelNavigationTransition(u,"",1),this.currentNavigation?.id===u.id&&(this.currentNavigation=null)}),Ou(w=>{if(y=!0,Ks(w))this.events.next(new Oa(u.id,this.urlSerializer.serialize(u.extractedUrl),w.message,w.cancellationCode)),function jD(n){return Ks(n)&&Fu(n.url)}(w)?this.events.next(new $y(w.url)):u.resolve(!1);else{this.events.next(new Vu(u.id,this.urlSerializer.serialize(u.extractedUrl),w,u.targetSnapshot??void 0));try{u.resolve(e.errorHandler(w))}catch(A){u.reject(A)}}return $l.w}))}))}cancelNavigationTransition(e,i,a){const u=new Oa(e.id,this.urlSerializer.serialize(e.extractedUrl),i,a);this.events.next(u),e.resolve(!1)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function hv(n){return n!==Jf}let fv=(()=>{class n{buildTitle(e){let i,a=e.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(u=>u.outlet===Ft);return i}getResolvedTitleForRoute(e){return e.data[Wl]}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return(0,l.WQX)(KC)},providedIn:"root"})}}return n})(),KC=(()=>{class n extends fv{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(fa))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),qC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return(0,l.WQX)(oT)},providedIn:"root"})}}return n})();class sT{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}let oT=(()=>{class n extends sT{static{this.\u0275fac=function(){let e;return function(a){return(e||(e=l.xGo(n)))(a||n)}}()}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Tm=new l.nKC("",{providedIn:"root",factory:()=>({})});let QC=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:function(){return(0,l.WQX)(pv)},providedIn:"root"})}}return n})(),pv=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,i){return e}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Ah=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Ah||{});function gv(n,t){n.events.pipe(Go(e=>e instanceof zs||e instanceof Oa||e instanceof Vu||e instanceof Lu),(0,At.T)(e=>e instanceof zs||e instanceof Lu?Ah.COMPLETE:e instanceof Oa&&(0===e.code||1===e.code)?Ah.REDIRECTING:Ah.FAILED),Go(e=>e!==Ah.REDIRECTING),Ho(1)).subscribe(()=>{t()})}function YC(n){throw n}function XC(n,t,e){return t.parse("/")}const JC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ZC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wr=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.WQX)(l.H3F),this.isNgZoneEnabled=!1,this._events=new Vi.B,this.options=(0,l.WQX)(Tm,{optional:!0})||{},this.pendingTasks=(0,l.WQX)(l.$K3),this.errorHandler=this.options.errorHandler||YC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||XC,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.WQX)(QC),this.routeReuseStrategy=(0,l.WQX)(qC),this.titleStrategy=(0,l.WQX)(fv),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,l.WQX)(Bu,{optional:!0})?.flat()??[],this.navigationTransitions=(0,l.WQX)(Dm),this.urlSerializer=(0,l.WQX)(Qf),this.location=(0,l.WQX)(Te),this.componentInputBindingEnabled=!!(0,l.WQX)(ym,{optional:!0}),this.eventsSubscription=new Ty.yU,this.isNgZoneEnabled=(0,l.WQX)(l.SKi)instanceof l.SKi&&l.SKi.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new zl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Wy(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(e=>{this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(dp(i)&&this._events.next(i));if(i instanceof pm)hv(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof Lu)this.rawUrlTree=a.rawUrl;else if(i instanceof ND){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const u=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(u,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof jy)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof Oa)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof $y){const u=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),g={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||hv(a.source)};this.scheduleNavigation(u,Jf,null,g,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Vu&&this.restoreHistory(a,!0),i instanceof zs&&(this.navigated=!0),dp(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const e=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Jf,e)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(e.url,i,e.state)},0)}))}navigateToSyncWithBrowser(e,i,a){const u={replaceUrl:!0},g=a?.navigationId?a:null;if(a){const w={...a};delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const y=this.parseUrl(e);this.scheduleNavigation(y,i,g,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Kl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,i={}){const{relativeTo:a,queryParams:u,fragment:g,queryParamsHandling:y,preserveFragment:w}=i,A=w?this.currentUrlTree.fragment:g;let V,F=null;switch(y){case"merge":F={...this.currentUrlTree.queryParams,...u};break;case"preserve":F=this.currentUrlTree.queryParams;break;default:F=u||null}null!==F&&(F=this.removeEmptyProps(F));try{V=Hs(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),V=this.currentUrlTree.root}return um(V,e,F,A??null)}navigateByUrl(e,i={skipLocationChange:!1}){const a=Fu(e)?e:this.parseUrl(e),u=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(u,Jf,null,i)}navigate(e,i={skipLocationChange:!1}){return function ew(n){for(let t=0;t<n.length;t++)if(null==n[t])throw new l.wOt(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,e)}return i}isActive(e,i){let a;if(a=!0===i?{...JC}:!1===i?{...ZC}:i,Fu(e))return iC(this.currentUrlTree,e,a);const u=this.parseUrl(e);return iC(this.currentUrlTree,u,a)}removeEmptyProps(e){return Object.keys(e).reduce((i,a)=>{const u=e[a];return null!=u&&(i[a]=u),i},{})}scheduleNavigation(e,i,a,u,g){if(this.disposed)return Promise.resolve(!1);let y,w,A;g?(y=g.resolve,w=g.reject,A=g.promise):A=new Promise((V,Z)=>{y=V,w=Z});const F=this.pendingTasks.add();return gv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(F))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:e,extras:u,resolve:y,reject:w,promise:A,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),A.catch(V=>Promise.reject(V))}setBrowserUrl(e,i){const a=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const g={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",g)}else{const u={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",u)}}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const u=this.currentPageId-this.browserPageId;0!==u?this.location.historyGo(u):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===u&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function dp(n){return!(n instanceof jy||n instanceof $y)}class Am{}let cT=(()=>{class n{constructor(e,i,a,u,g){this.router=e,this.injector=a,this.preloadingStrategy=u,this.loader=g}setUpPreloading(){this.subscription=this.router.events.pipe(Go(e=>e instanceof zs),qf(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const a=[];for(const u of i){u.providers&&!u._injector&&(u._injector=(0,l.Ol2)(u.providers,e,`Route: ${u.path}`));const g=u._injector??e,y=u._loadedInjector??g;(u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent)&&a.push(this.preloadConfig(g,u)),(u.children||u._loadedRoutes)&&a.push(this.processRoutes(y,u.children??u._loadedRoutes))}return(0,hn.H)(a).pipe((0,lh.U)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):(0,Je.of)(null);const u=a.pipe((0,Nr.Z)(g=>null===g?(0,Je.of)(void 0):(i._loadedRoutes=g.routes,i._loadedInjector=g.injector,this.processRoutes(g.injector??e,g.routes))));if(i.loadComponent&&!i._loadedComponent){const g=this.loader.loadComponent(i);return(0,hn.H)([u,g]).pipe((0,lh.U)())}return u})}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(Wr),l.KVO(l.Ql9),l.KVO(l.uvJ),l.KVO(Am),l.KVO(up))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const hp=new l.nKC("");let uT=(()=>{class n{constructor(e,i,a,u,g={}){this.urlSerializer=e,this.transitions=i,this.viewportScroller=a,this.zone=u,this.options=g,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},g.scrollPositionRestoration=g.scrollPositionRestoration||"disabled",g.anchorScrolling=g.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof pm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof zs?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Lu&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof By&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new By(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(i){l.QTQ()}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac})}}return n})();function Fa(n,t){return{\u0275kind:n,\u0275providers:t}}function iw(){const n=(0,l.WQX)(l.zZn);return t=>{const e=n.get(l.o8S);if(t!==e.components[0])return;const i=n.get(Wr),a=n.get(sw);1===n.get(Sm)&&i.initialNavigation(),n.get(ju,null,l.$GK.Optional)?.setUpPreloading(),n.get(hp,null,l.$GK.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}const sw=new l.nKC("",{factory:()=>new Vi.B}),Sm=new l.nKC("",{providedIn:"root",factory:()=>1}),ju=new l.nKC("");function pT(n){return Fa(0,[{provide:ju,useExisting:cT},{provide:Am,useExisting:n}])}const mv=new l.nKC("ROUTER_FORROOT_GUARD"),_v=[Te,{provide:Qf,useClass:om},Wr,ep,{provide:ka,useFactory:function nw(n){return n.routerState.root},deps:[Wr]},up,[]];function qo(){return new l.NEm("Router",Wr)}let mT=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[_v,[],{provide:Bu,multi:!0,useValue:e},{provide:mv,useFactory:Ys,deps:[[Wr,new l.Xx1,new l.kdw]]},{provide:Tm,useValue:i||{}},i?.useHash?{provide:pe,useClass:Se}:{provide:pe,useClass:Pe},{provide:hp,useFactory:()=>{const n=(0,l.WQX)(Dr),t=(0,l.WQX)(l.SKi),e=(0,l.WQX)(Tm),i=(0,l.WQX)(Dm),a=(0,l.WQX)(Qf);return e.scrollOffset&&n.setOffset(e.scrollOffset),new uT(a,i,n,t,e)}},i?.preloadingStrategy?pT(i.preloadingStrategy).\u0275providers:[],{provide:l.NEm,multi:!0,useFactory:qo},i?.initialNavigation?lw(i):[],i?.bindToComponentInputs?Fa(8,[BD,{provide:ym,useExisting:BD}]).\u0275providers:[],[{provide:yv,useFactory:iw},{provide:l.iLQ,multi:!0,useExisting:yv}]]}}static forChild(e){return{ngModule:n,providers:[{provide:Bu,multi:!0,useValue:e}]}}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(mv,8))}}static{this.\u0275mod=l.$C({type:n})}static{this.\u0275inj=l.G2t({})}}return n})();function Ys(n){return"guarded"}function lw(n){return["disabled"===n.initialNavigation?Fa(3,[{provide:l.hnV,multi:!0,useFactory:()=>{const t=(0,l.WQX)(Wr);return()=>{t.setUpLocationChangeListener()}}},{provide:Sm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Fa(2,[{provide:Sm,useValue:0},{provide:l.hnV,multi:!0,deps:[l.zZn],useFactory:t=>{const e=t.get(Y,Promise.resolve());return()=>e.then(()=>new Promise(i=>{const a=t.get(Wr),u=t.get(sw);gv(a,()=>{i(!0)}),t.get(Dm).afterPreactivation=()=>(i(!0),u.closed?(0,Je.of)(void 0):u),a.initialNavigation()}))}}]).\u0275providers:[]]}const yv=new l.nKC("");var bs=R(4783),vv=R(3236),Ev=R(7786),Cv=R(7647),uw=R(3294),Bi=R(1161),dw=(R(6922),R(3345)),$u=R(1362),Yo=R(467),La=R(7852),j=R(1076),Mh=R(8041);const wv="@firebase/database";let Pm="";function Iv(n){Pm=n}class hw{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,j.As)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,j.$L)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class fw{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,j.gR)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const Dv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hw(t)}}catch{}return new fw},ql=Dv("localStorage"),Tv=Dv("sessionStorage"),Rh=new Mh.Vy("@firebase/database"),pw=function(){let n=1;return function(){return n++}}(),gw=function(n){const t=(0,j.kj)(n),e=new j.gz;e.update(t);const i=e.digest();return j.K3.encodeByteArray(i)},fp=function(...n){let t="";for(let e=0;e<n.length;e++){const i=n[e];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?t+=fp.apply(null,i):t+="object"==typeof i?(0,j.As)(i):i,t+=" "}return t};let Hu=null,mw=!0;const _w=function(n,t){(0,j.vA)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Rh.logLevel=Mh.$b.VERBOSE,Hu=Rh.log.bind(Rh),t&&Tv.set("logging_enabled",!0)):"function"==typeof n?Hu=n:(Hu=null,Tv.remove("logging_enabled"))},xr=function(...n){if(!0===mw&&(mw=!1,null===Hu&&!0===Tv.get("logging_enabled")&&_w(!0)),Hu){const t=fp.apply(null,n);Hu(t)}},pp=function(n){return function(...t){xr(n,...t)}},Av=function(...n){const t="FIREBASE INTERNAL ERROR: "+fp(...n);Rh.error(t)},Xo=function(...n){const t=`FIREBASE FATAL ERROR: ${fp(...n)}`;throw Rh.error(t),new Error(t)},hi=function(...n){const t="FIREBASE WARNING: "+fp(...n);Rh.warn(t)},Om=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},Ql="[MIN_NAME]",Jo="[MAX_NAME]",Yl=function(n,t){if(n===t)return 0;if(n===Ql||t===Jo)return-1;if(t===Ql||n===Jo)return 1;{const e=Wu(n),i=Wu(t);return null!==e?null!==i?e-i==0?n.length-t.length:e-i:-1:null!==i?1:n<t?-1:1}},yw=function(n,t){return n===t?0:n<t?-1:1},Ph=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,j.As)(t))},Nm=function(n){if("object"!=typeof n||null===n)return(0,j.As)(n);const t=[];for(const i in n)t.push(i);t.sort();let e="{";for(let i=0;i<t.length;i++)0!==i&&(e+=","),e+=(0,j.As)(t[i]),e+=":",e+=Nm(n[t[i]]);return e+="}",e},Sv=function(n,t){const e=n.length;if(e<=t)return[n];const i=[];for(let a=0;a<e;a+=t)i.push(n.substring(a,a+t>e?e:a+t));return i};function yr(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Mv=function(n){(0,j.vA)(!Om(n),"Invalid JSON number");const i=1023;let a,u,g,y,w;0===n?(u=0,g=0,a=1/n==-1/0?1:0):(a=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(y=Math.min(Math.floor(Math.log(n)/Math.LN2),i),u=y+i,g=Math.round(n*Math.pow(2,52-y)-Math.pow(2,52))):(u=0,g=Math.round(n/Math.pow(2,-1074))));const A=[];for(w=52;w;w-=1)A.push(g%2?1:0),g=Math.floor(g/2);for(w=11;w;w-=1)A.push(u%2?1:0),u=Math.floor(u/2);A.push(a?1:0),A.reverse();const F=A.join("");let V="";for(w=0;w<64;w+=8){let Z=parseInt(F.substr(w,8),2).toString(16);1===Z.length&&(Z="0"+Z),V+=Z}return V.toLowerCase()},Gu=new RegExp("^-?(0*)\\d{1,10}$"),Wu=function(n){if(Gu.test(n)){const t=Number(n);if(t>=-2147483648&&t<=2147483647)return t}return null},gp=function(n){try{n()}catch(t){setTimeout(()=>{throw hi("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},km=function(n,t){const e=setTimeout(n,t);return"number"==typeof e&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):"object"==typeof e&&e.unref&&e.unref(),e};class ww{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=e?.getImmediate({optional:!0}),this.appCheck||e?.get().then(i=>this.appCheck=i)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,i)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(i=>i.addTokenListener(t))}notifyForInvalidToken(){hi(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class bw{constructor(t,e,i){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(xr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,i)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,i):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',hi(t)}}let xm=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const Aw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,DT="websocket",Pv="long_polling";class Fm{constructor(t,e,i,a,u=!1,g="",y=!1,w=!1){this.secure=e,this.namespace=i,this.webSocketOnly=a,this.nodeAdmin=u,this.persistenceKey=g,this.includeNamespaceInQueryParams=y,this.isUsingEmulator=w,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ql.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ql.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function Ov(n,t,e){let i;if((0,j.vA)("string"==typeof t,"typeof type must == string"),(0,j.vA)("object"==typeof e,"typeof params must == object"),t===DT)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Pv)throw new Error("Unknown connection type: "+t);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function TT(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const a=[];return yr(e,(u,g)=>{a.push(u+"="+g)}),i+a.join("&")}class Sw{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,j.gR)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,j.A4)(this.counters_)}}const Lm={},Vm={};function Nv(n){const t=n.toString();return Lm[t]||(Lm[t]=new Sw),Lm[t]}class ST{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<i.length;++a)i[a]&&gp(()=>{this.onMessage_(i[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Xl{constructor(t,e,i,a,u,g,y){this.connId=t,this.repoInfo=e,this.applicationId=i,this.appCheckToken=a,this.authToken=u,this.transportSessionId=g,this.lastSessionId=y,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=pp(t),this.stats_=Nv(e),this.urlFn=w=>(this.appCheckToken&&(w.ac=this.appCheckToken),Ov(e,Pv,w))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new ST(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,j.$g)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Um((...u)=>{const[g,y,w,A,F]=u;if(this.incrementIncomingBytes_(u),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===g)this.id=y,this.password=w;else{if("close"!==g)throw new Error("Unrecognized command received: "+g);y?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(y,()=>{this.onClosed_()})):this.onClosed_()}},(...u)=>{const[g,y]=u;this.incrementIncomingBytes_(u),this.myPacketOrderer.handleResponse(g,y)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&Aw.test(location.hostname)&&(i.r="f");const a=this.urlFn(i);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xl.forceAllow_=!0}static forceDisallow(){Xl.forceDisallow_=!0}static isAvailable(){return!((0,j.$g)()||!Xl.forceAllow_&&(Xl.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,j.As)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const i=(0,j.KA)(e),a=Sv(i,1840);for(let u=0;u<a.length;u++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[u]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,j.$g)())return;this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=t,i.pw=e,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,j.As)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Um{constructor(t,e,i,a){if(this.onDisconnect=i,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,j.$g)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=pw(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=Um.createIFrame_();let u="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(u='<script>document.domain="'+document.domain+'";<\/script>');const g="<html><body>"+u+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(g),this.myIFrame.doc.close()}catch(y){xr("frame writing exception"),y.stack&&xr(y.stack),xr(y)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||xr("No IE domain setting required")}catch{const i=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),i="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const g=this.pendingSegs.shift();i=i+"&seg"+a+"="+g.seg+"&ts"+a+"="+g.ts+"&d"+a+"="+g.d,a++}return e+=i,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,i){this.pendingSegs.push({seg:t,ts:e,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const i=()=>{this.outstandingRequests.delete(e),this.newRequest_()},a=setTimeout(i,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(a),i()})}addTag(t,e){(0,j.$g)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){const a=i.readyState;(!a||"loaded"===a||"complete"===a)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=()=>{xr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Fv=null;typeof MozWebSocket<"u"?Fv=MozWebSocket:typeof WebSocket<"u"&&(Fv=WebSocket);let Cp=(()=>{class n{constructor(e,i,a,u,g,y,w){this.connId=e,this.applicationId=a,this.appCheckToken=u,this.authToken=g,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=pp(this.connId),this.stats_=Nv(i),this.connURL=n.connectionURL_(i,y,w,u,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,u,g){const y={v:"5"};return!(0,j.$g)()&&typeof location<"u"&&location.hostname&&Aw.test(location.hostname)&&(y.r="f"),i&&(y.s=i),a&&(y.ls=a),u&&(y.ac=u),g&&(y.p=g),Ov(e,DT,y)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ql.set("previous_websocket_failure",!0);try{let a;if((0,j.$g)()){a={headers:{"User-Agent":`Firebase/5/${Pm}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const g=process.env,y=0===this.connURL.indexOf("wss://")?g.HTTPS_PROXY||g.https_proxy:g.HTTP_PROXY||g.http_proxy;y&&(a.proxy={origin:y})}this.mySock=new Fv(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const u=a.message||a.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const u=a.message||a.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const a=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&null!==Fv&&!n.forceDisallow_}static previouslyFailed(){return ql.isInMemoryStorage||!0===ql.get("previous_websocket_failure")}markConnectionHealthy(){ql.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=(0,j.$L)(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,j.vA)(null===this.frames,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);null!==a&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=(0,j.As)(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Sv(i,16384);a.length>1&&this.sendString_(String(a.length));for(let u=0;u<a.length;u++)this.sendString_(a[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),FT=(()=>{class n{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Xl,Cp]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const i=Cp&&Cp.isAvailable();let a=i&&!Cp.previouslyFailed();if(e.webSocketOnly&&(i||hi("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[Cp];else{const u=this.transports_=[];for(const g of n.ALL_TRANSPORTS)g&&g.isAvailable()&&u.push(g);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class jw{constructor(t,e,i,a,u,g,y,w,A,F){this.id=t,this.repoInfo_=e,this.applicationId_=i,this.appCheckToken_=a,this.authToken_=u,this.onMessage_=g,this.onReady_=y,this.onDisconnect_=w,this.onKill_=A,this.lastSessionId=F,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=pp("c:"+this.id+":"),this.transportManager_=new FT(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,i)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=km(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ph("t",t),i=Ph("d",t);if("c"===e)this.onSecondaryControl_(i);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ph("t",t),i=Ph("d",t);"c"===e?this.onControl_(i):"d"===e&&this.onDataMessage_(i)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ph("t",t);if("d"in t){const i=t.d;if("h"===e){const a=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(i):"r"===e?this.onReset_(i):"e"===e?Av("Server Error: "+i):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Av("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,i=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==i&&hi("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,i),km(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):km(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ql.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class $w{put(t,e,i,a){}merge(t,e,i,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,i){}onDisconnectMerge(t,e,i){}onDisconnectCancel(t,e){}reportStats(t){}}class Nh{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,j.vA)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const i=[...this.listeners_[t]];for(let a=0;a<i.length;a++)i[a].callback.apply(i[a].context,e)}}on(t,e,i){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:i});const a=this.getInitialEvent(t);a&&e.apply(i,a)}off(t,e,i){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let u=0;u<a.length;u++)if(a[u].callback===e&&(!i||i===a[u].context))return void a.splice(u,1)}validateEventType_(t){(0,j.vA)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class jm extends Nh{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,j.jZ)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jm}getInitialEvent(t){return(0,j.vA)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class tn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let i=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[i]=this.pieces_[a],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function Xt(){return new tn("")}function Ut(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Jl(n){return n.pieces_.length-n.pieceNum_}function ln(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new tn(n.pieces_,t)}function Bv(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function kh(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function Ww(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new tn(t,0)}function Sn(n,t){const e=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)e.push(n.pieces_[i]);if(t instanceof tn)for(let i=t.pieceNum_;i<t.pieces_.length;i++)e.push(t.pieces_[i]);else{const i=t.split("/");for(let a=0;a<i.length;a++)i[a].length>0&&e.push(i[a])}return new tn(e,0)}function jt(n){return n.pieceNum_>=n.pieces_.length}function zr(n,t){const e=Ut(n),i=Ut(t);if(null===e)return t;if(e===i)return zr(ln(n),ln(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function BT(n,t){const e=kh(n,0),i=kh(t,0);for(let a=0;a<e.length&&a<i.length;a++){const u=Yl(e[a],i[a]);if(0!==u)return u}return e.length===i.length?0:e.length<i.length?-1:1}function $m(n,t){if(Jl(n)!==Jl(t))return!1;for(let e=n.pieceNum_,i=t.pieceNum_;e<=n.pieces_.length;e++,i++)if(n.pieces_[e]!==t.pieces_[i])return!1;return!0}function Is(n,t){let e=n.pieceNum_,i=t.pieceNum_;if(Jl(n)>Jl(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[i])return!1;++e,++i}return!0}class jT{constructor(t,e){this.errorPrefix_=e,this.parts_=kh(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=(0,j.OE)(this.parts_[i]);zw(this)}}function zw(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Ku(n))}function Ku(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class jv extends Nh{constructor(){let t,e;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const i=!document[t];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new jv}getInitialEvent(t){return(0,j.vA)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const bp=1e3;let xh,qu=(()=>{class n extends $w{constructor(e,i,a,u,g,y,w,A){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=u,this.onServerInfoUpdate_=g,this.authTokenProvider_=y,this.appCheckTokenProvider_=w,this.authOverride_=A,this.id=n.nextPersistentConnectionId_++,this.log_=pp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=bp,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,A&&!(0,j.$g)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jv.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const u=++this.requestNumber_,g={r:u,a:e,b:i};this.log_((0,j.As)(g)),(0,j.vA)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(g),a&&(this.requestCBHash_[u]=a)}get(e){this.initConnection_();const i=new j.cY,u={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:y=>{const w=y.d;"ok"===y.s?i.resolve(w):i.reject(w)}};return this.outstandingGets_.push(u),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(e,i,a,u){this.initConnection_();const g=e._queryIdentifier,y=e._path.toString();this.log_("Listen called for "+y+" "+g),this.listens.has(y)||this.listens.set(y,new Map),(0,j.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,j.vA)(!this.listens.get(y).has(g),"listen() called twice for same path/queryId.");const w={onComplete:u,hashFn:i,query:e,tag:a};this.listens.get(y).set(g,w),this.connected_&&this.sendListen_(w)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),u=i._queryIdentifier;this.log_("Listen on "+a+" for "+u);const g={p:a};e.tag&&(g.q=i._queryObject,g.t=e.tag),g.h=e.hashFn(),this.sendRequest("q",g,w=>{const A=w.d,F=w.s;n.warnOnListenWarnings_(A,i),(this.listens.get(a)&&this.listens.get(a).get(u))===e&&(this.log_("listen response",w),"ok"!==F&&this.removeListen_(a,u),e.onComplete&&e.onComplete(F,A))})}static warnOnListenWarnings_(e,i){if(e&&"object"==typeof e&&(0,j.gR)(e,"w")){const a=(0,j.yw)(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const u='".indexOn": "'+i._queryParams.getIndex().toString()+'"',g=i._path.toString();hi(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${g} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,j.qc)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=(0,j.Cv)(e)?"auth":"gauth",a={cred:e};null===this.authOverride_?a.noauth=!0:"object"==typeof this.authOverride_&&(a.authvar=this.authOverride_),this.sendRequest(i,a,u=>{const g=u.s,y=u.d||"error";this.authToken_===e&&("ok"===g?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(g,y))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),u=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+u),(0,j.vA)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,u)&&this.connected_&&this.sendUnlisten_(a,u,e._queryObject,i)}sendUnlisten_(e,i,a,u){this.log_("Unlisten on "+e+" for "+i);const g={p:e};u&&(g.q=a,g.t=u),this.sendRequest("n",g)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,u){const g={p:i,d:a};this.log_("onDisconnect "+e,g),this.sendRequest(e,g,y=>{u&&setTimeout(()=>{u(y.s,y.d)},Math.floor(0))})}put(e,i,a,u){this.putInternal("p",e,i,a,u)}merge(e,i,a,u){this.putInternal("m",e,i,a,u)}putInternal(e,i,a,u,g){this.initConnection_();const y={p:i,d:a};void 0!==g&&(y.h=g),this.outstandingPuts_.push({action:e,request:y,onComplete:u}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,u=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,g=>{this.log_(i+" response",g),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),u&&u(g.s,g.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{"ok"!==a.s&&this.log_("reportStats","Error sending stats: "+a.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,j.As)(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),"d"===e?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===e?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===e?this.onListenRevoked_(i.p,i.q):"ac"===e?this.onAuthRevoked_(i.s,i.d):"apc"===e?this.onAppCheckRevoked_(i.s,i.d):"sd"===e?this.onSecurityDebugPacket_(i):Av("Unrecognized action received from server: "+(0,j.As)(e)+"\nAre you using the latest client?")}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,j.vA)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=bp,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=bp,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=bp),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,Yo.A)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const i=e.onDataMessage_.bind(e),a=e.onReady_.bind(e),u=e.onRealtimeDisconnect_.bind(e),g=e.id+":"+n.nextConnectionId_++,y=e.lastSessionId;let w=!1,A=null;const F=function(){A?A.close():(w=!0,u())};e.realtime_={close:F,sendRequest:function(me){(0,j.vA)(A,"sendRequest call when we're not connected not allowed."),A.sendRequest(me)}};const Z=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[me,De]=yield Promise.all([e.authTokenProvider_.getToken(Z),e.appCheckTokenProvider_.getToken(Z)]);w?xr("getToken() completed but was canceled"):(xr("getToken() completed. Creating connection."),e.authToken_=me&&me.accessToken,e.appCheckToken_=De&&De.token,A=new jw(g,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,i,a,u,je=>{hi(je+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},y))}catch(me){e.log_("Failed to get token: "+me),w||(e.repoInfo_.nodeAdmin&&hi(me),F())}}})()}interrupt(e){xr("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){xr("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,j.Im)(this.interruptReasons_)&&(this.reconnectDelay_=bp,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;a=i?i.map(g=>Nm(g)).join("$"):"default";const u=this.removeListen_(e,a);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(e,i){const a=new tn(e).toString();let u;if(this.listens.has(a)){const g=this.listens.get(a);u=g.get(i),g.delete(i),0===g.size&&this.listens.delete(a)}else u=void 0;return u}onAuthRevoked_(e,i){xr("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){xr("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";(0,j.$g)()&&(i=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+i+"."+Pm.replace(/\./g,"-")]=1,(0,j.jZ)()?e["framework.cordova"]=1:(0,j.lV)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jm.getInstance().currentlyOnline();return(0,j.Im)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Gt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new Gt(t,e)}}class Hm{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const i=new Gt(Ql,t),a=new Gt(Ql,e);return 0!==this.compare(i,a)}minPost(){return Gt.MIN}}class Gm extends Hm{static get __EMPTY_NODE(){return xh}static set __EMPTY_NODE(t){xh=t}compare(t,e){return Yl(t.name,e.name)}isDefinedOn(t){throw(0,j.Hk)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return Gt.MIN}maxPost(){return new Gt(Jo,xh)}makePost(t,e){return(0,j.vA)("string"==typeof t,"KeyIndex indexValue must always be a string."),new Gt(t,xh)}toString(){return".key"}}const Xs=new Gm;class Fh{constructor(t,e,i,a,u=null){this.isReverse_=a,this.resultGenerator_=u,this.nodeStack_=[];let g=1;for(;!t.isEmpty();)if(g=e?i(t.key,e):1,a&&(g*=-1),g<0)t=this.isReverse_?t.left:t.right;else{if(0===g){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Ua,Js=(()=>{class n{constructor(e,i,a,u,g){this.key=e,this.value=i,this.color=a??n.RED,this.left=u??pi.EMPTY_NODE,this.right=g??pi.EMPTY_NODE}copy(e,i,a,u,g){return new n(e??this.key,i??this.value,a??this.color,u??this.left,g??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const g=a(e,u.key);return u=g<0?u.copy(null,null,null,u.left.insert(e,i,a),null):0===g?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return pi.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,u;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),0===i(e,a.key)){if(a.right.isEmpty())return pi.EMPTY_NODE;u=a.right.min_(),a=a.copy(u.key,u.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class pi{constructor(t,e=pi.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new pi(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Js.BLACK,null,null))}remove(t){return new pi(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Js.BLACK,null,null))}get(t){let e,i=this.root_;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e)return i.value;e<0?i=i.left:e>0&&(i=i.right)}return null}getPredecessorKey(t){let e,i=this.root_,a=null;for(;!i.isEmpty();){if(e=this.comparator_(t,i.key),0===e){if(i.left.isEmpty())return a?a.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}e<0?i=i.left:e>0&&(a=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Fh(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Fh(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Fh(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Fh(this.root_,null,this.comparator_,!0,t)}}function KT(n,t){return Yl(n.name,t.name)}function Wm(n,t){return Yl(n,t)}pi.EMPTY_NODE=new class zT{copy(t,e,i,a,u){return this}insert(t,e,i){return new Js(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const Xw=function(n){return"number"==typeof n?"number:"+Mv(n):"string:"+n},qT=function(n){if(n.isLeafNode()){const t=n.val();(0,j.vA)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,j.gR)(t,".sv"),"Priority must be a string or number.")}else(0,j.vA)(n===Ua||n.isEmpty(),"priority of unexpected type.");(0,j.vA)(n===Ua||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let zm,Jw,Hv,Zl=(()=>{class n{constructor(e,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,(0,j.vA)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),qT(this.priorityNode_)}static set __childrenNodeConstructor(e){zm=e}static get __childrenNodeConstructor(){return zm}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return jt(e)?this:".priority"===Ut(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return".priority"===e?this.updatePriority(i):i.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Ut(e);return null===a?i:i.isEmpty()&&".priority"!==a?this:((0,j.vA)(".priority"!==a||1===Jl(e),".priority must be the last token in a path"),this.updateImmediateChild(a,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(ln(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xw(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",e+="number"===i?Mv(this.value_):this.value_,this.lazyHash_=gw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,j.vA)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,u=n.VALUE_TYPE_ORDER.indexOf(i),g=n.VALUE_TYPE_ORDER.indexOf(a);return(0,j.vA)(u>=0,"Unknown leaf type: "+i),(0,j.vA)(g>=0,"Unknown leaf type: "+a),u===g?"object"===a?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:g-u}withIndex(){return this}isIndexed(){return!0}equals(e){return e===this||!!e.isLeafNode()&&(this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fn=new class eb extends Hm{compare(t,e){const i=t.node.getPriority(),a=e.node.getPriority(),u=i.compareTo(a);return 0===u?Yl(t.name,e.name):u}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return Gt.MIN}maxPost(){return new Gt(Jo,new Zl("[PRIORITY-POST]",Hv))}makePost(t,e){const i=Jw(t);return new Gt(e,new Zl("[PRIORITY-POST]",i))}toString(){return".priority"}},tb=Math.log(2);class nb{constructor(t){this.count=parseInt(Math.log(t+1)/tb,10),this.current_=this.count-1;const a=(u=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Ip=function(n,t,e,i){n.sort(t);const a=function(w,A){const F=A-w;let V,Z;if(0===F)return null;if(1===F)return V=n[w],Z=e?e(V):V,new Js(Z,V.node,Js.BLACK,null,null);{const me=parseInt(F/2,10)+w,De=a(w,me),je=a(me+1,A);return V=n[me],Z=e?e(V):V,new Js(Z,V.node,Js.BLACK,De,je)}},y=function(w){let A=null,F=null,V=n.length;const Z=function(De,je){const at=V-De,It=V;V-=De;const Mt=a(at+1,It),Jt=n[at],Rt=e?e(Jt):Jt;me(new Js(Rt,Jt.node,je,null,Mt))},me=function(De){A?(A.left=De,A=De):(F=De,A=De)};for(let De=0;De<w.count;++De){const je=w.nextBitIsOne(),at=Math.pow(2,w.count-(De+1));je?Z(at,Js.BLACK):(Z(at,Js.BLACK),Z(at,Js.RED))}return F}(new nb(n.length));return new pi(i||t,y)};let Km;const Lh={};class Ba{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,j.vA)(Lh&&fn,"ChildrenNode.ts has not been loaded"),Km=Km||new Ba({".priority":Lh},{".priority":fn}),Km}get(t){const e=(0,j.yw)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof pi?e:null}hasIndex(t){return(0,j.gR)(this.indexSet_,t.toString())}addIndex(t,e){(0,j.vA)(t!==Xs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let a=!1;const u=e.getIterator(Gt.Wrap);let y,g=u.getNext();for(;g;)a=a||t.isDefinedOn(g.node),i.push(g),g=u.getNext();y=a?Ip(i,t.getCompare()):Lh;const w=t.toString(),A=Object.assign({},this.indexSet_);A[w]=t;const F=Object.assign({},this.indexes_);return F[w]=y,new Ba(F,A)}addToIndexes(t,e){const i=(0,j.kH)(this.indexes_,(a,u)=>{const g=(0,j.yw)(this.indexSet_,u);if((0,j.vA)(g,"Missing index implementation for "+u),a===Lh){if(g.isDefinedOn(t.node)){const y=[],w=e.getIterator(Gt.Wrap);let A=w.getNext();for(;A;)A.name!==t.name&&y.push(A),A=w.getNext();return y.push(t),Ip(y,g.getCompare())}return Lh}{const y=e.get(t.name);let w=a;return y&&(w=w.remove(new Gt(t.name,y))),w.insert(t,t.node)}});return new Ba(i,this.indexSet_)}removeFromIndexes(t,e){const i=(0,j.kH)(this.indexes_,a=>{if(a===Lh)return a;{const u=e.get(t.name);return u?a.remove(new Gt(t.name,u)):a}});return new Ba(i,this.indexSet_)}}let Dp,Ot=(()=>{class n{constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&qT(this.priorityNode_),this.children_.isEmpty()&&(0,j.vA)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Dp||(Dp=new n(new pi(Wm),null,Ba.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dp}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const i=this.children_.get(e);return null===i?Dp:i}}getChild(e){const i=Ut(e);return null===i?this:this.getImmediateChild(i).getChild(ln(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,i){if((0,j.vA)(i,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(i);{const a=new Gt(e,i);let u,g;i.isEmpty()?(u=this.children_.remove(e),g=this.indexMap_.removeFromIndexes(a,this.children_)):(u=this.children_.insert(e,i),g=this.indexMap_.addToIndexes(a,this.children_));const y=u.isEmpty()?Dp:this.priorityNode_;return new n(u,y,g)}}updateChild(e,i){const a=Ut(e);if(null===a)return i;{(0,j.vA)(".priority"!==Ut(e)||1===Jl(e),".priority must be the last token in a path");const u=this.getImmediateChild(a).updateChild(ln(e),i);return this.updateImmediateChild(a,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,u=0,g=!0;if(this.forEachChild(fn,(y,w)=>{i[y]=w.val(e),a++,g&&n.INTEGER_REGEXP_.test(y)?u=Math.max(u,Number(y)):g=!1}),!e&&g&&u<2*a){const y=[];for(const w in i)y[w]=i[w];return y}return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xw(this.getPriority().val())+":"),this.forEachChild(fn,(i,a)=>{const u=a.hash();""!==u&&(e+=":"+i+":"+u)}),this.lazyHash_=""===e?"":gw(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const u=this.resolveIndex_(a);if(u){const g=u.getPredecessorKey(new Gt(e,i));return g?g.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Gt(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Gt(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(u=>i(u.name,u.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,u=>u);{const u=this.children_.getIteratorFrom(e.name,Gt.Wrap);let g=u.peek();for(;null!=g&&i.compare(g,e)<0;)u.getNext(),g=u.peek();return u}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,u=>u);{const u=this.children_.getReverseIteratorFrom(e.name,Gt.Wrap);let g=u.peek();for(;null!=g&&i.compare(g,e)>0;)u.getNext(),g=u.peek();return u}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===qm?-1:0}withIndex(e){if(e===Xs||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===Xs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const a=this.getIterator(fn),u=i.getIterator(fn);let g=a.getNext(),y=u.getNext();for(;g&&y;){if(g.name!==y.name||!g.node.equals(y.node))return!1;g=a.getNext(),y=u.getNext()}return null===g&&null===y}return!1}return!1}}resolveIndex_(e){return e===Xs?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const qm=new class rb extends Ot{constructor(){super(new pi(Wm),Ot.EMPTY_NODE,Ba.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Ot.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Gt,{MIN:{value:new Gt(Ql,Ot.EMPTY_NODE)},MAX:{value:new Gt(Jo,qm)}}),Gm.__EMPTY_NODE=Ot.EMPTY_NODE,Zl.__childrenNodeConstructor=Ot,function Yw(n){Ua=n}(qm),function QT(n){Hv=n}(qm);const ib=!0;function Fn(n,t=null){if(null===n)return Ot.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,j.vA)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Zl(n,Fn(t));if(n instanceof Array||!ib){let e=Ot.EMPTY_NODE;return yr(n,(i,a)=>{if((0,j.gR)(n,i)&&"."!==i.substring(0,1)){const u=Fn(a);(u.isLeafNode()||!u.isEmpty())&&(e=e.updateImmediateChild(i,u))}}),e.updatePriority(Fn(t))}{const e=[];let i=!1;if(yr(n,(g,y)=>{if("."!==g.substring(0,1)){const w=Fn(y);w.isEmpty()||(i=i||!w.getPriority().isEmpty(),e.push(new Gt(g,w)))}}),0===e.length)return Ot.EMPTY_NODE;const u=Ip(e,KT,g=>g.name,Wm);if(i){const g=Ip(e,fn.getCompare());return new Ot(u,Fn(t),new Ba({".priority":g},{".priority":fn}))}return new Ot(u,Fn(t),Ba.Default)}}!function Zw(n){Jw=n}(Fn);class Gv extends Hm{constructor(t){super(),this.indexPath_=t,(0,j.vA)(!jt(t)&&".priority"!==Ut(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const i=this.extractChild(t.node),a=this.extractChild(e.node),u=i.compareTo(a);return 0===u?Yl(t.name,e.name):u}makePost(t,e){const i=Fn(t),a=Ot.EMPTY_NODE.updateChild(this.indexPath_,i);return new Gt(e,a)}maxPost(){const t=Ot.EMPTY_NODE.updateChild(this.indexPath_,qm);return new Gt(Jo,t)}toString(){return kh(this.indexPath_,0).join("/")}}const Wv=new class dM extends Hm{compare(t,e){const i=t.node.compareTo(e.node);return 0===i?Yl(t.name,e.name):i}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return Gt.MIN}maxPost(){return Gt.MAX}makePost(t,e){const i=Fn(t);return new Gt(e,i)}toString(){return".value"}};function sb(n){return{type:"value",snapshotNode:n}}function Vh(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function Tp(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function Ap(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class zv{constructor(t){this.index_=t}updateChild(t,e,i,a,u,g){(0,j.vA)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const y=t.getImmediateChild(e);return y.getChild(a).equals(i.getChild(a))&&y.isEmpty()===i.isEmpty()||(null!=g&&(i.isEmpty()?t.hasChild(e)?g.trackChildChange(Tp(e,y)):(0,j.vA)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):y.isEmpty()?g.trackChildChange(Vh(e,i)):g.trackChildChange(Ap(e,i,y))),t.isLeafNode()&&i.isEmpty())?t:t.updateImmediateChild(e,i).withIndex(this.index_)}updateFullNode(t,e,i){return null!=i&&(t.isLeafNode()||t.forEachChild(fn,(a,u)=>{e.hasChild(a)||i.trackChildChange(Tp(a,u))}),e.isLeafNode()||e.forEachChild(fn,(a,u)=>{if(t.hasChild(a)){const g=t.getImmediateChild(a);g.equals(u)||i.trackChildChange(Ap(a,u,g))}else i.trackChildChange(Vh(a,u))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?Ot.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Sp{constructor(t){this.indexedFilter_=new zv(t.getIndex()),this.index_=t.getIndex(),this.startPost_=Sp.getStartPost_(t),this.endPost_=Sp.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,i=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&i}updateChild(t,e,i,a,u,g){return this.matches(new Gt(e,i))||(i=Ot.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,i,a,u,g)}updateFullNode(t,e,i){e.isLeafNode()&&(e=Ot.EMPTY_NODE);let a=e.withIndex(this.index_);a=a.updatePriority(Ot.EMPTY_NODE);const u=this;return e.forEachChild(fn,(g,y)=>{u.matches(new Gt(g,y))||(a=a.updateImmediateChild(g,Ot.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class XT{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=e=>{const i=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new Sp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,i,a,u,g){return this.rangedFilter_.matches(new Gt(e,i))||(i=Ot.EMPTY_NODE),t.getImmediateChild(e).equals(i)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,i,a,u,g):this.fullLimitUpdateChild_(t,e,i,u,g)}updateFullNode(t,e,i){let a;if(e.isLeafNode()||e.isEmpty())a=Ot.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let u;a=Ot.EMPTY_NODE.withIndex(this.index_),u=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let g=0;for(;u.hasNext()&&g<this.limit_;){const y=u.getNext();if(this.withinDirectionalStart(y)){if(!this.withinDirectionalEnd(y))break;a=a.updateImmediateChild(y.name,y.node),g++}}}else{let u;a=e.withIndex(this.index_),a=a.updatePriority(Ot.EMPTY_NODE),u=this.reverse_?a.getReverseIterator(this.index_):a.getIterator(this.index_);let g=0;for(;u.hasNext();){const y=u.getNext();g<this.limit_&&this.withinDirectionalStart(y)&&this.withinDirectionalEnd(y)?g++:a=a.updateImmediateChild(y.name,Ot.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,i)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,i,a,u){let g;if(this.reverse_){const V=this.index_.getCompare();g=(Z,me)=>V(me,Z)}else g=this.index_.getCompare();const y=t;(0,j.vA)(y.numChildren()===this.limit_,"");const w=new Gt(e,i),A=this.reverse_?y.getFirstChild(this.index_):y.getLastChild(this.index_),F=this.rangedFilter_.matches(w);if(y.hasChild(e)){const V=y.getImmediateChild(e);let Z=a.getChildAfterChild(this.index_,A,this.reverse_);for(;null!=Z&&(Z.name===e||y.hasChild(Z.name));)Z=a.getChildAfterChild(this.index_,Z,this.reverse_);const me=null==Z?1:g(Z,w);if(F&&!i.isEmpty()&&me>=0)return u?.trackChildChange(Ap(e,i,V)),y.updateImmediateChild(e,i);{u?.trackChildChange(Tp(e,V));const je=y.updateImmediateChild(e,Ot.EMPTY_NODE);return null!=Z&&this.rangedFilter_.matches(Z)?(u?.trackChildChange(Vh(Z.name,Z.node)),je.updateImmediateChild(Z.name,Z.node)):je}}return i.isEmpty()?t:F&&g(A,w)>=0?(null!=u&&(u.trackChildChange(Tp(A.name,A.node)),u.trackChildChange(Vh(e,i))),y.updateImmediateChild(e,i).updateImmediateChild(A.name,Ot.EMPTY_NODE)):t}}class Qm{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,j.vA)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,j.vA)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ql}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,j.vA)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,j.vA)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Jo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,j.vA)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const t=new Qm;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ym(n,t,e){const i=n.copy();return i.startSet_=!0,void 0===t&&(t=null),i.indexStartValue_=t,null!=e?(i.startNameSet_=!0,i.indexStartName_=e):(i.startNameSet_=!1,i.indexStartName_=""),i}function Xm(n,t,e){const i=n.copy();return i.endSet_=!0,void 0===t&&(t=null),i.indexEndValue_=t,void 0!==e?(i.endNameSet_=!0,i.indexEndName_=e):(i.endNameSet_=!1,i.indexEndName_=""),i}function Rp(n,t){const e=n.copy();return e.index_=t,e}function lb(n){const t={};if(n.isDefault())return t;let e;if(n.index_===fn?e="$priority":n.index_===Wv?e="$value":n.index_===Xs?e="$key":((0,j.vA)(n.index_ instanceof Gv,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,j.As)(e),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";t[i]=(0,j.As)(n.indexStartValue_),n.startNameSet_&&(t[i]+=","+(0,j.As)(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";t[i]=(0,j.As)(n.indexEndValue_),n.endNameSet_&&(t[i]+=","+(0,j.As)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function cb(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==fn&&(t.i=n.index_.toString()),t}class Kv extends $w{constructor(t,e,i,a){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=i,this.appCheckTokenProvider_=a,this.log_=pp("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,j.vA)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,i,a){const u=t._path.toString();this.log_("Listen called for "+u+" "+t._queryIdentifier);const g=Kv.getListenId_(t,i),y={};this.listens_[g]=y;const w=lb(t._queryParams);this.restRequest_(u+".json",w,(A,F)=>{let V=F;if(404===A&&(V=null,A=null),null===A&&this.onDataUpdate_(u,V,!1,i),(0,j.yw)(this.listens_,g)===y){let Z;Z=A?401===A?"permission_denied":"rest_error:"+A:"ok",a(Z,null)}})}unlisten(t,e){const i=Kv.getListenId_(t,e);delete this.listens_[i]}get(t){const e=lb(t._queryParams),i=t._path.toString(),a=new j.cY;return this.restRequest_(i+".json",e,(u,g)=>{let y=g;404===u&&(y=null,u=null),null===u?(this.onDataUpdate_(i,y,!1,null),a.resolve(y)):a.reject(new Error(y))}),a.promise}refreshAuthToken(t){}restRequest_(t,e={},i){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,u])=>{a&&a.accessToken&&(e.auth=a.accessToken),u&&u.token&&(e.ac=u.token);const g=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,j.Am)(e);this.log_("Sending REST request for "+g);const y=new XMLHttpRequest;y.onreadystatechange=()=>{if(i&&4===y.readyState){this.log_("REST Response for "+g+" received. status:",y.status,"response:",y.responseText);let w=null;if(y.status>=200&&y.status<300){try{w=(0,j.$L)(y.responseText)}catch{hi("Failed to parse JSON response for "+g+": "+y.responseText)}i(null,w)}else 401!==y.status&&404!==y.status&&hi("Got unsuccessful REST response for "+g+" Status: "+y.status),i(y.status);i=null}},y.open("GET",g,!0),y.send()})}}class hM{constructor(){this.rootNode_=Ot.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function Jm(){return{value:null,children:new Map}}function Uh(n,t,e){if(jt(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const i=Ut(t);n.children.has(i)||n.children.set(i,Jm()),Uh(n.children.get(i),t=ln(t),e)}}function qv(n,t){if(jt(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(fn,(i,a)=>{Uh(n,new tn(i),a)}),qv(n,t)}}if(n.children.size>0){const e=Ut(t);return t=ln(t),n.children.has(e)&&qv(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function Qv(n,t,e){null!==n.value?e(t,n.value):function eA(n,t){n.children.forEach((e,i)=>{t(i,e)})}(n,(i,a)=>{Qv(a,new tn(t.toString()+"/"+i),e)})}class Pp{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&yr(this.last_,(i,a)=>{e[i]=e[i]-a}),this.last_=t,e}}class fM{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Pp(t);const i=1e4+2e4*Math.random();km(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const t=this.statsListener_.get(),e={};let i=!1;yr(t,(a,u)=>{u>0&&(0,j.gR)(this.statsToReport_,a)&&(e[a]=u,i=!0)}),i&&this.server_.reportStats(e),km(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Zo=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(Zo||{});function Xv(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class Zm{constructor(t,e,i){this.path=t,this.affectedTree=e,this.revert=i,this.type=Zo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(jt(this.path)){if(null!=this.affectedTree.value)return(0,j.vA)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new tn(t));return new Zm(Xt(),e,this.revert)}}return(0,j.vA)(Ut(this.path)===t,"operationForChild called for unrelated child."),new Zm(ln(this.path),this.affectedTree,this.revert)}}class Op{constructor(t,e){this.source=t,this.path=e,this.type=Zo.LISTEN_COMPLETE}operationForChild(t){return jt(this.path)?new Op(this.source,Xt()):new Op(this.source,ln(this.path))}}class ea{constructor(t,e,i){this.source=t,this.path=e,this.snap=i,this.type=Zo.OVERWRITE}operationForChild(t){return jt(this.path)?new ea(this.source,Xt(),this.snap.getImmediateChild(t)):new ea(this.source,ln(this.path),this.snap)}}class Yu{constructor(t,e,i){this.source=t,this.path=e,this.children=i,this.type=Zo.MERGE}operationForChild(t){if(jt(this.path)){const e=this.children.subtree(new tn(t));return e.isEmpty()?null:e.value?new ea(this.source,Xt(),e.value):new Yu(this.source,Xt(),e)}return(0,j.vA)(Ut(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Yu(this.source,ln(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ec{constructor(t,e,i){this.node_=t,this.fullyInitialized_=e,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(jt(t))return this.isFullyInitialized()&&!this.filtered_;const e=Ut(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class hb{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Np(n,t,e,i,a,u){const g=i.filter(y=>y.type===e);g.sort((y,w)=>function fb(n,t,e){if(null==t.childName||null==e.childName)throw(0,j.Hk)("Should only compare child_ events.");const i=new Gt(t.childName,t.snapshotNode),a=new Gt(e.childName,e.snapshotNode);return n.index_.compare(i,a)}(n,y,w)),g.forEach(y=>{const w=function nA(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,y,u);a.forEach(A=>{A.respondsTo(y.type)&&t.push(A.createEvent(w,n.query_))})})}function t_(n,t){return{eventCache:n,serverCache:t}}function kp(n,t,e,i){return t_(new ec(t,e,i),n.serverCache)}function Jv(n,t,e,i){return t_(n.eventCache,new ec(t,e,i))}function Xu(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ju(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Zv;class gn{constructor(t,e=(()=>(Zv||(Zv=new pi(yw)),Zv))()){this.value=t,this.children=e}static fromObject(t){let e=new gn(null);return yr(t,(i,a)=>{e=e.set(new tn(i),a)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:Xt(),value:this.value};if(jt(t))return null;{const i=Ut(t),a=this.children.get(i);if(null!==a){const u=a.findRootMostMatchingPathAndValue(ln(t),e);return null!=u?{path:Sn(new tn(i),u.path),value:u.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(jt(t))return this;{const e=Ut(t),i=this.children.get(e);return null!==i?i.subtree(ln(t)):new gn(null)}}set(t,e){if(jt(t))return new gn(e,this.children);{const i=Ut(t),u=(this.children.get(i)||new gn(null)).set(ln(t),e),g=this.children.insert(i,u);return new gn(this.value,g)}}remove(t){if(jt(t))return this.children.isEmpty()?new gn(null):new gn(null,this.children);{const e=Ut(t),i=this.children.get(e);if(i){const a=i.remove(ln(t));let u;return u=a.isEmpty()?this.children.remove(e):this.children.insert(e,a),null===this.value&&u.isEmpty()?new gn(null):new gn(this.value,u)}return this}}get(t){if(jt(t))return this.value;{const e=Ut(t),i=this.children.get(e);return i?i.get(ln(t)):null}}setTree(t,e){if(jt(t))return e;{const i=Ut(t),u=(this.children.get(i)||new gn(null)).setTree(ln(t),e);let g;return g=u.isEmpty()?this.children.remove(i):this.children.insert(i,u),new gn(this.value,g)}}fold(t){return this.fold_(Xt(),t)}fold_(t,e){const i={};return this.children.inorderTraversal((a,u)=>{i[a]=u.fold_(Sn(t,a),e)}),e(t,this.value,i)}findOnPath(t,e){return this.findOnPath_(t,Xt(),e)}findOnPath_(t,e,i){const a=!!this.value&&i(e,this.value);if(a)return a;if(jt(t))return null;{const u=Ut(t),g=this.children.get(u);return g?g.findOnPath_(ln(t),Sn(e,u),i):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Xt(),e)}foreachOnPath_(t,e,i){if(jt(t))return this;{this.value&&i(e,this.value);const a=Ut(t),u=this.children.get(a);return u?u.foreachOnPath_(ln(t),Sn(e,a),i):new gn(null)}}foreach(t){this.foreach_(Xt(),t)}foreach_(t,e){this.children.inorderTraversal((i,a)=>{a.foreach_(Sn(t,i),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,i)=>{i.value&&t(e,i.value)})}}class ss{constructor(t){this.writeTree_=t}static empty(){return new ss(new gn(null))}}function Bh(n,t,e){if(jt(t))return new ss(new gn(e));{const i=n.writeTree_.findRootMostValueAndPath(t);if(null!=i){const a=i.path;let u=i.value;const g=zr(a,t);return u=u.updateChild(g,e),new ss(n.writeTree_.set(a,u))}{const a=new gn(e),u=n.writeTree_.setTree(t,a);return new ss(u)}}}function e0(n,t,e){let i=n;return yr(e,(a,u)=>{i=Bh(i,Sn(t,a),u)}),i}function t0(n,t){if(jt(t))return ss.empty();{const e=n.writeTree_.setTree(t,new gn(null));return new ss(e)}}function n_(n,t){return null!=Zu(n,t)}function Zu(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(zr(e.path,t)):null}function gb(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(fn,(i,a)=>{t.push(new Gt(i,a))}):n.writeTree_.children.inorderTraversal((i,a)=>{null!=a.value&&t.push(new Gt(i,a.value))}),t}function ta(n,t){if(jt(t))return n;{const e=Zu(n,t);return new ss(null!=e?new gn(e):n.writeTree_.subtree(t))}}function xp(n){return n.writeTree_.isEmpty()}function ed(n,t){return r_(Xt(),n.writeTree_,t)}function r_(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let i=null;return t.children.inorderTraversal((a,u)=>{".priority"===a?((0,j.vA)(null!==u.value,"Priority writes must always be leaf nodes"),i=u.value):e=r_(Sn(n,a),u,e)}),!e.getChild(n).isEmpty()&&null!==i&&(e=e.updateChild(Sn(n,".priority"),i)),e}}function jh(n,t){return o0(t,n)}function mb(n,t){if(n.snap)return Is(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&Is(Sn(n.path,e),t))return!0;return!1}function _b(n){return n.visible}function r0(n,t,e){let i=ss.empty();for(let a=0;a<n.length;++a){const u=n[a];if(t(u)){const g=u.path;let y;if(u.snap)Is(e,g)?(y=zr(e,g),i=Bh(i,y,u.snap)):Is(g,e)&&(y=zr(g,e),i=Bh(i,Xt(),u.snap.getChild(y)));else{if(!u.children)throw(0,j.Hk)("WriteRecord should have .snap or .children");if(Is(e,g))y=zr(e,g),i=e0(i,y,u.children);else if(Is(g,e))if(y=zr(g,e),jt(y))i=e0(i,Xt(),u.children);else{const w=(0,j.yw)(u.children,Ut(y));if(w){const A=w.getChild(ln(y));i=Bh(i,Xt(),A)}}}}}return i}function s0(n,t,e,i,a){if(i||a){const u=ta(n.visibleWrites,t);return!a&&xp(u)?e:a||null!=e||n_(u,Xt())?ed(r0(n.allWrites,function(A){return(A.visible||a)&&(!i||!~i.indexOf(A.writeId))&&(Is(A.path,t)||Is(t,A.path))},t),e||Ot.EMPTY_NODE):null}{const u=Zu(n.visibleWrites,t);if(null!=u)return u;{const g=ta(n.visibleWrites,t);return xp(g)?e:null!=e||n_(g,Xt())?ed(g,e||Ot.EMPTY_NODE):null}}}function i_(n,t,e,i){return s0(n.writeTree,n.treePath,t,e,i)}function Kr(n,t){return function yb(n,t,e){let i=Ot.EMPTY_NODE;const a=Zu(n.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(fn,(u,g)=>{i=i.updateImmediateChild(u,g)}),i;if(e){const u=ta(n.visibleWrites,t);return e.forEachChild(fn,(g,y)=>{const w=ed(ta(u,new tn(g)),y);i=i.updateImmediateChild(g,w)}),gb(u).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}return gb(ta(n.visibleWrites,t)).forEach(g=>{i=i.updateImmediateChild(g.name,g.node)}),i}(n.writeTree,n.treePath,t)}function td(n,t,e,i){return function aA(n,t,e,i,a){(0,j.vA)(i||a,"Either existingEventSnap or existingServerSnap must exist");const u=Sn(t,e);if(n_(n.visibleWrites,u))return null;{const g=ta(n.visibleWrites,u);return xp(g)?a.getChild(e):ed(g,a.getChild(e))}}(n.writeTree,n.treePath,t,e,i)}function s_(n,t){return function Eb(n,t){return Zu(n.visibleWrites,t)}(n.writeTree,Sn(n.treePath,t))}function wb(n,t,e){return function vb(n,t,e,i){const a=Sn(t,e),u=Zu(n.visibleWrites,a);return null!=u?u:i.isCompleteForChild(e)?ed(ta(n.visibleWrites,a),i.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function uA(n,t){return o0(Sn(n.treePath,t),n.writeTree)}function o0(n,t){return{treePath:n,writeTree:t}}class a0{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,i=t.childName;(0,j.vA)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,j.vA)(".priority"!==i,"Only non-priority child changes can be tracked.");const a=this.changeMap.get(i);if(a){const u=a.type;if("child_added"===e&&"child_removed"===u)this.changeMap.set(i,Ap(i,t.snapshotNode,a.snapshotNode));else if("child_removed"===e&&"child_added"===u)this.changeMap.delete(i);else if("child_removed"===e&&"child_changed"===u)this.changeMap.set(i,Tp(i,a.oldSnap));else if("child_changed"===e&&"child_added"===u)this.changeMap.set(i,Vh(i,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==u)throw(0,j.Hk)("Illegal combination of changes: "+t+" occurred after "+a);this.changeMap.set(i,Ap(i,t.snapshotNode,a.oldSnap))}}else this.changeMap.set(i,t)}getChanges(){return Array.from(this.changeMap.values())}}const dA=new class pM{getCompleteChild(t){return null}getChildAfterChild(t,e,i){return null}};class bb{constructor(t,e,i=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=i}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const i=null!=this.optCompleteServerCache_?new ec(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return wb(this.writes_,t,i)}}getChildAfterChild(t,e,i){const a=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ju(this.viewCache_),u=function cA(n,t,e,i,a,u){return function lA(n,t,e,i,a,u,g){let y;const w=ta(n.visibleWrites,t),A=Zu(w,Xt());if(null!=A)y=A;else{if(null==e)return[];y=ed(w,e)}if(y=y.withIndex(g),y.isEmpty()||y.isLeafNode())return[];{const F=[],V=g.getCompare(),Z=u?y.getReverseIteratorFrom(i,g):y.getIteratorFrom(i,g);let me=Z.getNext();for(;me&&F.length<a;)0!==V(me,i)&&F.push(me),me=Z.getNext();return F}}(n.writeTree,n.treePath,t,e,i,a,u)}(this.writes_,a,e,1,i,t);return 0===u.length?null:u[0]}}function c0(n,t,e,i,a,u){const g=t.eventCache;if(null!=s_(i,e))return t;{let y,w;if(jt(e))if((0,j.vA)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const A=Ju(t),V=Kr(i,A instanceof Ot?A:Ot.EMPTY_NODE);y=n.filter.updateFullNode(t.eventCache.getNode(),V,u)}else{const A=i_(i,Ju(t));y=n.filter.updateFullNode(t.eventCache.getNode(),A,u)}else{const A=Ut(e);if(".priority"===A){(0,j.vA)(1===Jl(e),"Can't have a priority with additional path components");const F=g.getNode();w=t.serverCache.getNode();const V=td(i,e,F,w);y=null!=V?n.filter.updatePriority(F,V):g.getNode()}else{const F=ln(e);let V;if(g.isCompleteForChild(A)){w=t.serverCache.getNode();const Z=td(i,e,g.getNode(),w);V=null!=Z?g.getNode().getImmediateChild(A).updateChild(F,Z):g.getNode().getImmediateChild(A)}else V=wb(i,A,t.serverCache);y=null!=V?n.filter.updateChild(g.getNode(),A,V,F,a,u):g.getNode()}}return kp(t,y,g.isFullyInitialized()||jt(e),n.filter.filtersNodes())}}function o_(n,t,e,i,a,u,g,y){const w=t.serverCache;let A;const F=g?n.filter:n.filter.getIndexedFilter();if(jt(e))A=F.updateFullNode(w.getNode(),i,null);else if(F.filtersNodes()&&!w.isFiltered()){const me=w.getNode().updateChild(e,i);A=F.updateFullNode(w.getNode(),me,null)}else{const me=Ut(e);if(!w.isCompleteForPath(e)&&Jl(e)>1)return t;const De=ln(e),at=w.getNode().getImmediateChild(me).updateChild(De,i);A=".priority"===me?F.updatePriority(w.getNode(),at):F.updateChild(w.getNode(),me,at,De,dA,null)}const V=Jv(t,A,w.isFullyInitialized()||jt(e),F.filtersNodes());return c0(n,V,e,a,new bb(a,V,u),y)}function u0(n,t,e,i,a,u,g){const y=t.eventCache;let w,A;const F=new bb(a,t,u);if(jt(e))A=n.filter.updateFullNode(t.eventCache.getNode(),i,g),w=kp(t,A,!0,n.filter.filtersNodes());else{const V=Ut(e);if(".priority"===V)A=n.filter.updatePriority(t.eventCache.getNode(),i),w=kp(t,A,y.isFullyInitialized(),y.isFiltered());else{const Z=ln(e),me=y.getNode().getImmediateChild(V);let De;if(jt(Z))De=i;else{const je=F.getCompleteChild(V);De=null!=je?".priority"===Bv(Z)&&je.getChild(Ww(Z)).isEmpty()?je:je.updateChild(Z,i):Ot.EMPTY_NODE}w=me.equals(De)?t:kp(t,n.filter.updateChild(y.getNode(),V,De,Z,F,g),y.isFullyInitialized(),n.filter.filtersNodes())}}return w}function Ib(n,t){return n.eventCache.isCompleteForChild(t)}function h0(n,t,e){return e.foreach((i,a)=>{t=t.updateChild(i,a)}),t}function f0(n,t,e,i,a,u,g,y){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let A,w=t;A=jt(e)?i:new gn(null).setTree(e,i);const F=t.serverCache.getNode();return A.children.inorderTraversal((V,Z)=>{if(F.hasChild(V)){const De=h0(0,t.serverCache.getNode().getImmediateChild(V),Z);w=o_(n,w,new tn(V),De,a,u,g,y)}}),A.children.inorderTraversal((V,Z)=>{const me=!t.serverCache.isCompleteForChild(V)&&null===Z.value;if(!F.hasChild(V)&&!me){const je=h0(0,t.serverCache.getNode().getImmediateChild(V),Z);w=o_(n,w,new tn(V),je,a,u,g,y)}}),w}class Db{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const i=this.query_._queryParams,a=new zv(i.getIndex()),u=function JT(n){return n.loadsAllData()?new zv(n.getIndex()):n.hasLimit()?new XT(n):new Sp(n)}(i);this.processor_=function Fp(n){return{filter:n}}(u);const g=e.serverCache,y=e.eventCache,w=a.updateFullNode(Ot.EMPTY_NODE,g.getNode(),null),A=u.updateFullNode(Ot.EMPTY_NODE,y.getNode(),null),F=new ec(w,g.isFullyInitialized(),a.filtersNodes()),V=new ec(A,y.isFullyInitialized(),u.filtersNodes());this.viewCache_=t_(V,F),this.eventGenerator_=new hb(this.query_)}get query(){return this.query_}}function $h(n,t){const e=Ju(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!jt(t)&&!e.getImmediateChild(Ut(t)).isEmpty())?e.getChild(t):null}function Ab(n){return 0===n.eventRegistrations_.length}function l_(n,t,e){const i=[];if(e){(0,j.vA)(null==t,"A cancel should cancel all event registrations.");const a=n.query._path;n.eventRegistrations_.forEach(u=>{const g=u.createCancelEvent(e,a);g&&i.push(g)})}if(t){let a=[];for(let u=0;u<n.eventRegistrations_.length;++u){const g=n.eventRegistrations_[u];if(g.matches(t)){if(t.hasAnyCallback()){a=a.concat(n.eventRegistrations_.slice(u+1));break}}else a.push(g)}n.eventRegistrations_=a}else n.eventRegistrations_=[];return i}function gA(n,t,e,i){t.type===Zo.MERGE&&null!==t.source.queryId&&((0,j.vA)(Ju(n.viewCache_),"We should always have a full cache before handling merges"),(0,j.vA)(Xu(n.viewCache_),"Missing event cache, even though we have a server cache"));const a=n.viewCache_,u=function l0(n,t,e,i,a){const u=new a0;let g,y;if(e.type===Zo.OVERWRITE){const A=e;A.source.fromUser?g=u0(n,t,A.path,A.snap,i,a,u):((0,j.vA)(A.source.fromServer,"Unknown source."),y=A.source.tagged||t.serverCache.isFiltered()&&!jt(A.path),g=o_(n,t,A.path,A.snap,i,a,y,u))}else if(e.type===Zo.MERGE){const A=e;A.source.fromUser?g=function d0(n,t,e,i,a,u,g){let y=t;return i.foreach((w,A)=>{const F=Sn(e,w);Ib(t,Ut(F))&&(y=u0(n,y,F,A,a,u,g))}),i.foreach((w,A)=>{const F=Sn(e,w);Ib(t,Ut(F))||(y=u0(n,y,F,A,a,u,g))}),y}(n,t,A.path,A.children,i,a,u):((0,j.vA)(A.source.fromServer,"Unknown source."),y=A.source.tagged||t.serverCache.isFiltered(),g=f0(n,t,A.path,A.children,i,a,y,u))}else if(e.type===Zo.ACK_USER_WRITE){const A=e;g=A.revert?function gM(n,t,e,i,a,u){let g;if(null!=s_(i,e))return t;{const y=new bb(i,t,a),w=t.eventCache.getNode();let A;if(jt(e)||".priority"===Ut(e)){let F;if(t.serverCache.isFullyInitialized())F=i_(i,Ju(t));else{const V=t.serverCache.getNode();(0,j.vA)(V instanceof Ot,"serverChildren would be complete if leaf node"),F=Kr(i,V)}A=n.filter.updateFullNode(w,F,u)}else{const F=Ut(e);let V=wb(i,F,t.serverCache);null==V&&t.serverCache.isCompleteForChild(F)&&(V=w.getImmediateChild(F)),A=null!=V?n.filter.updateChild(w,F,V,ln(e),y,u):t.eventCache.getNode().hasChild(F)?n.filter.updateChild(w,F,Ot.EMPTY_NODE,ln(e),y,u):w,A.isEmpty()&&t.serverCache.isFullyInitialized()&&(g=i_(i,Ju(t)),g.isLeafNode()&&(A=n.filter.updateFullNode(A,g,u)))}return g=t.serverCache.isFullyInitialized()||null!=s_(i,Xt()),kp(t,A,g,n.filter.filtersNodes())}}(n,t,A.path,i,a,u):function a_(n,t,e,i,a,u,g){if(null!=s_(a,e))return t;const y=t.serverCache.isFiltered(),w=t.serverCache;if(null!=i.value){if(jt(e)&&w.isFullyInitialized()||w.isCompleteForPath(e))return o_(n,t,e,w.getNode().getChild(e),a,u,y,g);if(jt(e)){let A=new gn(null);return w.getNode().forEachChild(Xs,(F,V)=>{A=A.set(new tn(F),V)}),f0(n,t,e,A,a,u,y,g)}return t}{let A=new gn(null);return i.foreach((F,V)=>{const Z=Sn(e,F);w.isCompleteForPath(Z)&&(A=A.set(F,w.getNode().getChild(Z)))}),f0(n,t,e,A,a,u,y,g)}}(n,t,A.path,A.affectedTree,i,a,u)}else{if(e.type!==Zo.LISTEN_COMPLETE)throw(0,j.Hk)("Unknown operation type: "+e.type);g=function p0(n,t,e,i,a){const u=t.serverCache;return c0(n,Jv(t,u.getNode(),u.isFullyInitialized()||jt(e),u.isFiltered()),e,i,dA,a)}(n,t,e.path,i,u)}const w=u.getChanges();return function fA(n,t,e){const i=t.eventCache;if(i.isFullyInitialized()){const a=i.getNode().isLeafNode()||i.getNode().isEmpty(),u=Xu(n);(e.length>0||!n.eventCache.isFullyInitialized()||a&&!i.getNode().equals(u)||!i.getNode().getPriority().equals(u.getPriority()))&&e.push(sb(Xu(t)))}}(t,g,w),{viewCache:g,changes:w}}(n.processor_,a,t,e,i);return function hA(n,t){(0,j.vA)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,j.vA)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,u.viewCache),(0,j.vA)(u.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=u.viewCache,_A(n,u.changes,u.viewCache.eventCache.getNode(),null)}function _A(n,t,e,i){return function e_(n,t,e,i){const a=[],u=[];return t.forEach(g=>{"child_changed"===g.type&&n.index_.indexedValueChanged(g.oldSnap,g.snapshotNode)&&u.push(function YT(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(g.childName,g.snapshotNode))}),Np(n,a,"child_removed",t,i,e),Np(n,a,"child_added",t,i,e),Np(n,a,"child_moved",u,i,e),Np(n,a,"child_changed",t,i,e),Np(n,a,"value",t,i,e),a}(n.eventGenerator_,t,e,i?[i]:n.eventRegistrations_)}let c_,Vp;class Mb{constructor(){this.views=new Map}}function g0(n,t,e,i){const a=t.source.queryId;if(null!==a){const u=n.views.get(a);return(0,j.vA)(null!=u,"SyncTree gave us an op for an invalid query."),gA(u,t,e,i)}{let u=[];for(const g of n.views.values())u=u.concat(gA(g,t,e,i));return u}}function m0(n,t,e,i,a){const g=n.views.get(t._queryIdentifier);if(!g){let y=i_(e,a?i:null),w=!1;y?w=!0:i instanceof Ot?(y=Kr(e,i),w=!1):(y=Ot.EMPTY_NODE,w=!1);const A=t_(new ec(y,w,!1),new ec(i,a,!1));return new Db(t,A)}return g}function Nb(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ja(n,t){let e=null;for(const i of n.views.values())e=e||$h(i,t);return e}function kb(n,t){return t._queryParams.loadsAllData()?Lp(n):n.views.get(t._queryIdentifier)}function _0(n,t){return null!=kb(n,t)}function $a(n){return null!=Lp(n)}function Lp(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let mM=1;class y0{constructor(t){this.listenProvider_=t,this.syncPointTree_=new gn(null),this.pendingWriteTree_=function Cb(){return{visibleWrites:ss.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function xb(n,t,e,i,a){return function rA(n,t,e,i,a){(0,j.vA)(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===a&&(a=!0),n.allWrites.push({path:t,snap:e,writeId:i,visible:a}),a&&(n.visibleWrites=Bh(n.visibleWrites,t,e)),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i,a),a?Ha(n,new ea({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function nd(n,t,e=!1){const i=function sA(n,t){for(let e=0;e<n.allWrites.length;e++){const i=n.allWrites[e];if(i.writeId===t)return i}return null}(n.pendingWriteTree_,t);if(function oA(n,t){const e=n.allWrites.findIndex(y=>y.writeId===t);(0,j.vA)(e>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[e];n.allWrites.splice(e,1);let a=i.visible,u=!1,g=n.allWrites.length-1;for(;a&&g>=0;){const y=n.allWrites[g];y.visible&&(g>=e&&mb(y,i.path)?a=!1:Is(i.path,y.path)&&(u=!0)),g--}return!!a&&(u?(function n0(n){n.visibleWrites=r0(n.allWrites,_b,Xt()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=t0(n.visibleWrites,i.path):yr(i.children,w=>{n.visibleWrites=t0(n.visibleWrites,Sn(i.path,w))}),!0))}(n.pendingWriteTree_,t)){let u=new gn(null);return null!=i.snap?u=u.set(Xt(),!0):yr(i.children,g=>{u=u.set(new tn(g),!0)}),Ha(n,new Zm(i.path,u,e))}return[]}function u_(n,t,e){return Ha(n,new ea({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function v0(n,t,e,i,a=!1){const u=t._path,g=n.syncPointTree_.get(u);let y=[];if(g&&("default"===t._queryIdentifier||_0(g,t))){const w=function vA(n,t,e,i){const a=t._queryIdentifier,u=[];let g=[];const y=$a(n);if("default"===a)for(const[w,A]of n.views.entries())g=g.concat(l_(A,e,i)),Ab(A)&&(n.views.delete(w),A.query._queryParams.loadsAllData()||u.push(A.query));else{const w=n.views.get(a);w&&(g=g.concat(l_(w,e,i)),Ab(w)&&(n.views.delete(a),w.query._queryParams.loadsAllData()||u.push(w.query)))}return y&&!$a(n)&&u.push(new(function Rb(){return(0,j.vA)(c_,"Reference.ts has not been loaded"),c_}())(t._repo,t._path)),{removed:u,events:g}}(g,t,e,i);(function Pb(n){return 0===n.views.size})(g)&&(n.syncPointTree_=n.syncPointTree_.remove(u));const A=w.removed;if(y=w.events,!a){const F=-1!==A.findIndex(Z=>Z._queryParams.loadsAllData()),V=n.syncPointTree_.findOnPath(u,(Z,me)=>$a(me));if(F&&!V){const Z=n.syncPointTree_.subtree(u);if(!Z.isEmpty()){const me=function CM(n){return n.fold((t,e,i)=>{if(e&&$a(e))return[Lp(e)];{let a=[];return e&&(a=Nb(e)),yr(i,(u,g)=>{a=a.concat(g)}),a}})}(Z);for(let De=0;De<me.length;++De){const je=me[De],at=je.query,It=DA(n,je);n.listenProvider_.startListening(Hp(at),jp(n,at),It.hashFn,It.onComplete)}}}!V&&A.length>0&&!i&&(F?n.listenProvider_.stopListening(Hp(t),null):A.forEach(Z=>{const me=n.queryToTagMap.get($p(Z));n.listenProvider_.stopListening(Hp(Z),me)}))}!function Gp(n,t){for(let e=0;e<t.length;++e){const i=t[e];if(!i._queryParams.loadsAllData()){const a=$p(i),u=n.queryToTagMap.get(a);n.queryToTagMap.delete(a),n.tagToQueryMap.delete(u)}}}(n,A)}return y}function wA(n,t,e,i){const a=E0(n,i);if(null!=a){const u=C0(a),g=u.path,y=u.queryId,w=zr(g,t);return w0(n,g,new ea(Xv(y),w,e))}return[]}function Up(n,t,e,i=!1){const a=t._path;let u=null,g=!1;n.syncPointTree_.foreachOnPath(a,(Z,me)=>{const De=zr(Z,a);u=u||ja(me,De),g=g||$a(me)});let w,y=n.syncPointTree_.get(a);y?(g=g||$a(y),u=u||ja(y,Xt())):(y=new Mb,n.syncPointTree_=n.syncPointTree_.set(a,y)),null!=u?w=!0:(w=!1,u=Ot.EMPTY_NODE,n.syncPointTree_.subtree(a).foreachChild((me,De)=>{const je=ja(De,Xt());je&&(u=u.updateImmediateChild(me,je))}));const A=_0(y,t);if(!A&&!t._queryParams.loadsAllData()){const Z=$p(t);(0,j.vA)(!n.queryToTagMap.has(Z),"View does not exist, but we have a tag");const me=function d_(){return mM++}();n.queryToTagMap.set(Z,me),n.tagToQueryMap.set(me,Z)}let V=function Ob(n,t,e,i,a,u){const g=m0(n,t,i,a,u);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,g),function Sb(n,t){n.eventRegistrations_.push(t)}(g,e),function mA(n,t){const e=n.viewCache_.eventCache,i=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(fn,(u,g)=>{i.push(Vh(u,g))}),e.isFullyInitialized()&&i.push(sb(e.getNode())),_A(n,i,e.getNode(),t)}(g,e)}(y,t,e,jh(n.pendingWriteTree_,a),u,w);if(!A&&!g&&!i){const Z=kb(y,t);V=V.concat(function TA(n,t,e){const i=t._path,a=jp(n,t),u=DA(n,e),g=n.listenProvider_.startListening(Hp(t),a,u.hashFn,u.onComplete),y=n.syncPointTree_.subtree(i);if(a)(0,j.vA)(!$a(y.value),"If we're adding a query, it shouldn't be shadowed");else{const w=y.fold((A,F,V)=>{if(!jt(A)&&F&&$a(F))return[Lp(F).query];{let Z=[];return F&&(Z=Z.concat(Nb(F).map(me=>me.query))),yr(V,(me,De)=>{Z=Z.concat(De)}),Z}});for(let A=0;A<w.length;++A){const F=w[A];n.listenProvider_.stopListening(Hp(F),jp(n,F))}}return g}(n,t,Z))}return V}function Bp(n,t,e){const a=n.pendingWriteTree_,u=n.syncPointTree_.findOnPath(t,(g,y)=>{const A=ja(y,zr(g,t));if(A)return A});return s0(a,t,u,e,!0)}function Ha(n,t){return Lb(t,n.syncPointTree_,null,jh(n.pendingWriteTree_,Xt()))}function Lb(n,t,e,i){if(jt(n.path))return IA(n,t,e,i);{const a=t.get(Xt());null==e&&null!=a&&(e=ja(a,Xt()));let u=[];const g=Ut(n.path),y=n.operationForChild(g),w=t.children.get(g);if(w&&y){const A=e?e.getImmediateChild(g):null,F=uA(i,g);u=u.concat(Lb(y,w,A,F))}return a&&(u=u.concat(g0(a,n,i,e))),u}}function IA(n,t,e,i){const a=t.get(Xt());null==e&&null!=a&&(e=ja(a,Xt()));let u=[];return t.children.inorderTraversal((g,y)=>{const w=e?e.getImmediateChild(g):null,A=uA(i,g),F=n.operationForChild(g);F&&(u=u.concat(IA(F,y,w,A)))}),a&&(u=u.concat(g0(a,n,i,e))),u}function DA(n,t){const e=t.query,i=jp(n,e);return{hashFn:()=>(function pA(n){return n.viewCache_.serverCache.getNode()}(t)||Ot.EMPTY_NODE).hash(),onComplete:a=>{if("ok"===a)return i?function EM(n,t,e){const i=E0(n,e);if(i){const a=C0(i),u=a.path,g=a.queryId,y=zr(u,t);return w0(n,u,new Op(Xv(g),y))}return[]}(n,e._path,i):function vM(n,t){return Ha(n,new Op({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const u=function Cw(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const i=new Error(n+" at "+t._path.toString()+": "+e);return i.code=n.toUpperCase(),i}(a,e);return v0(n,e,null,u)}}}}function jp(n,t){const e=$p(t);return n.queryToTagMap.get(e)}function $p(n){return n._path.toString()+"$"+n._queryIdentifier}function E0(n,t){return n.tagToQueryMap.get(t)}function C0(n){const t=n.indexOf("$");return(0,j.vA)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new tn(n.substr(0,t))}}function w0(n,t,e){const i=n.syncPointTree_.get(t);return(0,j.vA)(i,"Missing sync point for query tag that we're tracking"),g0(i,e,jh(n.pendingWriteTree_,t),null)}function Hp(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function CA(){return(0,j.vA)(Vp,"Reference.ts has not been loaded"),Vp}())(n._repo,n._path):n}class b0{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new b0(e)}node(){return this.node_}}class I0{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Sn(this.path_,t);return new I0(this.syncTree_,e)}node(){return Bp(this.syncTree_,this.path_)}}const AA=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},Vb=function(n,t,e){return n&&"object"==typeof n?((0,j.vA)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?SA(n[".sv"],t,e):"object"==typeof n[".sv"]?D0(n[".sv"],t):void(0,j.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},SA=function(n,t,e){if("timestamp"===n)return e.timestamp;(0,j.vA)(!1,"Unexpected server value: "+n)},D0=function(n,t,e){n.hasOwnProperty("increment")||(0,j.vA)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&(0,j.vA)(!1,"Unexpected increment value: "+i);const a=t.node();if((0,j.vA)(null!==a&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return i;const g=a.getValue();return"number"!=typeof g?i:g+i},Ub=function(n,t,e,i){return A0(t,new I0(e,n),i)},T0=function(n,t,e){return A0(n,new b0(t),e)};function A0(n,t,e){const i=n.getPriority().val(),a=Vb(i,t.getImmediateChild(".priority"),e);let u;if(n.isLeafNode()){const g=n,y=Vb(g.getValue(),t,e);return y!==g.getValue()||a!==g.getPriority().val()?new Zl(y,Fn(a)):n}{const g=n;return u=g,a!==g.getPriority().val()&&(u=u.updatePriority(new Zl(a))),g.forEachChild(fn,(y,w)=>{const A=A0(w,t.getImmediateChild(y),e);A!==w&&(u=u.updateImmediateChild(y,A))}),u}}class S0{constructor(t="",e=null,i={children:{},childCount:0}){this.name=t,this.parent=e,this.node=i}}function h_(n,t){let e=t instanceof tn?t:new tn(t),i=n,a=Ut(e);for(;null!==a;){const u=(0,j.yw)(i.node.children,a)||{children:{},childCount:0};i=new S0(a,i,u),e=ln(e),a=Ut(e)}return i}function rd(n){return n.node.value}function M0(n,t){n.node.value=t,R0(n)}function Bb(n){return n.node.childCount>0}function f_(n,t){yr(n.node.children,(e,i)=>{t(new S0(e,n,i))})}function jb(n,t,e,i){e&&!i&&t(n),f_(n,a=>{jb(a,t,!0,i)}),e&&i&&t(n)}function id(n){return new tn(null===n.parent?n.name:id(n.parent)+"/"+n.name)}function R0(n){null!==n.parent&&function RA(n,t,e){const i=function MA(n){return void 0===rd(n)&&!Bb(n)}(e),a=(0,j.gR)(n.node.children,t);i&&a?(delete n.node.children[t],n.node.childCount--,R0(n)):!i&&!a&&(n.node.children[t]=e.node,n.node.childCount++,R0(n))}(n.parent,n.name,n)}const Hb=/[\[\].#$\/\u0000-\u001F\u007F]/,Gb=/[\[\].#$\u0000-\u001F\u007F]/,Wb=10485760,qr=function(n){return"string"==typeof n&&0!==n.length&&!Hb.test(n)},P0=function(n){return"string"==typeof n&&0!==n.length&&!Gb.test(n)},Wp=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Om(n)||n&&"object"==typeof n&&(0,j.gR)(n,".sv")},Zs=function(n,t,e,i){i&&void 0===t||zp((0,j.dI)(n,"value"),t,e)},zp=function(n,t,e){const i=e instanceof tn?new jT(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+Ku(i));if("function"==typeof t)throw new Error(n+"contains a function "+Ku(i)+" with contents = "+t.toString());if(Om(t))throw new Error(n+"contains "+t.toString()+" "+Ku(i));if("string"==typeof t&&t.length>Wb/3&&(0,j.OE)(t)>Wb)throw new Error(n+"contains a string greater than "+Wb+" utf8 bytes "+Ku(i)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let a=!1,u=!1;if(yr(t,(g,y)=>{if(".value"===g)a=!0;else if(".priority"!==g&&".sv"!==g&&(u=!0,!qr(g)))throw new Error(n+" contains an invalid key ("+g+") "+Ku(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $T(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,j.OE)(t),zw(n)})(i,g),zp(n,y,i),function HT(n){const t=n.parts_.pop();n.byteLength_-=(0,j.OE)(t),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),a&&u)throw new Error(n+' contains ".value" child '+Ku(i)+" in addition to actual children.")}},Ga=function(n,t,e,i){if(i&&void 0===t)return;const a=(0,j.dI)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const u=[];yr(t,(g,y)=>{const w=new tn(g);if(zp(a,y,Sn(e,w)),".priority"===Bv(w)&&!Wp(y))throw new Error(a+"contains an invalid value for '"+w.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");u.push(w)}),function(n,t){let e,i;for(e=0;e<t.length;e++){i=t[e];const u=kh(i);for(let g=0;g<u.length;g++)if((".priority"!==u[g]||g!==u.length-1)&&!qr(u[g]))throw new Error(n+"contains an invalid key ("+u[g]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(BT);let a=null;for(e=0;e<t.length;e++){if(i=t[e],null!==a&&Is(a,i))throw new Error(n+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}}(a,u)},p_=function(n,t,e){if(!e||void 0!==t){if(Om(t))throw new Error((0,j.dI)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wp(t))throw new Error((0,j.dI)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},sd=function(n,t,e,i){if(!(i&&void 0===e||qr(e)))throw new Error((0,j.dI)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},od=function(n,t,e,i){if(!(i&&void 0===e||P0(e)))throw new Error((0,j.dI)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},PA=function(n,t,e,i){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),od(n,t,e,i)},eo=function(n,t){if(".info"===Ut(t))throw new Error(n+" failed = Can't modify data under /.info/")},N0=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!qr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P0(n)}(e))throw new Error((0,j.dI)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class OA{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function g_(n,t){let e=null;for(let i=0;i<t.length;i++){const a=t[i],u=a.getPath();null!==e&&!$m(u,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:u}),e.events.push(a)}e&&n.eventLists_.push(e)}function Kb(n,t,e){g_(n,e),k0(n,i=>$m(i,t))}function os(n,t,e){g_(n,e),k0(n,i=>Is(i,t)||Is(t,i))}function k0(n,t){n.recursionDepth_++;let e=!0;for(let i=0;i<n.eventLists_.length;i++){const a=n.eventLists_[i];a&&(t(a.path)?(wM(n.eventLists_[i]),n.eventLists_[i]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function wM(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const i=e.getEventRunner();Hu&&xr("event: "+e.toString()),gp(i)}}}const x0="repo_interrupt",NA=25;class qb{constructor(t,e,i,a){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=i,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new OA,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Jm(),this.transactionQueueTree_=new S0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function m_(n){const e=n.infoData_.getNode(new tn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function Hh(n){return AA({timestamp:m_(n)})}function F0(n,t,e,i,a){n.dataUpdateCount++;const u=new tn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let g=[];if(a)if(i){const w=(0,j.kH)(e,A=>Fn(A));g=function Fb(n,t,e,i){const a=E0(n,i);if(a){const u=C0(a),g=u.path,y=u.queryId,w=zr(g,t),A=gn.fromObject(e);return w0(n,g,new Yu(Xv(y),w,A))}return[]}(n.serverSyncTree_,u,w,a)}else{const w=Fn(e);g=wA(n.serverSyncTree_,u,w,a)}else if(i){const w=(0,j.kH)(e,A=>Fn(A));g=function yM(n,t,e){const i=gn.fromObject(e);return Ha(n,new Yu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,u,w)}else{const w=Fn(e);g=u_(n.serverSyncTree_,u,w)}let y=u;g.length>0&&(y=Kp(n,u)),os(n.eventQueue_,y,g)}function Qb(n,t){__(n,"connected",t),!1===t&&function kA(n){ad(n,"onDisconnectEvents");const t=Hh(n),e=Jm();Qv(n.onDisconnect_,Xt(),(a,u)=>{const g=Ub(a,u,n.serverSyncTree_,t);Uh(e,a,g)});let i=[];Qv(e,Xt(),(a,u)=>{i=i.concat(u_(n.serverSyncTree_,a,u));const g=B0(n,a);Kp(n,g)}),n.onDisconnect_=Jm(),os(n.eventQueue_,Xt(),i)}(n)}function __(n,t,e){const i=new tn("/.info/"+t),a=Fn(e);n.infoData_.updateSnapshot(i,a);const u=u_(n.infoSyncTree_,i,a);os(n.eventQueue_,i,u)}function Wa(n){return n.nextWriteId_++}function v_(n,t,e,i,a){ad(n,"set",{path:t.toString(),value:e,priority:i});const u=Hh(n),g=Fn(e,i),y=Bp(n.serverSyncTree_,t),w=T0(g,y,u),A=Wa(n),F=xb(n.serverSyncTree_,t,w,A,!0);g_(n.eventQueue_,F),n.server_.put(t.toString(),g.val(!0),(Z,me)=>{const De="ok"===Z;De||hi("set at "+t+" failed: "+Z);const je=nd(n.serverSyncTree_,A,!De);os(n.eventQueue_,t,je),tc(0,a,Z,me)});const V=B0(n,t);Kp(n,V),os(n.eventQueue_,V,[])}function xA(n,t,e){n.server_.onDisconnectCancel(t.toString(),(i,a)=>{"ok"===i&&qv(n.onDisconnect_,t),tc(0,e,i,a)})}function FA(n,t,e,i){const a=Fn(e);n.server_.onDisconnectPut(t.toString(),a.val(!0),(u,g)=>{"ok"===u&&Uh(n.onDisconnect_,t,a),tc(0,i,u,g)})}function Zb(n,t,e){let i;i=".info"===Ut(t._path)?v0(n.infoSyncTree_,t,e):v0(n.serverSyncTree_,t,e),Kb(n.eventQueue_,t._path,i)}function UA(n){n.persistentConnection_&&n.persistentConnection_.interrupt(x0)}function ad(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),xr(e,...t)}function tc(n,t,e,i){t&&gp(()=>{if("ok"===e)t(null);else{const a=(e||"error").toUpperCase();let u=a;i&&(u+=": "+i);const g=new Error(u);g.code=a,t(g)}})}function L0(n,t,e){return Bp(n.serverSyncTree_,t,e)||Ot.EMPTY_NODE}function V0(n,t=n.transactionQueueTree_){if(t||E_(n,t),rd(t)){const e=U0(n,t);(0,j.vA)(e.length>0,"Sending zero length transaction queue"),e.every(a=>0===a.status)&&function DM(n,t,e){const i=e.map(A=>A.currentWriteId),a=L0(n,t,i);let u=a;const g=a.hash();for(let A=0;A<e.length;A++){const F=e[A];(0,j.vA)(0===F.status,"tryToSendTransactionQueue_: items in queue should all be run."),F.status=1,F.retryCount++;const V=zr(t,F.path);u=u.updateChild(V,F.currentOutputSnapshotRaw)}const y=u.val(!0),w=t;n.server_.put(w.toString(),y,A=>{ad(n,"transaction put response",{path:w.toString(),status:A});let F=[];if("ok"===A){const V=[];for(let Z=0;Z<e.length;Z++)e[Z].status=2,F=F.concat(nd(n.serverSyncTree_,e[Z].currentWriteId)),e[Z].onComplete&&V.push(()=>e[Z].onComplete(null,!0,e[Z].currentOutputSnapshotResolved)),e[Z].unwatcher();E_(n,h_(n.transactionQueueTree_,t)),V0(n,n.transactionQueueTree_),os(n.eventQueue_,t,F);for(let Z=0;Z<V.length;Z++)gp(V[Z])}else{if("datastale"===A)for(let V=0;V<e.length;V++)e[V].status=3===e[V].status?4:0;else{hi("transaction at "+w.toString()+" failed: "+A);for(let V=0;V<e.length;V++)e[V].status=4,e[V].abortReason=A}Kp(n,t)}},g)}(n,id(t),e)}else Bb(t)&&f_(t,e=>{V0(n,e)})}function Kp(n,t){const e=jA(n,t),i=id(e);return function TM(n,t,e){if(0===t.length)return;const i=[];let a=[];const g=t.filter(y=>0===y.status).map(y=>y.currentWriteId);for(let y=0;y<t.length;y++){const w=t[y],A=zr(e,w.path);let V,F=!1;if((0,j.vA)(null!==A,"rerunTransactionsUnderNode_: relativePath should not be null."),4===w.status)F=!0,V=w.abortReason,a=a.concat(nd(n.serverSyncTree_,w.currentWriteId,!0));else if(0===w.status)if(w.retryCount>=NA)F=!0,V="maxretry",a=a.concat(nd(n.serverSyncTree_,w.currentWriteId,!0));else{const Z=L0(n,w.path,g);w.currentInputSnapshot=Z;const me=t[y].update(Z.val());if(void 0!==me){zp("transaction failed: Data returned ",me,w.path);let De=Fn(me);"object"==typeof me&&null!=me&&(0,j.gR)(me,".priority")||(De=De.updatePriority(Z.getPriority()));const at=w.currentWriteId,It=Hh(n),Mt=T0(De,Z,It);w.currentOutputSnapshotRaw=De,w.currentOutputSnapshotResolved=Mt,w.currentWriteId=Wa(n),g.splice(g.indexOf(at),1),a=a.concat(xb(n.serverSyncTree_,w.path,Mt,w.currentWriteId,w.applyLocally)),a=a.concat(nd(n.serverSyncTree_,at,!0))}else F=!0,V="nodata",a=a.concat(nd(n.serverSyncTree_,w.currentWriteId,!0))}os(n.eventQueue_,e,a),a=[],F&&(t[y].status=2,setTimeout(t[y].unwatcher,Math.floor(0)),t[y].onComplete&&i.push("nodata"===V?()=>t[y].onComplete(null,!1,t[y].currentInputSnapshot):()=>t[y].onComplete(new Error(V),!1,null)))}E_(n,n.transactionQueueTree_);for(let y=0;y<i.length;y++)gp(i[y]);V0(n,n.transactionQueueTree_)}(n,U0(n,e),i),i}function jA(n,t){let e,i=n.transactionQueueTree_;for(e=Ut(t);null!==e&&void 0===rd(i);)i=h_(i,e),e=Ut(t=ln(t));return i}function U0(n,t){const e=[];return qp(n,t,e),e.sort((i,a)=>i.order-a.order),e}function qp(n,t,e){const i=rd(t);if(i)for(let a=0;a<i.length;a++)e.push(i[a]);f_(t,a=>{qp(n,a,e)})}function E_(n,t){const e=rd(t);if(e){let i=0;for(let a=0;a<e.length;a++)2!==e[a].status&&(e[i]=e[a],i++);e.length=i,M0(t,e.length>0?e:void 0)}f_(t,i=>{E_(n,i)})}function B0(n,t){const e=id(jA(n,t)),i=h_(n.transactionQueueTree_,t);return function $b(n,t,e){let i=e?n:n.parent;for(;null!==i;){if(t(i))return!0;i=i.parent}}(i,a=>{C_(n,a)}),C_(n,i),jb(i,a=>{C_(n,a)}),e}function C_(n,t){const e=rd(t);if(e){const i=[];let a=[],u=-1;for(let g=0;g<e.length;g++)3===e[g].status||(1===e[g].status?((0,j.vA)(u===g-1,"All SENT items should be at beginning of queue."),u=g,e[g].status=3,e[g].abortReason="set"):((0,j.vA)(0===e[g].status,"Unexpected transaction status in abort"),e[g].unwatcher(),a=a.concat(nd(n.serverSyncTree_,e[g].currentWriteId,!0)),e[g].onComplete&&i.push(e[g].onComplete.bind(null,new Error("set"),!1,null))));-1===u?M0(t,void 0):e.length=u+1,os(n.eventQueue_,id(t),a);for(let g=0;g<i.length;g++)gp(i[g])}}const Qp=function(n,t){const e=j0(n),i=e.namespace;return"firebase.com"===e.domain&&Xo(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==e.domain&&Xo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&hi("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Fm(e.host,e.secure,i,"ws"===e.scheme||"wss"===e.scheme,t,"",i!==e.subdomain),path:new tn(e.pathString)}},j0=function(n){let t="",e="",i="",a="",u="",g=!0,y="https",w=443;if("string"==typeof n){let A=n.indexOf("//");A>=0&&(y=n.substring(0,A-1),n=n.substring(A+2));let F=n.indexOf("/");-1===F&&(F=n.length);let V=n.indexOf("?");-1===V&&(V=n.length),t=n.substring(0,Math.min(F,V)),F<V&&(a=function ld(n){let t="";const e=n.split("/");for(let i=0;i<e.length;i++)if(e[i].length>0){let a=e[i];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}(n.substring(F,V)));const Z=function eI(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const i=e.split("=");2===i.length?t[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):hi(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,V)));A=t.indexOf(":"),A>=0?(g="https"===y||"wss"===y,w=parseInt(t.substring(A+1),10)):A=t.length;const me=t.slice(0,A);if("localhost"===me.toLowerCase())e="localhost";else if(me.split(".").length<=2)e=me;else{const De=t.indexOf(".");i=t.substring(0,De).toLowerCase(),e=t.substring(De+1),u=i}"ns"in Z&&(u=Z.ns)}return{host:t,port:w,domain:e,subdomain:i,secure:g,scheme:y,pathString:a,namespace:u}},tI="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$0=function(){let n=0;const t=[];return function(e){const i=e===n;let a;n=e;const u=new Array(8);for(a=7;a>=0;a--)u[a]=tI.charAt(e%64),e=Math.floor(e/64);(0,j.vA)(0===e,"Cannot push at time == 0");let g=u.join("");if(i){for(a=11;a>=0&&63===t[a];a--)t[a]=0;t[a]++}else for(a=0;a<12;a++)t[a]=Math.floor(64*Math.random());for(a=0;a<12;a++)g+=tI.charAt(t[a]);return(0,j.vA)(20===g.length,"nextPushId: Length should be 20."),g}}();class w_{constructor(t,e,i,a){this.eventType=t,this.eventRegistration=e,this.snapshot=i,this.prevName=a}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,j.As)(this.snapshot.exportVal())}}class Yp{constructor(t,e,i){this.eventRegistration=t,this.error=e,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class nI{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,j.vA)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class $A{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new j.cY;return xA(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){eo("OnDisconnect.remove",this._path);const t=new j.cY;return FA(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){eo("OnDisconnect.set",this._path),Zs("OnDisconnect.set",t,this._path,!1);const e=new j.cY;return FA(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){eo("OnDisconnect.setWithPriority",this._path),Zs("OnDisconnect.setWithPriority",t,this._path,!1),p_("OnDisconnect.setWithPriority",e,!1);const i=new j.cY;return function Jb(n,t,e,i,a){const u=Fn(e,i);n.server_.onDisconnectPut(t.toString(),u.val(!0),(g,y)=>{"ok"===g&&Uh(n.onDisconnect_,t,u),tc(0,a,g,y)})}(this._repo,this._path,t,e,i.wrapCallback(()=>{})),i.promise}update(t){eo("OnDisconnect.update",this._path),Ga("OnDisconnect.update",t,this._path,!1);const e=new j.cY;return function LA(n,t,e,i){if((0,j.Im)(e))return xr("onDisconnect().update() called with empty data.  Don't do anything."),void tc(0,i,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(a,u)=>{"ok"===a&&yr(e,(g,y)=>{const w=Fn(y);Uh(n.onDisconnect_,Sn(t,g),w)}),tc(0,i,a,u)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class as{constructor(t,e,i,a){this._repo=t,this._path=e,this._queryParams=i,this._orderByCalled=a}get key(){return jt(this._path)?null:Bv(this._path)}get ref(){return new Ds(this._repo,this._path)}get _queryIdentifier(){const t=cb(this._queryParams),e=Nm(t);return"{}"===e?"default":e}get _queryObject(){return cb(this._queryParams)}isEqual(t){if(!((t=(0,j.Ku)(t))instanceof as))return!1;const e=this._repo===t._repo,i=$m(this._path,t._path);return e&&i&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function Gw(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function Xp(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function nc(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===Xs){const i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",a="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==Ql)throw new Error(i);if("string"!=typeof t)throw new Error(a)}if(n.hasEnd()){if(n.getIndexEndName()!==Jo)throw new Error(i);if("string"!=typeof e)throw new Error(a)}}else if(n.getIndex()===fn){if(null!=t&&!Wp(t)||null!=e&&!Wp(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,j.vA)(n.getIndex()instanceof Gv||n.getIndex()===Wv,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function b_(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class Ds extends as{constructor(t,e){super(t,e,new Qm,!1)}get parent(){const t=Ww(this._path);return null===t?null:new Ds(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class cd{constructor(t,e,i){this._node=t,this.ref=e,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new tn(t),i=rc(this.ref,t);return new cd(this._node.getChild(e),i,fn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,a)=>t(new cd(a,rc(this.ref,i),fn)))}hasChild(t){const e=new tn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function H0(n,t){return(n=(0,j.Ku)(n))._checkNotDeleted("ref"),void 0!==t?rc(n._root,t):n._root}function G0(n,t){(n=(0,j.Ku)(n))._checkNotDeleted("refFromURL");const e=Qp(t,n._repo.repoInfo_.nodeAdmin);N0("refFromURL",e);const i=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&i.host!==n._repo.repoInfo_.host&&Xo("refFromURL: Host name does not match the current database: (found "+i.host+" but expected "+n._repo.repoInfo_.host+")"),H0(n,e.path.toString())}function rc(n,t){return null===Ut((n=(0,j.Ku)(n))._path)?PA("child","path",t,!1):od("child","path",t,!1),new Ds(n._repo,Sn(n._path,t))}function Jp(n,t){n=(0,j.Ku)(n),eo("set",n._path),Zs("set",t,n._path,!1);const e=new j.cY;return v_(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function W0(n,t){Ga("update",t,n._path,!1);const e=new j.cY;return function Xb(n,t,e,i){ad(n,"update",{path:t.toString(),value:e});let a=!0;const u=Hh(n),g={};if(yr(e,(y,w)=>{a=!1,g[y]=Ub(Sn(t,y),Fn(w),n.serverSyncTree_,u)}),a)xr("update() called with empty data.  Don't do anything."),tc(0,i,"ok",void 0);else{const y=Wa(n),w=function _M(n,t,e,i){!function iA(n,t,e,i){(0,j.vA)(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:i,visible:!0}),n.visibleWrites=e0(n.visibleWrites,t,e),n.lastWriteId=i}(n.pendingWriteTree_,t,e,i);const a=gn.fromObject(e);return Ha(n,new Yu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,a))}(n.serverSyncTree_,t,g,y);g_(n.eventQueue_,w),n.server_.merge(t.toString(),e,(A,F)=>{const V="ok"===A;V||hi("update at "+t+" failed: "+A);const Z=nd(n.serverSyncTree_,y,!V),me=Z.length>0?Kp(n,t):t;os(n.eventQueue_,me,Z),tc(0,i,A,F)}),yr(e,A=>{const F=B0(n,Sn(t,A));Kp(n,F)}),os(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function GA(n){n=(0,j.Ku)(n);const t=new nI(()=>{}),e=new Zp(t);return function y_(n,t,e){const i=function bA(n,t){const e=t._path;let i=null;n.syncPointTree_.foreachOnPath(e,(A,F)=>{const V=zr(A,e);i=i||ja(F,V)});let a=n.syncPointTree_.get(e);a?i=i||ja(a,Xt()):(a=new Mb,n.syncPointTree_=n.syncPointTree_.set(e,a));const u=null!=i,g=u?new ec(i,!0,!1):null;return function Tb(n){return Xu(n.viewCache_)}(m0(a,t,jh(n.pendingWriteTree_,t._path),u?g.getNode():Ot.EMPTY_NODE,u))}(n.serverSyncTree_,t);return null!=i?Promise.resolve(i):n.server_.get(t).then(a=>{const u=Fn(a).withIndex(t._queryParams.getIndex());let g;if(Up(n.serverSyncTree_,t,e,!0),t._queryParams.loadsAllData())g=u_(n.serverSyncTree_,t._path,u);else{const y=jp(n.serverSyncTree_,t);g=wA(n.serverSyncTree_,t._path,u,y)}return os(n.eventQueue_,t._path,g),v0(n.serverSyncTree_,t,e,null,!0),u},a=>(ad(n,"get for query "+(0,j.As)(t)+" failed: "+a),Promise.reject(new Error(a))))}(n._repo,n,e).then(i=>new cd(i,new Ds(n._repo,n._path),n._queryParams.getIndex()))}class Zp{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const i=e._queryParams.getIndex();return new w_("value",this,new cd(t.snapshotNode,new Ds(e._repo,e._path),i))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Yp(this,t,e):null}matches(t){return t instanceof Zp&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class z0{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new Yp(this,t,e):null}createEvent(t,e){(0,j.vA)(null!=t.childName,"Child events should have a childName.");const i=rc(new Ds(e._repo,e._path),t.childName),a=e._queryParams.getIndex();return new w_(t.type,this,new cd(t.snapshotNode,i,a),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof z0&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function I_(n,t,e,i,a){let u;if("object"==typeof i&&(u=void 0,a=i),"function"==typeof i&&(u=i),a&&a.onlyOnce){const w=e,A=(F,V)=>{Zb(n._repo,n,y),w(F,V)};A.userCallback=e.userCallback,A.context=e.context,e=A}const g=new nI(e,u||void 0),y="value"===t?new Zp(g):new z0(t,g);return function VA(n,t,e){let i;i=".info"===Ut(t._path)?Up(n.infoSyncTree_,t,e):Up(n.serverSyncTree_,t,e),Kb(n.eventQueue_,t._path,i)}(n._repo,n,y),()=>Zb(n._repo,n,y)}function K0(n,t,e,i){return I_(n,"value",t,e,i)}function sI(n,t,e,i){return I_(n,"child_added",t,e,i)}function oI(n,t,e,i){return I_(n,"child_changed",t,e,i)}function aI(n,t,e,i){return I_(n,"child_moved",t,e,i)}function q0(n,t,e,i){return I_(n,"child_removed",t,e,i)}function Q0(n,t,e){let i=null;const a=e?new nI(e):null;"value"===t?i=new Zp(a):t&&(i=new z0(t,a)),Zb(n._repo,n,i)}class to{}class Y0 extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zs("endAt",this._value,t._path,!0);const e=Xm(t._queryParams,this._value,this._key);if(b_(e),nc(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class MM extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zs("endBefore",this._value,t._path,!1);const e=function ab(n,t,e){let i;return i=Xm(n,t,n.index_===Xs||e?e:Ql),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(b_(e),nc(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class D_ extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zs("startAt",this._value,t._path,!0);const e=Ym(t._queryParams,this._value,this._key);if(b_(e),nc(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class uI extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Zs("startAfter",this._value,t._path,!1);const e=function ob(n,t,e){let i;return i=Ym(n,t,n.index_===Xs||e?e:Jo),i.startAfterSet_=!0,i}(t._queryParams,this._value,this._key);if(b_(e),nc(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new as(t._repo,t._path,e,t._orderByCalled)}}class T_ extends to{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,function ZT(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class qA extends to{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new as(t._repo,t._path,function Mp(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class hI extends to{constructor(t){super(),this._path=t}_apply(t){Xp(t,"orderByChild");const e=new tn(this._path);if(jt(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const i=new Gv(e),a=Rp(t._queryParams,i);return nc(a),new as(t._repo,t._path,a,!0)}}class QA extends to{_apply(t){Xp(t,"orderByKey");const e=Rp(t._queryParams,Xs);return nc(e),new as(t._repo,t._path,e,!0)}}class YA extends to{_apply(t){Xp(t,"orderByPriority");const e=Rp(t._queryParams,fn);return nc(e),new as(t._repo,t._path,e,!0)}}class NM extends to{_apply(t){Xp(t,"orderByValue");const e=Rp(t._queryParams,Wv);return nc(e),new as(t._repo,t._path,e,!0)}}class JA extends to{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Zs("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new Y0(this._value,this._key)._apply(new D_(this._value,this._key)._apply(t))}}function na(n,...t){let e=(0,j.Ku)(n);for(const i of t)e=i._apply(e);return e}(function yA(n){(0,j.vA)(!c_,"__referenceConstructor has already been defined"),c_=n})(Ds),function EA(n){(0,j.vA)(!Vp,"__referenceConstructor has already been defined"),Vp=n}(Ds);const fI={};function tS(n,t,e,i,a){let u=i||n.options.databaseURL;void 0===u&&(n.options.projectId||Xo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xr("Using default host for project ",n.options.projectId),u=`${n.options.projectId}-default-rtdb.firebaseio.com`);let w,A,g=Qp(u,a),y=g.repoInfo;typeof process<"u"&&process.env&&(A=process.env.FIREBASE_DATABASE_EMULATOR_HOST),A?(w=!0,u=`http://${A}?ns=${y.namespace}`,g=Qp(u,a),y=g.repoInfo):w=!g.repoInfo.secure;const F=a&&w?new xm(xm.OWNER):new bw(n.name,n.options,t);N0("Invalid Firebase Database URL",g),jt(g.path)||Xo("Database URL must point to the root of a Firebase Database (not including a child path).");const V=function LM(n,t,e,i){let a=fI[t.name];a||(a={},fI[t.name]=a);let u=a[n.toURLString()];return u&&Xo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),u=new qb(n,false,e,i),a[n.toURLString()]=u,u}(y,n,F,new ww(n.name,e));return new UM(V,n)}class UM{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function bM(n,t,e){if(n.stats_=Nv(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Kv(n.repoInfo_,(i,a,u,g)=>{F0(n,i,a,u,g)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>Qb(n,!0),0);else{if(typeof e<"u"&&null!==e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,j.As)(e)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new qu(n.repoInfo_,t,(i,a,u,g)=>{F0(n,i,a,u,g)},i=>{Qb(n,i)},i=>{!function Yb(n,t){yr(t,(e,i)=>{__(n,e,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function AT(n,t){const e=n.toString();return Vm[e]||(Vm[e]=t()),Vm[e]}(n.repoInfo_,()=>new fM(n.stats_,n.server_)),n.infoData_=new hM,n.infoSyncTree_=new y0({startListening:(i,a,u,g)=>{let y=[];const w=n.infoData_.getNode(i._path);return w.isEmpty()||(y=u_(n.infoSyncTree_,i._path,w),setTimeout(()=>{g("ok")},0)),y},stopListening:()=>{}}),__(n,"connected",!1),n.serverSyncTree_=new y0({startListening:(i,a,u,g)=>(n.server_.listen(i,u,a,(y,w)=>{const A=g(y,w);os(n.eventQueue_,i._path,A)}),[]),stopListening:(i,a)=>{n.server_.unlisten(i,a)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ds(this._repo,Xt())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function FM(n,t){const e=fI[t];(!e||e[n.key]!==n)&&Xo(`Database ${t}(${n.repoInfo_}) has already been deleted.`),UA(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Xo("Cannot call "+t+" on a deleted database.")}}function pI(){FT.IS_TRANSPORT_INITIALIZED&&hi("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function BM(){pI(),Xl.forceDisallow()}function r(){pI(),Cp.forceDisallow(),Xl.forceAllow()}function f(n,t){_w(n,t)}const E={".sv":"timestamp"};class P{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}qu.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},qu.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},function m(n){Iv(La.SDK_VERSION),(0,La._registerComponent)(new $u.uA("database",(t,{instanceIdentifier:e})=>tS(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,La.registerVersion)(wv,"0.14.4",n),(0,La.registerVersion)(wv,"0.14.4","esm2017")}();const Qe=new Mh.Vy("@firebase/database-compat"),ct=function(n){Qe.warn("FIREBASE WARNING: "+n)};class Bt{constructor(t){this._delegate=t}cancel(t){(0,j.od)("OnDisconnect.cancel",0,1,arguments.length),(0,j.oD)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),i=>t(i)),e}remove(t){(0,j.od)("OnDisconnect.remove",0,1,arguments.length),(0,j.oD)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),i=>t(i)),e}set(t,e){(0,j.od)("OnDisconnect.set",1,2,arguments.length),(0,j.oD)("OnDisconnect.set","onComplete",e,!0);const i=this._delegate.set(t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,j.od)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,j.oD)("OnDisconnect.setWithPriority","onComplete",i,!0);const a=this._delegate.setWithPriority(t,e);return i&&a.then(()=>i(null),u=>i(u)),a}update(t,e){if((0,j.od)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,ct("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,j.oD)("OnDisconnect.update","onComplete",e,!0);const i=this._delegate.update(t);return e&&i.then(()=>e(null),a=>e(a)),i}}class cn{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,j.od)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zn{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,j.od)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,j.od)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,j.od)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,j.od)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,j.od)("DataSnapshot.child",0,1,arguments.length),t=String(t),od("DataSnapshot.child","path",t,!1),new Zn(this._database,this._delegate.child(t))}hasChild(t){return(0,j.od)("DataSnapshot.hasChild",1,1,arguments.length),od("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,j.od)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,j.od)("DataSnapshot.forEach",1,1,arguments.length),(0,j.oD)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new Zn(this._database,e)))}hasChildren(){return(0,j.od)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,j.od)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,j.od)("DataSnapshot.ref",0,0,arguments.length),new Fr(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class bn{constructor(t,e){this.database=t,this._delegate=e}on(t,e,i,a){var u;(0,j.od)("Query.on",2,4,arguments.length),(0,j.oD)("Query.on","callback",e,!1);const g=bn.getCancelAndContextArgs_("Query.on",i,a),y=(A,F)=>{e.call(g.context,new Zn(this.database,A),F)};y.userCallback=e,y.context=g.context;const w=null===(u=g.cancel)||void 0===u?void 0:u.bind(g.context);switch(t){case"value":return K0(this._delegate,y,w),e;case"child_added":return sI(this._delegate,y,w),e;case"child_removed":return q0(this._delegate,y,w),e;case"child_changed":return oI(this._delegate,y,w),e;case"child_moved":return aI(this._delegate,y,w),e;default:throw new Error((0,j.dI)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,i){if((0,j.od)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,j.dI)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,j.oD)("Query.off","callback",e,!0),(0,j.HN)("Query.off","context",i,!0),e){const a=()=>{};a.userCallback=e,a.context=i,Q0(this._delegate,t,a)}else Q0(this._delegate,t)}get(){return GA(this._delegate).then(t=>new Zn(this.database,t))}once(t,e,i,a){(0,j.od)("Query.once",1,4,arguments.length),(0,j.oD)("Query.once","callback",e,!0);const u=bn.getCancelAndContextArgs_("Query.once",i,a),g=new j.cY,y=(A,F)=>{const V=new Zn(this.database,A);e&&e.call(u.context,V,F),g.resolve(V)};y.userCallback=e,y.context=u.context;const w=A=>{u.cancel&&u.cancel.call(u.context,A),g.reject(A)};switch(t){case"value":K0(this._delegate,y,w,{onlyOnce:!0});break;case"child_added":sI(this._delegate,y,w,{onlyOnce:!0});break;case"child_removed":q0(this._delegate,y,w,{onlyOnce:!0});break;case"child_changed":oI(this._delegate,y,w,{onlyOnce:!0});break;case"child_moved":aI(this._delegate,y,w,{onlyOnce:!0});break;default:throw new Error((0,j.dI)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return g.promise}limitToFirst(t){return(0,j.od)("Query.limitToFirst",1,1,arguments.length),new bn(this.database,na(this._delegate,function KA(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new T_(n)}(t)))}limitToLast(t){return(0,j.od)("Query.limitToLast",1,1,arguments.length),new bn(this.database,na(this._delegate,function dI(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new qA(n)}(t)))}orderByChild(t){return(0,j.od)("Query.orderByChild",1,1,arguments.length),new bn(this.database,na(this._delegate,function RM(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return od("orderByChild","path",n,!1),new hI(n)}(t)))}orderByKey(){return(0,j.od)("Query.orderByKey",0,0,arguments.length),new bn(this.database,na(this._delegate,function PM(){return new QA}()))}orderByPriority(){return(0,j.od)("Query.orderByPriority",0,0,arguments.length),new bn(this.database,na(this._delegate,function OM(){return new YA}()))}orderByValue(){return(0,j.od)("Query.orderByValue",0,0,arguments.length),new bn(this.database,na(this._delegate,function XA(){return new NM}()))}startAt(t=null,e){return(0,j.od)("Query.startAt",0,2,arguments.length),new bn(this.database,na(this._delegate,function cI(n=null,t){return sd("startAt","key",t,!0),new D_(n,t)}(t,e)))}startAfter(t=null,e){return(0,j.od)("Query.startAfter",0,2,arguments.length),new bn(this.database,na(this._delegate,function zA(n,t){return sd("startAfter","key",t,!0),new uI(n,t)}(t,e)))}endAt(t=null,e){return(0,j.od)("Query.endAt",0,2,arguments.length),new bn(this.database,na(this._delegate,function lI(n,t){return sd("endAt","key",t,!0),new Y0(n,t)}(t,e)))}endBefore(t=null,e){return(0,j.od)("Query.endBefore",0,2,arguments.length),new bn(this.database,na(this._delegate,function WA(n,t){return sd("endBefore","key",t,!0),new MM(n,t)}(t,e)))}equalTo(t,e){return(0,j.od)("Query.equalTo",1,2,arguments.length),new bn(this.database,na(this._delegate,function kM(n,t){return sd("equalTo","key",t,!0),new JA(n,t)}(t,e)))}toString(){return(0,j.od)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,j.od)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,j.od)("Query.isEqual",1,1,arguments.length),!(t instanceof bn))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,i){const a={cancel:void 0,context:void 0};if(e&&i)a.cancel=e,(0,j.oD)(t,"cancel",a.cancel,!0),a.context=i,(0,j.HN)(t,"context",a.context,!0);else if(e)if("object"==typeof e&&null!==e)a.context=e;else{if("function"!=typeof e)throw new Error((0,j.dI)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");a.cancel=e}return a}get ref(){return new Fr(this.database,new Ds(this._delegate._repo,this._delegate._path))}}class Fr extends bn{constructor(t,e){super(t,new as(e._repo,e._path,new Qm,!1)),this.database=t,this._delegate=e}getKey(){return(0,j.od)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,j.od)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new Fr(this.database,rc(this._delegate,t))}getParent(){(0,j.od)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new Fr(this.database,t):null}getRoot(){return(0,j.od)("Reference.root",0,0,arguments.length),new Fr(this.database,this._delegate.root)}set(t,e){(0,j.od)("Reference.set",1,2,arguments.length),(0,j.oD)("Reference.set","onComplete",e,!0);const i=Jp(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}update(t,e){if((0,j.od)("Reference.update",1,2,arguments.length),Array.isArray(t)){const a={};for(let u=0;u<t.length;++u)a[""+u]=t[u];t=a,ct("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}eo("Reference.update",this._delegate._path),(0,j.oD)("Reference.update","onComplete",e,!0);const i=W0(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}setWithPriority(t,e,i){(0,j.od)("Reference.setWithPriority",2,3,arguments.length),(0,j.oD)("Reference.setWithPriority","onComplete",i,!0);const a=function iI(n,t,e){if(eo("setWithPriority",n._path),Zs("setWithPriority",t,n._path,!1),p_("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const i=new j.cY;return v_(n._repo,n._path,t,e,i.wrapCallback(()=>{})),i.promise}(this._delegate,t,e);return i&&a.then(()=>i(null),u=>i(u)),a}remove(t){(0,j.od)("Reference.remove",0,1,arguments.length),(0,j.oD)("Reference.remove","onComplete",t,!0);const e=function rI(n){return eo("remove",n._path),Jp(n,null)}(this._delegate);return t&&e.then(()=>t(null),i=>t(i)),e}transaction(t,e,i){(0,j.od)("Reference.transaction",1,3,arguments.length),(0,j.oD)("Reference.transaction","transactionUpdate",t,!1),(0,j.oD)("Reference.transaction","onComplete",e,!0),function(n,t,e,i){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,j.dI)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,i);const a=function B(n,t,e){var i;if(n=(0,j.Ku)(n),eo("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const a=null===(i=e?.applyLocally)||void 0===i||i,u=new j.cY,y=K0(n,()=>{});return function BA(n,t,e,i,a,u){ad(n,"transaction on "+t);const g={path:t,update:e,onComplete:i,status:null,order:pw(),applyLocally:u,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},y=L0(n,t,void 0);g.currentInputSnapshot=y;const w=g.update(y.val());if(void 0===w)g.unwatcher(),g.currentOutputSnapshotRaw=null,g.currentOutputSnapshotResolved=null,g.onComplete&&g.onComplete(null,!1,g.currentInputSnapshot);else{zp("transaction failed: Data returned ",w,g.path),g.status=0;const A=h_(n.transactionQueueTree_,t),F=rd(A)||[];let V;F.push(g),M0(A,F),"object"==typeof w&&null!==w&&(0,j.gR)(w,".priority")?(V=(0,j.yw)(w,".priority"),(0,j.vA)(Wp(V),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):V=(Bp(n.serverSyncTree_,t)||Ot.EMPTY_NODE).getPriority().val();const Z=Hh(n),me=Fn(w,V),De=T0(me,y,Z);g.currentOutputSnapshotRaw=me,g.currentOutputSnapshotResolved=De,g.currentWriteId=Wa(n);const je=xb(n.serverSyncTree_,t,De,g.currentWriteId,g.applyLocally);os(n.eventQueue_,t,je),V0(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(w,A,F)=>{let V=null;w?u.reject(w):(V=new cd(F,new Ds(n._repo,n._path),fn),u.resolve(new P(A,V)))},y,a),u.promise}(this._delegate,t,{applyLocally:i}).then(u=>new cn(u.committed,new Zn(this.database,u.snapshot)));return e&&a.then(u=>e(null,u.committed,u.snapshot),u=>e(u,!1,null)),a}setPriority(t,e){(0,j.od)("Reference.setPriority",1,2,arguments.length),(0,j.oD)("Reference.setPriority","onComplete",e,!0);const i=function SM(n,t){n=(0,j.Ku)(n),eo("setPriority",n._path),p_("setPriority",t,!1);const e=new j.cY;return v_(n._repo,Sn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&i.then(()=>e(null),a=>e(a)),i}push(t,e){(0,j.od)("Reference.push",0,2,arguments.length),(0,j.oD)("Reference.push","onComplete",e,!0);const i=function HA(n,t){n=(0,j.Ku)(n),eo("push",n._path),Zs("push",t,n._path,!0);const e=m_(n._repo),i=$0(e),a=rc(n,i),u=rc(n,i);let g;return g=null!=t?Jp(u,t).then(()=>u):Promise.resolve(u),a.then=g.then.bind(g),a.catch=g.then.bind(g,void 0),a}(this._delegate,t),a=i.then(g=>new Fr(this.database,g));e&&a.then(()=>e(null),g=>e(g));const u=new Fr(this.database,i);return u.then=a.then.bind(a),u.catch=a.catch.bind(a,void 0),u}onDisconnect(){return eo("Reference.onDisconnect",this._delegate._path),new Bt(new $A(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class ud{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:BM,forceLongPolling:r}}useEmulator(t,e,i={}){!function o(n,t,e,i={}){(n=(0,j.Ku)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Xo("Cannot call useEmulator() after instance has already been initialized.");const a=n._repoInternal;let u;if(a.repoInfo_.nodeAdmin)i.mockUserToken&&Xo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new xm(xm.OWNER);else if(i.mockUserToken){const g="string"==typeof i.mockUserToken?i.mockUserToken:(0,j.Fy)(i.mockUserToken,n.app.options.projectId);u=new xm(g)}!function eS(n,t,e,i){n.repoInfo_=new Fm(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(a,t,e,u)}(this._delegate,t,e,i)}ref(t){if((0,j.od)("database.ref",0,1,arguments.length),t instanceof Fr){const e=G0(this._delegate,t.toString());return new Fr(this,e)}{const e=H0(this._delegate,t);return new Fr(this,e)}}refFromURL(t){(0,j.od)("database.refFromURL",1,1,arguments.length);const i=G0(this._delegate,t);return new Fr(this,i)}goOffline(){return(0,j.od)("database.goOffline",0,0,arguments.length),function c(n){(n=(0,j.Ku)(n))._checkNotDeleted("goOffline"),UA(n._repo)}(this._delegate)}goOnline(){return(0,j.od)("database.goOnline",0,0,arguments.length),function d(n){(n=(0,j.Ku)(n))._checkNotDeleted("goOnline"),function IM(n){n.persistentConnection_&&n.persistentConnection_.resume(x0)}(n._repo)}(this._delegate)}}ud.ServerValue={TIMESTAMP:function b(){return E}(),increment:n=>function T(n){return{".sv":{increment:n}}}(n)};var rS=Object.freeze({__proto__:null,initStandalone:function nS({app:n,url:t,version:e,customAuthImpl:i,namespace:a,nodeAdmin:u=!1}){Iv(e);const g=new $u.Kq("auth-internal",new $u.h1("database-standalone"));return g.setComponent(new $u.uA("auth-internal",()=>i,"PRIVATE")),{instance:new ud(tS(n,g,void 0,t,u),n),namespace:a}}});const KR=ud.ServerValue;!function qR(n){n.INTERNAL.registerComponent(new $u.uA("database-compat",(t,{instanceIdentifier:e})=>{const i=t.getProvider("app-compat").getImmediate(),a=t.getProvider("database").getImmediate({identifier:e});return new ud(a,i)},"PUBLIC").setServiceProps({Reference:Fr,Query:bn,Database:ud,DataSnapshot:Zn,enableLogging:f,INTERNAL:rS,ServerValue:KR}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.3.4")}(dw.A);var gI=R(941),QR=R(6129);class YR extends Vi.B{constructor(t=1/0,e=1/0,i=QR.U){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:a,_timestampProvider:u,_windowTime:g}=this;e||(i.push(t),!a&&i.push(u.now()+g)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:a}=this,u=a.slice();for(let g=0;g<u.length&&!t.closed;g+=i?1:2)t.next(u[g]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:a}=this,u=(a?1:2)*t;if(t<1/0&&u<i.length&&i.splice(0,i.length-u),!a){const g=e.now();let y=0;for(let w=1;w<i.length&&i[w]<=g;w+=2)y=w;y&&i.splice(0,y+1)}}}function jM(n,t,e){let i,a=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:a=!1,scheduler:e}=n):i=n??1/0,(0,Cv.u)({connector:()=>new YR(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function $M(n,t){return(0,Pu.T)(t)?(0,xn.n)(()=>n,t):(0,xn.n)(()=>n)}var iS=R(6745);R(2214);const oS=new Map,GM={activated:!1,tokenObservers:[]},t1={initialized:!1,enabled:!1};function dr(n){return oS.get(n)||Object.assign({},GM)}function _I(){return t1}const aS="https://content-firebaseappcheck.googleapis.com/v1",s1="exchangeDebugToken",WM={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class a1{constructor(t,e,i,a,u){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=a,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=a,a>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,Yo.A)(function*(){e.stop();try{e.pending=new j.cY,yield function l1(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new j.cY,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Di=new j.FA("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function lS(n){if(!dr(n).activated)throw Di.create("use-before-activation",{appName:n.name})}function EI(n,t){return uS.apply(this,arguments)}function uS(){return(uS=(0,Yo.A)(function*({url:n,body:t},e){const i={"Content-Type":"application/json"},a=e.getImmediate({optional:!0});if(a){const V=yield a.getHeartbeatsHeader();V&&(i["X-Firebase-Client"]=V)}const u={method:"POST",body:JSON.stringify(t),headers:i};let g,y;try{g=yield fetch(n,u)}catch(V){throw Di.create("fetch-network-error",{originalErrorMessage:V?.message})}if(200!==g.status)throw Di.create("fetch-status-error",{httpStatus:g.status});try{y=yield g.json()}catch(V){throw Di.create("fetch-parse-error",{originalErrorMessage:V?.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const A=1e3*Number(w[1]),F=Date.now();return{token:y.token,expireTimeMillis:F+A,issuedAtTimeMillis:F}})).apply(this,arguments)}function zM(n,t){const{projectId:e,appId:i,apiKey:a}=n.options;return{url:`${aS}/projects/${e}/apps/${i}:${s1}?key=${a}`,body:{debug_token:t}}}const h1="firebase-app-check-database",f1=1,X0="firebase-app-check-store";let CI=null;function dS(){return(dS=(0,Yo.A)(function*(n,t){const i=(yield function qM(){return CI||(CI=new Promise((n,t)=>{try{const e=indexedDB.open(h1,f1);e.onsuccess=i=>{n(i.target.result)},e.onerror=i=>{var a;t(Di.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},e.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(X0,{keyPath:"compositeKey"})}}catch(e){t(Di.create("storage-open",{originalErrorMessage:e?.message}))}}),CI)}()).transaction(X0,"readwrite"),u=i.objectStore(X0).put({compositeKey:n,value:t});return new Promise((g,y)=>{u.onsuccess=w=>{g()},i.onerror=w=>{var A;y(Di.create("storage-set",{originalErrorMessage:null===(A=w.target.error)||void 0===A?void 0:A.message}))}})})).apply(this,arguments)}const J0=new Mh.Vy("@firebase/app-check");function pS(n,t){return(0,j.zW)()?function g1(n,t){return function QM(n,t){return dS.apply(this,arguments)}(function XM(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{J0.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function mS(){return _I().enabled}function _S(){return yS.apply(this,arguments)}function yS(){return(yS=(0,Yo.A)(function*(){const n=_I();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const C1={error:"UNKNOWN_ERROR"};function w1(n){return j.K3.encodeString(JSON.stringify(n),!1)}function wI(n){return vS.apply(this,arguments)}function vS(){return(vS=(0,Yo.A)(function*(n,t=!1){const e=n.app;lS(e);const i=dr(e);let u,a=i.token;if(a&&!A_(a)&&(i.token=void 0,a=void 0),!a){const w=yield i.cachedTokenPromise;w&&(A_(w)?a=w:yield pS(e,void 0))}if(!t&&a&&A_(a))return{token:a.token};let y,g=!1;if(mS()){i.exchangeTokenPromise||(i.exchangeTokenPromise=EI(zM(e,yield _S()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),g=!0);const w=yield i.exchangeTokenPromise;return yield pS(e,w),i.token=w,{token:w.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),g=!0),a=yield dr(e).exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?J0.warn(w.message):J0.error(w),u=w}return a?u?y=A_(a)?{token:a.token,internalError:u}:tR(u):(y={token:a.token},i.token=a,yield pS(e,a)):y=tR(u),g&&function eR(n,t){const e=dr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}(e,y),y})).apply(this,arguments)}function JM(n){return ES.apply(this,arguments)}function ES(){return(ES=(0,Yo.A)(function*(n){const t=n.app;lS(t);const{provider:e}=dr(t);if(mS()){const i=yield _S(),{token:a}=yield EI(zM(t,i),n.heartbeatServiceProvider);return{token:a}}{const{token:i}=yield e.getToken();return{token:i}}})).apply(this,arguments)}function wS(n,t){const e=dr(n),i=e.tokenObservers.filter(a=>a.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),e.tokenObservers=i}function ZM(n){const{app:t}=n,e=dr(t);let i=e.tokenRefresher;i||(i=function b1(n){const{app:t}=n;return new a1((0,Yo.A)(function*(){let i;if(i=dr(t).token?yield wI(n,!0):yield wI(n),i.error)throw i.error;if(i.internalError)throw i.internalError}),()=>!0,()=>{const e=dr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},WM.RETRIAL_MIN_WAIT,WM.RETRIAL_MAX_WAIT)}(n),e.tokenRefresher=i),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function A_(n){return n.expireTimeMillis-Date.now()>0}function tR(n){return{token:w1(C1),error:n}}class I1{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=dr(this.app);for(const e of t)wS(this.app,e.next);return Promise.resolve()}}const cR="app-check-internal";!function V1(){(0,La._registerComponent)(new $u.uA("app-check",n=>function D1(n,t){return new I1(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(cR).initialize()})),(0,La._registerComponent)(new $u.uA(cR,n=>function T1(n){return{getToken:t=>wI(n,t),getLimitedUseToken:()=>JM(n),addTokenListener:t=>function CS(n,t,e,i){const{app:a}=n,u=dr(a);if(u.tokenObservers=[...u.tokenObservers,{next:e,error:i,type:t}],u.token&&A_(u.token)){const y=u.token;Promise.resolve().then(()=>{e({token:y.token}),ZM(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ZM(n))}(n,"INTERNAL",t),removeTokenListener:t=>wS(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,La.registerVersion)("@firebase/app-check","0.8.0")}();class TS{constructor(){return(0,Bi.CA)("app-check")}}typeof window<"u"&&window,R(7935);const hR=new l.nKC("angularfire2.auth.use-emulator"),fR=new l.nKC("angularfire2.auth.settings"),pR=new l.nKC("angularfire2.auth.tenant-id"),gR=new l.nKC("angularfire2.auth.langugage-code"),mR=new l.nKC("angularfire2.auth.use-device-language"),_R=new l.nKC("angularfire.auth.persistence"),yR=(n,t,e,i,a,u,g,y)=>(0,bs.BM)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=t.runOutsideAngular(()=>n.auth());if(e&&w.useEmulator(...e),i&&(w.tenantId=i),w.languageCode=a,u&&w.useDeviceLanguage(),g)for(const[A,F]of Object.entries(g))w.settings[A]=F;return y&&w.setPersistence(y),w},[e,i,a,u,g,y]);let II=(()=>{class n{constructor(e,i,a,u,g,y,w,A,F,V,Z,me){const De=new Vi.B,je=(0,Je.of)(void 0).pipe((0,gI.Q)(g.outsideAngular),(0,xn.n)(()=>u.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,6922)))),(0,At.T)(()=>(0,bs.iB)(e,u,i)),(0,At.T)(at=>yR(at,u,y,A,F,V,w,Z)),jM({bufferSize:1,refCount:!1}));if(el(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Je.of)(null);else{je.pipe(Ra()).subscribe();const It=je.pipe((0,xn.n)(Rt=>Rt.getRedirectResult().then(tr=>tr,()=>null)),Bi.U0,jM({bufferSize:1,refCount:!1})),Mt=je.pipe((0,xn.n)(Rt=>new Lo.c(tr=>({unsubscribe:u.runOutsideAngular(()=>Rt.onAuthStateChanged(gi=>tr.next(gi),gi=>tr.error(gi),()=>tr.complete()))})))),Jt=je.pipe((0,xn.n)(Rt=>new Lo.c(tr=>({unsubscribe:u.runOutsideAngular(()=>Rt.onIdTokenChanged(gi=>tr.next(gi),gi=>tr.error(gi),()=>tr.complete()))}))));this.authState=It.pipe($M(Mt),(0,iS._)(g.outsideAngular),(0,gI.Q)(g.insideAngular)),this.user=It.pipe($M(Jt),(0,iS._)(g.outsideAngular),(0,gI.Q)(g.insideAngular)),this.idToken=this.user.pipe((0,xn.n)(Rt=>Rt?(0,hn.H)(Rt.getIdToken()):(0,Je.of)(null))),this.idTokenResult=this.user.pipe((0,xn.n)(Rt=>Rt?(0,hn.H)(Rt.getIdTokenResult()):(0,Je.of)(null))),this.credential=(0,Ev.h)(It,De,this.authState.pipe(Go(Rt=>!Rt))).pipe((0,At.T)(Rt=>Rt?.user?Rt:null),(0,iS._)(g.outsideAngular),(0,gI.Q)(g.insideAngular))}return(0,bs.Gt)(this,je,u,{spy:{apply:(at,It,Mt)=>{(at.startsWith("signIn")||at.startsWith("createUser"))&&Mt.then(Jt=>De.next(Jt))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.KVO(bs.rx),l.KVO(bs.uP,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(Bi.u0),l.KVO(hR,8),l.KVO(fR,8),l.KVO(pR,8),l.KVO(gR,8),l.KVO(mR,8),l.KVO(_R,8),l.KVO(TS,8))},n.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function vR(n){return null==n}function ER(n){return"function"==typeof n.set}function CR(n,t){return ER(t)?t:n.ref(t)}function wR(n,t){if(function W1(n){return"string"==typeof n}(n))return t.stringCase();if(ER(n))return t.firebaseCase();if(function z1(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function Z0(n,t,e="on",i=vv.E){return new Lo.c(a=>{let u=null;return u=n[e](t,(g,y)=>{i.schedule(()=>{a.next({snapshot:g,prevKey:y})}),"once"===e&&i.schedule(()=>a.complete())},g=>{i.schedule(()=>a.error(g))}),"on"===e?{unsubscribe(){null!=u&&n.off(t,u)}}:{unsubscribe(){}}}).pipe((0,At.T)(a=>{const{snapshot:u,prevKey:g}=a;let y=null;return u.exists()&&(y=u.key),{type:t,payload:u,prevKey:g,key:y}}),(0,Cv.u)())}function bR(n,t){const e=n.length;for(let i=0;i<e;i++)if(n[i].payload.key===t)return i;return-1}function Q1(n,t){const{payload:e,prevKey:i,key:a}=t,u=bR(n,a),g=function q1(n,t){if(vR(t))return 0;{const e=bR(n,t);return-1===e?n.length:e+1}}(n,i);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let y=null;t.payload.forEach(w=>{const A={payload:w,type:"value",prevKey:y,key:w.key};return y=w.key,n=[...n,A],!1})}return n;case"child_added":if(u>-1){const y=n[u-1];(y&&y.key||null)!==i&&(n=n.filter(w=>w.payload.key!==e.key)).splice(g,0,t)}else{if(null==i)return[t,...n];(n=n.slice()).splice(g,0,t)}return n;case"child_removed":return n.filter(y=>y.payload.key!==e.key);case"child_changed":return n.map(y=>y.payload.key===a?t:y);case"child_moved":if(u>-1){const y=n.splice(u,1)[0];return(n=n.slice()).splice(g,0,y),n}return n;default:return n}}function IR(n){return(vR(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function DR(n,t,e){return function K1(n,t,e){return Z0(n,"value","once",e).pipe((0,xn.n)(i=>{const a=[(0,Je.of)(i)];return t.forEach(u=>a.push(Z0(n,u,"on",e))),(0,Ev.h)(...a).pipe(rm(Q1,[]))}),(0,uw.F)())}(n,t=IR(t),e)}function TR(n,t,e){const i=(t=IR(t)).map(a=>Z0(n,a,"on",e));return(0,Ev.h)(...i)}function AR(n,t){return function(i,a){return wR(i,{stringCase:()=>n.child(i)[t](a),firebaseCase:()=>i[t](a),snapshotCase:()=>i.ref[t](a)})}}function Z1(n){return function(e){return e?wR(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function SR(n,t){return function(){return Z0(n,"value","on",t)}}const nP=new l.nKC("angularfire2.realtimeDatabaseURL"),rP=new l.nKC("angularfire2.database.use-emulator");let MR=(()=>{class n{constructor(e,i,a,u,g,y,w,A,F,V,Z,me,De,je,at){this.schedulers=y;const It=w,Mt=(0,bs.iB)(e,g,i);A&&yR(Mt,g,F,Z,me,De,V,je),this.database=(0,bs.BM)(`${Mt.name}.database.${a}`,"AngularFireDatabase",Mt.name,()=>{const Jt=g.runOutsideAngular(()=>Mt.database(a||void 0));return It&&Jt.useEmulator(...It),Jt},[It])}list(e,i){const a=this.schedulers.ngZone.runOutsideAngular(()=>CR(this.database,e));let u=a;return i&&(u=i(a)),function eP(n,t){const e=t.schedulers.outsideAngular,i=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:AR(i,"update"),set:AR(i,"set"),push:a=>i.push(a),remove:Z1(i),snapshotChanges:a=>DR(n,a,e).pipe(Bi.U0),stateChanges:a=>TR(n,a,e).pipe(Bi.U0),auditTrail:a=>function Y1(n,t,e){return function J1(n,t,e){return function X1(n,t){return Z0(n,"value","on",t).pipe((0,At.T)(e=>{let i;return e.payload.forEach(a=>(i=a.key,!1)),{data:e,lastKeyToLoad:i}}))}(n,e).pipe(function Rm(...n){const t=(0,_u.ms)(n);return(0,ci.N)((e,i)=>{const a=n.length,u=new Array(a);let g=n.map(()=>!1),y=!1;for(let w=0;w<a;w++)(0,Ll.Tg)(n[w]).subscribe((0,_r._)(i,A=>{u[w]=A,!y&&!g[w]&&(g[w]=!0,(y=g.every(tm.D))&&(g=null))},im.l));e.subscribe((0,_r._)(i,w=>{if(y){const A=[w,...u];i.next(t?t(...A):A)}}))})}(t),(0,At.T)(([a,u])=>{const g=a.lastKeyToLoad,y=u.map(w=>w.key);return{actions:u,lastKeyToLoad:g,loadedKeys:y}}),function vT(n){return(0,ci.N)((t,e)=>{let i=!1,a=0;t.subscribe((0,_r._)(e,u=>(i||(i=!n(u,a++)))&&e.next(u)))})}(a=>-1===a.loadedKeys.indexOf(a.lastKeyToLoad)),(0,At.T)(a=>a.actions))}(n,TR(n,t).pipe(rm((a,u)=>[...a,u],[])),e)}(n,a,e).pipe(Bi.U0),valueChanges:(a,u)=>DR(n,a,e).pipe((0,At.T)(y=>y.map(w=>u&&u.idField?Object.assign(Object.assign({},w.payload.val()),{[u.idField]:w.key}):w.payload.val())),Bi.U0)}}(u,this)}object(e){return function tP(n,t){return{query:n,snapshotChanges:()=>SR(n,t.schedulers.outsideAngular)().pipe(Bi.U0),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>SR(n,t.schedulers.outsideAngular)().pipe(Bi.U0,(0,At.T)(i=>i.payload.exists()?i.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>CR(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.KVO(bs.rx),l.KVO(bs.uP,8),l.KVO(nP,8),l.KVO(l.Agw),l.KVO(l.SKi),l.KVO(Bi.u0),l.KVO(rP,8),l.KVO(II,8),l.KVO(hR,8),l.KVO(fR,8),l.KVO(pR,8),l.KVO(gR,8),l.KVO(mR,8),l.KVO(_R,8),l.KVO(TS,8))},n.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),oP=(()=>{class n{constructor(){this.title="Kawut"}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"app-container"]],template:function(i,a){1&i&&(l.j41(0,"div",0),l.nrm(1,"router-outlet"),l.k0s())},dependencies:[_m],styles:[".app-container[_ngcontent-%COMP%]{min-height:100vh;background-color:#f8f9fa}"]})}}return n})();var aP=R(9470);function RR(n=0,t,e=vv.b){let i=-1;return null!=t&&((0,aP.m)(t)?e=t:i=t),new Lo.c(a=>{let u=function lP(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;u<0&&(u=0);let g=0;return e.schedule(function(){a.closed||(a.next(g++),0<=i?this.schedule(void 0,i):a.complete())},u)})}var PR=function(n){return n.YELLOW="yellow",n.RED="red",n}(PR||{}),er=function(n){return n.LOBBY="lobby",n.COUNTDOWN="countdown",n.QUESTION="question",n.VOTING="voting",n.SCOREBOARD="scoreboard",n.FINISHED="finished",n}(er||{});let DI=(()=>{class n{constructor(e){this.dataService=e,this.currentSession=null,this.currentPlayer=null}createGame(){return this.dataService.createGameSession()}joinSession(e,i,a,u=!1){const g={id:"",name:i,team:a,score:0,isHost:u};return this.dataService.joinGame(e,g).pipe((0,At.T)(()=>{this.setupSessionListener(e),this.currentPlayer=g}))}setupSessionListener(e){this.dataService.getGameSession(e).subscribe(i=>{this.currentSession=i})}getCurrentSession(){return(0,Je.of)(this.currentSession)}getCurrentPlayer(){return(0,Je.of)(this.currentPlayer)}startGame(e,i){return this.dataService.setCurrentTheme(e,i).pipe((0,xn.n)(()=>this.dataService.updateGameStatus(e,er.COUNTDOWN)))}startCountdown(e){return RR(0,1e3).pipe(Ho(4),(0,At.T)(i=>3-i),(0,xn.n)(i=>0===i?this.dataService.updateGameStatus(e,er.QUESTION):this.dataService.updateCountdown(e,i)))}startVoting(e){return this.dataService.updateGameStatus(e,er.VOTING)}submitAnswer(e,i,a){const u={playerId:this.currentPlayer?.id||"",answer:a,timestamp:Date.now()};return this.dataService.submitVote(e,i,u)}setHostAnswer(e,i,a){const u=this.currentSession;if(!u?.currentTheme)return(0,Je.of)(void 0);const g=u.currentTheme.questions[i];return g.correctAnswer=a,this.dataService.updateGameStatus(e,er.SCOREBOARD).pipe((0,At.T)(()=>{Object.entries(u.votes[i]||{}).forEach(([w,A])=>{const F=u.players[w];if(!F)return;let V=0;if(g.isNumeric){const me=Math.abs(Number(A.answer)-Number(a));V=Math.max(0,1e3-10*me)}else A.answer===a&&(V=Math.max(100,1e3-(A.timestamp-u.countdown)/100));this.dataService.updateScore(e,w,(F.score||0)+V)})}))}nextQuestion(e){const i=this.currentSession;return i?.currentTheme?i.currentQuestionIndex+1>=i.currentTheme.questions.length?this.dataService.updateGameStatus(e,er.FINISHED):this.dataService.updateGameStatus(e,er.COUNTDOWN).pipe((0,At.T)(()=>{this.dataService.updateCountdown(e,3)})):(0,Je.of)(void 0)}updateGameStatus(e,i){return this.dataService.updateGameStatus(e,i)}leaveGame(e){return this.currentPlayer?this.dataService.removePlayer(e,this.currentPlayer.id):Promise.resolve()}static{this.\u0275fac=function(i){return new(i||n)(l.KVO("DataService"))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),cP=(()=>{class n{constructor(e,i){this.router=e,this.gameService=i,this.sessionId=""}createGame(){this.gameService.createGame().subscribe({next:e=>{this.router.navigate(["/lobby",e])},error:e=>{console.error("Error creating game:",e)}})}joinGame(){this.sessionId&&this.router.navigate(["/lobby",this.sessionId])}viewDemo(){this.router.navigate(["/demo"])}openCreator(){this.router.navigate(["/create"])}openPlayer(){this.router.navigate(["/play","DEMO123"])}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(Wr),l.rXU(DI))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-home"]],decls:29,vars:2,consts:[[1,"home-container"],[1,"action-buttons"],[1,"btn","btn-primary",3,"click"],[1,"join-game"],["type","text","placeholder","Enter Game Code",1,"form-control",3,"ngModel","ngModelChange"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"btn","btn-demo",3,"click"],[1,"standalone-links"],[1,"btn","btn-standalone",3,"click"],[1,"instructions"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"h1"),l.EFF(2,"Welcome to Kawut!"),l.k0s(),l.j41(3,"div",1)(4,"button",2),l.bIt("click",function(){return a.createGame()}),l.EFF(5," Create New Game "),l.k0s(),l.j41(6,"div",3)(7,"input",4),l.bIt("ngModelChange",function(g){return a.sessionId=g}),l.k0s(),l.j41(8,"button",5),l.bIt("click",function(){return a.joinGame()}),l.EFF(9," Join Game "),l.k0s()(),l.j41(10,"button",6),l.bIt("click",function(){return a.viewDemo()}),l.EFF(11," View Game Flow Demo "),l.k0s(),l.j41(12,"div",7)(13,"h3"),l.EFF(14,"Visual Prototype Options"),l.k0s(),l.j41(15,"button",8),l.bIt("click",function(){return a.openCreator()}),l.EFF(16," Game Creator (Standalone) "),l.k0s(),l.j41(17,"button",8),l.bIt("click",function(){return a.openPlayer()}),l.EFF(18," Join Sample Game (Standalone) "),l.k0s()()(),l.j41(19,"div",9)(20,"h2"),l.EFF(21,"How to Play"),l.k0s(),l.j41(22,"ol")(23,"li"),l.EFF(24,"Create a new game or join an existing one"),l.k0s(),l.j41(25,"li"),l.EFF(26,"Share the game code with your friends"),l.k0s(),l.j41(27,"li"),l.EFF(28,"Choose a theme and start playing!"),l.k0s()()()()),2&i&&(l.R7$(7),l.Y8G("ngModel",a.sessionId),l.R7$(1),l.Y8G("disabled",!a.sessionId))},dependencies:[Es,Ul,Uo],styles:[".home-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;text-align:center}h1[_ngcontent-%COMP%]{font-size:3rem;margin-bottom:2rem;color:#333}.action-buttons[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:3rem}.join-game[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.form-control[_ngcontent-%COMP%]{padding:.5rem;font-size:1rem;border:1px solid #ccc;border-radius:4px;width:200px}.btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem;border:none;border-radius:4px;cursor:pointer;transition:background-color .2s}.btn-primary[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#45a049}.btn-secondary[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#1976d2}.btn-demo[_ngcontent-%COMP%]{background-color:#9c27b0;color:#fff}.btn-demo[_ngcontent-%COMP%]:hover{background-color:#7b1fa2}.standalone-links[_ngcontent-%COMP%]{margin-top:2rem;padding:1rem;background-color:#f5f5f5;border-radius:8px}.standalone-links[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;font-size:1.2rem;color:#555}.btn-standalone[_ngcontent-%COMP%]{background-color:#ff9800;color:#fff;margin:.5rem}.btn-standalone[_ngcontent-%COMP%]:hover{background-color:#f57c00}.btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.instructions[_ngcontent-%COMP%]{text-align:left;background-color:#f5f5f5;padding:2rem;border-radius:8px}.instructions[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#333;margin-bottom:1rem}.instructions[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-left:1.5rem}.instructions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#666}"]})}}return n})();var SS=R(8314);const uP=["qrCanvas"];let MS=(()=>{class n{constructor(){this.sessionId=""}ngOnInit(){this.sessionId&&this.generateQRCode()}ngOnChanges(){this.sessionId&&this.generateQRCode()}generateQRCode(){const i=`${window.location.origin}/lobby/${this.sessionId}`;SS.mo(this.qrCanvas.nativeElement,i,{width:200,margin:1,color:{dark:"#000000",light:"#ffffff"}}).catch(a=>{console.error("Error generating QR code:",a)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-qr-code"]],viewQuery:function(i,a){if(1&i&&l.GBs(uP,5),2&i){let u;l.mGM(u=l.lsd())&&(a.qrCanvas=u.first)}},inputs:{sessionId:"sessionId"},features:[l.OA$],decls:5,vars:1,consts:[[1,"qr-code-container"],["qrCanvas",""],[1,"session-id"]],template:function(i,a){1&i&&(l.j41(0,"div",0),l.nrm(1,"canvas",null,1),l.j41(3,"p",2),l.EFF(4),l.k0s()()),2&i&&(l.R7$(4),l.SpI("Session ID: ",a.sessionId,""))},styles:[".qr-code-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;background:white;border-radius:8px;box-shadow:0 2px 4px #0000001a}canvas[_ngcontent-%COMP%]{max-width:200px;height:auto}.session-id[_ngcontent-%COMP%]{margin-top:1rem;font-size:.9rem;color:#666}"]})}}return n})();const dP=["qrCanvas"];function hP(n,t){if(1&n&&(l.j41(0,"div",3)(1,"p"),l.EFF(2,"Session Code: "),l.j41(3,"strong"),l.EFF(4),l.k0s()(),l.j41(5,"p",4),l.EFF(6),l.k0s()()),2&n){const e=l.XpG();l.R7$(4),l.JRh(e.sessionId),l.R7$(2),l.JRh(e.displayText)}}let RS=(()=>{class n{constructor(){this.sessionId="",this.displayText="Scan to join game"}ngOnChanges(e){e.sessionId&&this.sessionId&&this.generateQRCode()}ngAfterViewInit(){this.sessionId?this.generateQRCode():this.generateDemoQRCode()}generateQRCode(){const i=`${window.location.origin}/lobby/${this.sessionId}?direct=true`;SS.mo(this.qrCanvas.nativeElement,i,{width:200,margin:1,color:{dark:"#2196F3",light:"#FFFFFF"}},a=>{a&&console.error("Error generating QR code:",a)})}generateDemoQRCode(){const e=this.qrCanvas.nativeElement,i="DEMO"+Math.random().toString(36).substring(2,7).toUpperCase(),a=`${window.location.origin}/lobby/${i}?direct=true`;SS.mo(e,a,{width:200,margin:1,color:{dark:"#9C27B0",light:"#FFFFFF"}},u=>{u&&console.error("Error generating demo QR code:",u)}),this.sessionId=i}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-qr-code"]],viewQuery:function(i,a){if(1&i&&l.GBs(dP,7),2&i){let u;l.mGM(u=l.lsd())&&(a.qrCanvas=u.first)}},inputs:{sessionId:"sessionId",displayText:"displayText"},features:[l.OA$],decls:4,vars:1,consts:[[1,"qr-code-container"],["qrCanvas",""],["class","session-info",4,"ngIf"],[1,"session-info"],[1,"helper-text"]],template:function(i,a){1&i&&(l.j41(0,"div",0),l.nrm(1,"canvas",null,1),l.DNE(3,hP,7,2,"div",2),l.k0s()),2&i&&(l.R7$(3),l.Y8G("ngIf",a.displayText))},dependencies:[vi],styles:[".qr-code-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;padding:1rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a;max-width:220px;margin:0 auto}canvas[_ngcontent-%COMP%]{width:200px;height:200px}.session-info[_ngcontent-%COMP%]{margin-top:.5rem;text-align:center;width:100%}.session-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0;font-size:.9rem;color:#333}.helper-text[_ngcontent-%COMP%]{font-size:.8rem;color:#666}"]})}}return n})();function fP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",3)(1,"h2"),l.EFF(2,"Join Game"),l.k0s(),l.j41(3,"p",4),l.EFF(4),l.k0s(),l.j41(5,"div",5)(6,"label",6),l.EFF(7,"Your Name"),l.k0s(),l.j41(8,"input",7),l.bIt("ngModelChange",function(a){l.eBV(e);const u=l.XpG();return l.Njj(u.playerName=a)}),l.k0s()(),l.j41(9,"div",5)(10,"label"),l.EFF(11,"Select Team"),l.k0s(),l.j41(12,"div",8)(13,"div",9),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.selectedTeam="blue")}),l.EFF(14," Blue "),l.k0s(),l.j41(15,"div",10),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.selectedTeam="red")}),l.EFF(16," Red "),l.k0s()()(),l.j41(17,"button",11),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.joinGameWithForm())}),l.EFF(18," Join Game "),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(4),l.SpI("Game Code: ",e.sessionId,""),l.R7$(4),l.Y8G("ngModel",e.playerName),l.R7$(5),l.AVh("selected","blue"===e.selectedTeam),l.R7$(2),l.AVh("selected","red"===e.selectedTeam),l.R7$(2),l.Y8G("disabled",!e.playerName||!e.selectedTeam)}}function pP(n,t){if(1&n&&l.nrm(0,"app-qr-code",21),2&n){const e=l.XpG(2);l.Y8G("sessionId",e.sessionId)}}function gP(n,t){1&n&&(l.j41(0,"span",28),l.EFF(1,"Host"),l.k0s())}function mP(n,t){if(1&n&&(l.j41(0,"div",22)(1,"div",23)(2,"span"),l.EFF(3),l.k0s(),l.DNE(4,gP,2,0,"span",24),l.k0s(),l.j41(5,"div",25),l.nrm(6,"span",26),l.j41(7,"span",27),l.EFF(8),l.k0s()()()),2&n){const e=t.$implicit,i=l.XpG(2);l.R7$(2),l.ZvI("player-name team-",e.team,""),l.R7$(1),l.JRh(e.name),l.R7$(1),l.Y8G("ngIf",e.isHost),l.R7$(2),l.AVh("ready",i.isPlayerReady(e)),l.R7$(2),l.JRh(i.isPlayerReady(e)?"Ready":"Not Ready")}}function _P(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",32),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG(3);return l.Njj(g.selectTheme(u))}),l.j41(1,"h4"),l.EFF(2),l.k0s(),l.j41(3,"p"),l.EFF(4),l.k0s()()}if(2&n){const e=t.$implicit,i=l.XpG(3);l.AVh("selected",(null==i.selectedTheme?null:i.selectedTheme.id)===e.id),l.R7$(2),l.JRh(e.name),l.R7$(2),l.SpI("",e.questions.length," questions")}}function yP(n,t){if(1&n&&(l.j41(0,"div",29)(1,"h3"),l.EFF(2,"Select Theme"),l.k0s(),l.j41(3,"div",30),l.DNE(4,_P,5,4,"div",31),l.k0s()()),2&n){const e=l.XpG(2);l.R7$(4),l.Y8G("ngForOf",e.availableThemes)}}function vP(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",11),l.bIt("click",function(){l.eBV(e);const a=l.XpG(2);return l.Njj(a.startGame())}),l.EFF(1," Start Game "),l.k0s()}if(2&n){const e=l.XpG(2);l.Y8G("disabled",!e.canStartGame)}}function EP(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",11),l.bIt("click",function(){l.eBV(e);const a=l.XpG(2);return l.Njj(a.toggleReady())}),l.EFF(1),l.k0s()}if(2&n){const e=l.XpG(2);l.Y8G("disabled",!e.canReady),l.R7$(1),l.SpI(" ",e.isReady?"Not Ready":"Ready"," ")}}function CP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12)(1,"h2"),l.EFF(2,"Game Lobby"),l.k0s(),l.j41(3,"p",4),l.EFF(4),l.k0s(),l.DNE(5,pP,1,1,"app-qr-code",13),l.j41(6,"div",14)(7,"h3"),l.EFF(8),l.k0s(),l.j41(9,"div",15),l.DNE(10,mP,9,8,"div",16),l.k0s()(),l.DNE(11,yP,5,1,"div",17),l.j41(12,"div",18),l.DNE(13,vP,2,1,"button",19),l.DNE(14,EP,2,2,"button",19),l.j41(15,"button",20),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.leaveGame())}),l.EFF(16," Leave Game "),l.k0s()()()}if(2&n){const e=l.XpG();l.R7$(4),l.SpI("Game Code: ",e.sessionId,""),l.R7$(1),l.Y8G("ngIf",e.isHost),l.R7$(3),l.SpI("Players (",e.players.length,")"),l.R7$(2),l.Y8G("ngForOf",e.players),l.R7$(1),l.Y8G("ngIf",e.isHost),l.R7$(2),l.Y8G("ngIf",e.isHost),l.R7$(1),l.Y8G("ngIf",!e.isHost)}}let wP=(()=>{class n{constructor(e,i,a){this.route=e,this.router=i,this.gameService=a,this.sessionId="",this.players=[],this.isHost=!1,this.isReady=!1,this.selectedTheme=null,this.availableThemes=[],this.subscriptions=[],this.showJoinForm=!1,this.playerName="",this.selectedTeam=""}ngOnInit(){this.sessionId=this.route.snapshot.params.sessionId,this.loadThemes(),this.route.queryParams.subscribe(e=>{this.showJoinForm="true"===e.direct}),this.showJoinForm||this.subscribeToGameUpdates()}subscribeToGameUpdates(){this.subscriptions.push(this.gameService.getCurrentSession().subscribe(e=>{e&&(this.players=Object.values(e.players))})),this.subscriptions.push(this.gameService.getCurrentPlayer().subscribe(e=>{e&&(this.isHost=e.isHost)}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}loadThemes(){this.availableThemes=[{id:1,name:"General Knowledge",questions:[{},{},{}]},{id:2,name:"Movies & TV",questions:[{},{},{},{}]},{id:3,name:"Science & Nature",questions:[{},{},{}]}]}joinGameWithForm(){this.playerName&&this.selectedTeam&&this.gameService.joinSession(this.sessionId,this.playerName,this.selectedTeam,!1).subscribe({next:()=>{this.showJoinForm=!1,this.subscribeToGameUpdates()},error:e=>{console.error("Error joining game:",e)}})}get canStartGame(){return this.isHost&&!!this.selectedTheme&&this.players.length>0}get canReady(){return!this.isHost}isPlayerReady(e){return!0}selectTheme(e){this.selectedTheme=e}toggleReady(){this.isReady=!this.isReady}startGame(){this.canStartGame&&this.sessionId&&this.selectedTheme&&this.gameService.startGame(this.sessionId,this.selectedTheme).subscribe({next:()=>this.router.navigate(["/game",this.sessionId]),error:e=>console.error("Error starting game:",e)})}leaveGame(){this.sessionId&&this.gameService.leaveGame(this.sessionId).then(()=>{this.router.navigate(["/"])})}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(ka),l.rXU(Wr),l.rXU(DI))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-lobby"]],decls:3,vars:2,consts:[[1,"lobby-container"],["class","join-form-container card",4,"ngIf"],["class","card",4,"ngIf"],[1,"join-form-container","card"],[1,"session-id"],[1,"form-group"],["for","playerName"],["type","text","id","playerName","placeholder","Enter your name","required","",1,"form-control",3,"ngModel","ngModelChange"],[1,"team-selector"],[1,"team-option","team-blue",3,"click"],[1,"team-option","team-red",3,"click"],[1,"btn","btn-primary",3,"disabled","click"],[1,"card"],[3,"sessionId",4,"ngIf"],[1,"players-section"],[1,"players-list"],["class","player-card",4,"ngFor","ngForOf"],["class","theme-section",4,"ngIf"],[1,"actions"],["class","btn btn-primary",3,"disabled","click",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[3,"sessionId"],[1,"player-card"],[1,"player-info"],["class","host-badge",4,"ngIf"],[1,"player-status"],[1,"status-dot"],[1,"status-text"],[1,"host-badge"],[1,"theme-section"],[1,"theme-grid"],["class","theme-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"theme-card",3,"click"]],template:function(i,a){1&i&&(l.j41(0,"div",0),l.DNE(1,fP,19,7,"div",1),l.DNE(2,CP,17,7,"div",2),l.k0s()),2&i&&(l.R7$(1),l.Y8G("ngIf",a.showJoinForm),l.R7$(1),l.Y8G("ngIf",!a.showJoinForm))},dependencies:[br,vi,Es,Ul,Wf,Uo,MS,RS],styles:[".lobby-container[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px}.card[_ngcontent-%COMP%]{width:100%;max-width:800px;text-align:center}h2[_ngcontent-%COMP%]{font-size:2.5em;margin-bottom:20px;color:#fff}.session-id[_ngcontent-%COMP%]{font-size:1.2em;color:#4caf50;margin-bottom:30px}.players-section[_ngcontent-%COMP%]{margin:30px 0}h3[_ngcontent-%COMP%]{font-size:1.5em;color:#fff;margin-bottom:20px}.players-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.player-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:15px;background:rgba(255,255,255,.05);border-radius:8px}.player-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.player-name[_ngcontent-%COMP%]{font-size:1.2em}.host-badge[_ngcontent-%COMP%]{background:#FFD700;color:#000;padding:2px 8px;border-radius:4px;font-size:.8em}.player-status[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.status-dot[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#ff4444}.status-dot.ready[_ngcontent-%COMP%]{background:#4CAF50}.status-text[_ngcontent-%COMP%]{color:#ccc}.theme-section[_ngcontent-%COMP%]{margin:30px 0}.theme-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px;margin-top:20px}.theme-card[_ngcontent-%COMP%]{background:rgba(255,255,255,.05);border-radius:8px;padding:20px;cursor:pointer;transition:all .3s ease}.theme-card[_ngcontent-%COMP%]:hover{background:rgba(255,255,255,.1);transform:translateY(-2px)}.theme-card.selected[_ngcontent-%COMP%]{background:rgba(76,175,80,.2);border:2px solid #4CAF50}.theme-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#fff;margin-bottom:10px}.theme-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#ccc}.actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:20px;margin-top:30px}button[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.join-form-container[_ngcontent-%COMP%]{background:rgba(0,0,0,.7);border-radius:12px;padding:30px;box-shadow:0 8px 20px #0000004d;max-width:500px}.form-group[_ngcontent-%COMP%]{margin-bottom:25px;text-align:left}label[_ngcontent-%COMP%]{display:block;color:#fff;font-size:1.1em;margin-bottom:8px}.form-control[_ngcontent-%COMP%]{width:100%;padding:12px;font-size:16px;background:rgba(255,255,255,.1);border:1px solid rgba(255,255,255,.2);border-radius:8px;color:#fff}.team-selector[_ngcontent-%COMP%]{display:flex;gap:15px;justify-content:center;margin-top:10px}.team-option[_ngcontent-%COMP%]{flex:1;padding:15px;border-radius:8px;cursor:pointer;font-weight:700;transition:all .2s ease}.team-blue[_ngcontent-%COMP%]{background:rgba(33,150,243,.2);color:#2196f3}.team-red[_ngcontent-%COMP%]{background:rgba(244,67,54,.2);color:#f44336}.team-option.selected[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 4px 12px #0003}.team-blue.selected[_ngcontent-%COMP%]{background:rgba(33,150,243,.4);border:2px solid #2196F3}.team-red.selected[_ngcontent-%COMP%]{background:rgba(244,67,54,.4);border:2px solid #F44336}.btn-primary[_ngcontent-%COMP%]{background:#4CAF50;color:#fff;padding:12px 25px;border:none;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer;transition:background .3s}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:#3d8c40}"]})}}return n})();function bP(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",6),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG(2);return l.Njj(g.selectAnswer(u))}),l.EFF(1),l.k0s()}if(2&n){const e=t.$implicit,i=l.XpG(2);l.AVh("selected",i.selectedAnswer===e),l.R7$(1),l.SpI(" ",e," ")}}function IP(n,t){if(1&n&&(l.j41(0,"div",4),l.DNE(1,bP,2,3,"button",5),l.k0s()),2&n){const e=l.XpG();l.R7$(1),l.Y8G("ngForOf",e.question.options)}}function DP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",7)(1,"input",8),l.bIt("ngModelChange",function(a){l.eBV(e);const u=l.XpG();return l.Njj(u.numericAnswer=a)})("keyup.enter",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.submitNumericAnswer())}),l.k0s(),l.j41(2,"button",9),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.submitNumericAnswer())}),l.EFF(3," Submit "),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(1),l.Y8G("ngModel",e.numericAnswer),l.R7$(1),l.Y8G("disabled",!e.numericAnswer)}}let TP=(()=>{class n{constructor(){this.answerSelected=new l.bkB,this.selectedAnswer=null,this.numericAnswer=null}selectAnswer(e){this.selectedAnswer=e,this.answerSelected.emit(e)}submitNumericAnswer(){null!==this.numericAnswer&&this.answerSelected.emit(this.numericAnswer)}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-question"]],inputs:{question:"question"},outputs:{answerSelected:"answerSelected"},decls:5,vars:3,consts:[[1,"question-container"],[1,"question-text"],["class","options-grid",4,"ngIf"],["class","numeric-input",4,"ngIf"],[1,"options-grid"],["class","option-btn",3,"selected","click",4,"ngFor","ngForOf"],[1,"option-btn",3,"click"],[1,"numeric-input"],["type","number","placeholder","Enter your answer",3,"ngModel","ngModelChange","keyup.enter"],[1,"submit-btn",3,"disabled","click"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"h2",1),l.EFF(2),l.k0s(),l.DNE(3,IP,2,1,"div",2),l.DNE(4,DP,4,2,"div",3),l.k0s()),2&i&&(l.R7$(2),l.JRh(a.question.text),l.R7$(1),l.Y8G("ngIf",!a.question.isNumeric),l.R7$(1),l.Y8G("ngIf",a.question.isNumeric))},dependencies:[br,vi,Es,Su,Ul,Uo],styles:[".question-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}.question-text[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:2rem;text-align:center}.options-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:1rem;margin-bottom:2rem}.option-btn[_ngcontent-%COMP%]{padding:1rem;font-size:1.2rem;border:2px solid #e0e0e0;border-radius:8px;background-color:#fff;cursor:pointer;transition:all .2s}.option-btn[_ngcontent-%COMP%]:hover{border-color:#2196f3;background-color:#f5f9ff}.option-btn.selected[_ngcontent-%COMP%]{border-color:#2196f3;background-color:#2196f3;color:#fff}.numeric-input[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center;margin-bottom:2rem}input[type=number][_ngcontent-%COMP%]{padding:.75rem;font-size:1.2rem;border:2px solid #e0e0e0;border-radius:8px;width:200px}input[type=number][_ngcontent-%COMP%]:focus{outline:none;border-color:#2196f3}.submit-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.2rem;border:none;border-radius:8px;background-color:#2196f3;color:#fff;cursor:pointer;transition:background-color .2s}.submit-btn[_ngcontent-%COMP%]:hover{background-color:#1976d2}.submit-btn[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}"]})}}return n})();function AP(n,t){if(1&n&&(l.j41(0,"div",12)(1,"h4"),l.EFF(2),l.k0s(),l.j41(3,"div",13),l.EFF(4),l.k0s()()),2&n){const e=t.$implicit;l.R7$(1),l.ZvI("team-name team-",e.id,""),l.R7$(1),l.JRh(e.name),l.R7$(2),l.JRh(e.score)}}function SP(n,t){if(1&n&&(l.j41(0,"div",14)(1,"div",15)(2,"span",16),l.EFF(3),l.k0s(),l.j41(4,"span"),l.EFF(5),l.k0s()(),l.j41(6,"div",17),l.EFF(7),l.k0s()()),2&n){const e=t.$implicit;l.R7$(3),l.JRh(e.name),l.R7$(1),l.ZvI("team-badge team-",e.team,""),l.R7$(1),l.JRh(e.team),l.R7$(2),l.JRh(e.score)}}let MP=(()=>{class n{constructor(){this.players=[],this.totalQuestions=0}get teamScores(){const e=new Map;return Object.values(PR).forEach(i=>{e.set(i,{id:i,name:`Team ${i.charAt(0).toUpperCase()+i.slice(1)}`,score:0,players:[]})}),this.players.forEach(i=>{const a=e.get(i.team);a&&(a.players.push(i),a.score+=i.score)}),Array.from(e.values())}get averageScore(){if(0===this.players.length)return 0;const e=this.players.reduce((i,a)=>i+a.score,0);return Math.round(e/this.players.length)}get highestScore(){return 0===this.players.length?0:Math.max(...this.players.map(e=>e.score))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-scoreboard"]],inputs:{players:"players",totalQuestions:"totalQuestions"},decls:30,vars:5,consts:[[1,"scoreboard-container"],[1,"team-scores"],[1,"team-grid"],["class","team-card",4,"ngFor","ngForOf"],[1,"player-stats"],[1,"player-list"],["class","player-card",4,"ngFor","ngForOf"],[1,"game-stats"],[1,"stats-grid"],[1,"stat-item"],[1,"stat-label"],[1,"stat-value"],[1,"team-card"],[1,"team-score"],[1,"player-card"],[1,"player-info"],[1,"player-name"],[1,"player-score"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"div",1)(2,"h3"),l.EFF(3,"Team Scores"),l.k0s(),l.j41(4,"div",2),l.DNE(5,AP,5,5,"div",3),l.k0s()(),l.j41(6,"div",4)(7,"h3"),l.EFF(8,"Player Stats"),l.k0s(),l.j41(9,"div",5),l.DNE(10,SP,8,6,"div",6),l.k0s()(),l.j41(11,"div",7)(12,"h3"),l.EFF(13,"Game Stats"),l.k0s(),l.j41(14,"div",8)(15,"div",9)(16,"span",10),l.EFF(17,"Average Score"),l.k0s(),l.j41(18,"span",11),l.EFF(19),l.k0s()(),l.j41(20,"div",9)(21,"span",10),l.EFF(22,"Highest Score"),l.k0s(),l.j41(23,"span",11),l.EFF(24),l.k0s()(),l.j41(25,"div",9)(26,"span",10),l.EFF(27,"Total Questions"),l.k0s(),l.j41(28,"span",11),l.EFF(29),l.k0s()()()()()),2&i&&(l.R7$(5),l.Y8G("ngForOf",a.teamScores),l.R7$(5),l.Y8G("ngForOf",a.players),l.R7$(9),l.JRh(a.averageScore),l.R7$(5),l.JRh(a.highestScore),l.R7$(5),l.JRh(a.totalQuestions))},dependencies:[br],styles:[".scoreboard-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 4px #0000001a}h3[_ngcontent-%COMP%]{font-size:1.5rem;color:#333;margin-bottom:1.5rem}.team-scores[_ngcontent-%COMP%]{margin-bottom:2rem}.team-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.team-card[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;background-color:#f8f9fa;text-align:center}.team-name[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}.team-score[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.player-stats[_ngcontent-%COMP%]{margin-bottom:2rem}.player-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.player-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.75rem;background-color:#f8f9fa;border-radius:4px}.player-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.player-name[_ngcontent-%COMP%]{font-weight:500}.team-badge[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.8rem;font-weight:500}.player-score[_ngcontent-%COMP%]{font-weight:700;font-size:1.2rem}.game-stats[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:1rem;border-radius:8px}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-label[_ngcontent-%COMP%]{display:block;font-size:.9rem;color:#666;margin-bottom:.25rem}.stat-value[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#333}.team-yellow[_ngcontent-%COMP%]{color:gold}.team-red[_ngcontent-%COMP%]{color:#f44}.team-badge.team-yellow[_ngcontent-%COMP%]{background-color:#fff9c4;color:#f57f17}.team-badge.team-red[_ngcontent-%COMP%]{background-color:#ffebee;color:#c62828}"]})}}return n})();function RP(n,t){if(1&n&&(l.j41(0,"li"),l.EFF(1),l.k0s()),2&n){const e=t.$implicit;l.R7$(1),l.Lme(" ",e.name," (",e.team,") ")}}function PP(n,t){if(1&n&&(l.j41(0,"div",6)(1,"h2"),l.EFF(2,"Waiting for players..."),l.k0s(),l.nrm(3,"app-qr-code",7),l.j41(4,"div",8)(5,"h3"),l.EFF(6,"Players:"),l.k0s(),l.j41(7,"ul"),l.DNE(8,RP,2,2,"li",9),l.k0s()()()),2&n){const e=l.XpG();l.R7$(3),l.Y8G("sessionId",e.sessionId),l.R7$(5),l.Y8G("ngForOf",e.players)}}function OP(n,t){if(1&n&&(l.j41(0,"div",10)(1,"h2"),l.EFF(2,"Game starts in"),l.k0s(),l.j41(3,"div",11),l.EFF(4),l.k0s()()),2&n){const e=l.XpG();l.R7$(4),l.JRh(e.countdown)}}function NP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",12)(1,"app-question",13),l.bIt("answerSelected",function(a){l.eBV(e);const u=l.XpG();return l.Njj(u.submitAnswer(a))}),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(1),l.Y8G("question",e.currentQuestion)}}function kP(n,t){if(1&n&&(l.j41(0,"div",14),l.nrm(1,"app-scoreboard",15),l.k0s()),2&n){const e=l.XpG();l.R7$(1),l.Y8G("players",e.players)("totalQuestions",e.totalQuestions)}}function xP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",16)(1,"h2"),l.EFF(2,"Game Over!"),l.k0s(),l.nrm(3,"app-scoreboard",15),l.j41(4,"button",17),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.goToHome())}),l.EFF(5,"Return to Home"),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(3),l.Y8G("players",e.players)("totalQuestions",e.totalQuestions)}}let FP=(()=>{class n{constructor(e,i,a){this.route=e,this.router=i,this.gameService=a,this.sessionId="",this.gameStatus=er.LOBBY,this.countdown=3,this.players=[],this.currentQuestion=null,this.totalQuestions=0,this.GameStatus=er,this.subscriptions=[]}ngOnInit(){this.sessionId=this.route.snapshot.params.sessionId,this.setupGameSession()}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}setupGameSession(){this.subscriptions.push(this.gameService.getCurrentSession().subscribe(e=>{e&&(this.gameStatus=e.status,this.countdown=e.countdown,this.players=Object.values(e.players),this.currentQuestion=e.currentTheme?.questions[e.currentQuestionIndex],this.totalQuestions=e.currentTheme?.questions.length||0)}))}submitAnswer(e){this.gameService.submitAnswer(this.sessionId,this.currentQuestion.id,e)}goToHome(){this.router.navigate(["/"])}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(ka),l.rXU(Wr),l.rXU(DI))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-game"]],decls:6,vars:5,consts:[[1,"game-container"],["class","waiting-screen",4,"ngIf"],["class","countdown-screen",4,"ngIf"],["class","question-screen",4,"ngIf"],["class","scoreboard-screen",4,"ngIf"],["class","game-over-screen",4,"ngIf"],[1,"waiting-screen"],[3,"sessionId"],[1,"player-list"],[4,"ngFor","ngForOf"],[1,"countdown-screen"],[1,"countdown"],[1,"question-screen"],[3,"question","answerSelected"],[1,"scoreboard-screen"],[3,"players","totalQuestions"],[1,"game-over-screen"],[3,"click"]],template:function(i,a){1&i&&(l.j41(0,"div",0),l.DNE(1,PP,9,2,"div",1),l.DNE(2,OP,5,1,"div",2),l.DNE(3,NP,2,1,"div",3),l.DNE(4,kP,2,2,"div",4),l.DNE(5,xP,6,2,"div",5),l.k0s()),2&i&&(l.R7$(1),l.Y8G("ngIf",a.gameStatus===a.GameStatus.LOBBY),l.R7$(1),l.Y8G("ngIf",a.gameStatus===a.GameStatus.COUNTDOWN),l.R7$(1),l.Y8G("ngIf",a.gameStatus===a.GameStatus.QUESTION),l.R7$(1),l.Y8G("ngIf",a.gameStatus===a.GameStatus.SCOREBOARD),l.R7$(1),l.Y8G("ngIf",a.gameStatus===a.GameStatus.FINISHED))},dependencies:[br,vi,TP,MP,MS,RS],styles:[".game-container[_ngcontent-%COMP%]{padding:2rem;max-width:800px;margin:0 auto}.waiting-screen[_ngcontent-%COMP%], .countdown-screen[_ngcontent-%COMP%], .question-screen[_ngcontent-%COMP%], .scoreboard-screen[_ngcontent-%COMP%], .game-over-screen[_ngcontent-%COMP%]{text-align:center}.player-list[_ngcontent-%COMP%]{margin-top:2rem}.countdown[_ngcontent-%COMP%]{font-size:4rem;font-weight:700;margin:2rem 0}button[_ngcontent-%COMP%]{margin-top:2rem;padding:.5rem 1rem;font-size:1rem;background-color:#007bff;color:#fff;border:none;border-radius:4px;cursor:pointer}button[_ngcontent-%COMP%]:hover{background-color:#0056b3}"]})}}return n})();function LP(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",12),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG();return l.Njj(g.changeState(u))}),l.EFF(1),l.k0s()}if(2&n){const e=t.$implicit,i=l.XpG();l.AVh("active",i.currentState===e),l.R7$(1),l.SpI(" ",e," ")}}function VP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",24),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG(2);return l.Njj(g.selectTheme(u))}),l.j41(1,"h5"),l.EFF(2),l.k0s(),l.j41(3,"p"),l.EFF(4),l.k0s()()}if(2&n){const e=t.$implicit,i=l.XpG(2);l.AVh("selected",(null==i.selectedTheme?null:i.selectedTheme.id)===e.id),l.R7$(2),l.JRh(e.name),l.R7$(2),l.SpI("",e.questions.length," questions")}}function UP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",13)(1,"h3"),l.EFF(2,"Game Lobby"),l.k0s(),l.j41(3,"div",14)(4,"h4"),l.EFF(5,"Select a Theme:"),l.k0s(),l.j41(6,"div",15),l.DNE(7,VP,5,4,"div",16),l.k0s()(),l.j41(8,"div",17)(9,"h4"),l.EFF(10,"Players:"),l.k0s(),l.j41(11,"div",18)(12,"div",19)(13,"span",20),l.EFF(14,"You (Host)"),l.k0s(),l.j41(15,"span",21),l.EFF(16,"Yellow Team"),l.k0s()(),l.j41(17,"div",19)(18,"span",20),l.EFF(19,"Demo Player 1"),l.k0s(),l.j41(20,"span",22),l.EFF(21,"Red Team"),l.k0s()(),l.j41(22,"div",19)(23,"span",20),l.EFF(24,"Demo Player 2"),l.k0s(),l.j41(25,"span",21),l.EFF(26,"Yellow Team"),l.k0s()()()(),l.j41(27,"button",23),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.changeState("countdown"))}),l.EFF(28," Start Game "),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(7),l.Y8G("ngForOf",e.availableThemes),l.R7$(20),l.Y8G("disabled",!e.selectedTheme)}}function BP(n,t){if(1&n&&(l.j41(0,"div",25)(1,"div",26),l.EFF(2),l.k0s(),l.j41(3,"p",27),l.EFF(4,"Get Ready!"),l.k0s()()),2&n){const e=l.XpG();l.R7$(2),l.JRh(e.countdown)}}function jP(n,t){if(1&n&&(l.j41(0,"h3"),l.EFF(1),l.k0s()),2&n){const e=l.XpG(2);l.R7$(1),l.SpI("Question ",e.currentQuestionIndex+1,"")}}function $P(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",36),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG(4);return l.Njj(g.selectAnswer(u))}),l.EFF(1),l.k0s()}if(2&n){const e=t.$implicit;l.R7$(1),l.SpI(" ",e," ")}}function HP(n,t){if(1&n&&(l.j41(0,"div")(1,"div",34),l.DNE(2,$P,2,1,"button",35),l.k0s()()),2&n){const e=l.XpG(3);l.R7$(2),l.Y8G("ngForOf",e.currentQuestion.options)}}function GP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",37)(1,"input",38),l.bIt("ngModelChange",function(a){l.eBV(e);const u=l.XpG(3);return l.Njj(u.numericAnswer=a)}),l.k0s(),l.j41(2,"button",39),l.bIt("click",function(){l.eBV(e);const a=l.XpG(3);return l.Njj(a.selectAnswer(a.numericAnswer))}),l.EFF(3,"Submit"),l.k0s()()}if(2&n){const e=l.XpG(3);l.R7$(1),l.Y8G("ngModel",e.numericAnswer)}}function WP(n,t){if(1&n&&(l.j41(0,"div",32)(1,"h4"),l.EFF(2),l.k0s(),l.DNE(3,HP,3,1,"div",29),l.DNE(4,GP,4,1,"div",33),l.k0s()),2&n){const e=l.XpG(2);l.R7$(2),l.JRh(e.currentQuestion.text),l.R7$(1),l.Y8G("ngIf",!e.currentQuestion.isNumeric),l.R7$(1),l.Y8G("ngIf",e.currentQuestion.isNumeric)}}function zP(n,t){if(1&n&&(l.j41(0,"div",28),l.DNE(1,jP,2,1,"h3",29),l.DNE(2,WP,5,3,"div",30),l.j41(3,"div",31),l.EFF(4),l.k0s()()),2&n){const e=l.XpG();l.R7$(1),l.Y8G("ngIf",e.currentQuestion),l.R7$(1),l.Y8G("ngIf",e.currentQuestion),l.R7$(2),l.SpI(" Time left: ",e.timer," seconds ")}}function KP(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",36),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG(4);return l.Njj(g.setCorrectAnswer(u))}),l.EFF(1),l.k0s()}if(2&n){const e=t.$implicit;l.R7$(1),l.SpI(" ",e," ")}}function qP(n,t){if(1&n&&(l.j41(0,"div")(1,"div",34),l.DNE(2,KP,2,1,"button",35),l.k0s()()),2&n){const e=l.XpG(3);l.R7$(2),l.Y8G("ngForOf",e.currentQuestion.options)}}function QP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",37)(1,"input",43),l.bIt("ngModelChange",function(a){l.eBV(e);const u=l.XpG(3);return l.Njj(u.correctAnswer=a)}),l.k0s(),l.j41(2,"button",39),l.bIt("click",function(){l.eBV(e);const a=l.XpG(3);return l.Njj(a.setCorrectAnswer(a.correctAnswer))}),l.EFF(3,"Set Correct Answer"),l.k0s()()}if(2&n){const e=l.XpG(3);l.R7$(1),l.Y8G("ngModel",e.correctAnswer)}}function YP(n,t){if(1&n&&(l.j41(0,"div",42)(1,"h4"),l.EFF(2,"Host Controls"),l.k0s(),l.j41(3,"p"),l.EFF(4,"Select the correct answer:"),l.k0s(),l.DNE(5,qP,3,1,"div",29),l.DNE(6,QP,4,1,"div",33),l.k0s()),2&n){const e=l.XpG(2);l.R7$(5),l.Y8G("ngIf",!e.currentQuestion.isNumeric),l.R7$(1),l.Y8G("ngIf",e.currentQuestion.isNumeric)}}function XP(n,t){if(1&n&&(l.j41(0,"div",40)(1,"h3"),l.EFF(2,"Voting"),l.k0s(),l.j41(3,"p"),l.EFF(4,"All answers have been submitted."),l.k0s(),l.j41(5,"p"),l.EFF(6,"The host is reviewing the answers..."),l.k0s(),l.DNE(7,YP,7,2,"div",41),l.k0s()),2&n){const e=l.XpG();l.R7$(7),l.Y8G("ngIf",e.currentQuestion)}}function JP(n,t){if(1&n&&(l.j41(0,"div",51)(1,"h4"),l.EFF(2,"Correct Answer:"),l.k0s(),l.j41(3,"div",52),l.EFF(4),l.k0s()()),2&n){const e=l.XpG(2);l.R7$(4),l.JRh(e.correctAnswer)}}function ZP(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",44)(1,"h3"),l.EFF(2,"Scoreboard"),l.k0s(),l.DNE(3,JP,5,1,"div",45),l.j41(4,"div",46)(5,"h4"),l.EFF(6,"Current Scores:"),l.k0s(),l.j41(7,"div",47)(8,"div",48)(9,"span",20),l.EFF(10,"You"),l.k0s(),l.j41(11,"span",49),l.EFF(12,"1000"),l.k0s()(),l.j41(13,"div",48)(14,"span",20),l.EFF(15,"Demo Player 1"),l.k0s(),l.j41(16,"span",49),l.EFF(17,"750"),l.k0s()(),l.j41(18,"div",48)(19,"span",20),l.EFF(20,"Demo Player 2"),l.k0s(),l.j41(21,"span",49),l.EFF(22,"850"),l.k0s()()()(),l.j41(23,"button",50),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.nextQuestion())}),l.EFF(24," Next Question "),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(3),l.Y8G("ngIf",e.currentQuestion)}}function eO(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",53)(1,"h3"),l.EFF(2,"Game Finished!"),l.k0s(),l.j41(3,"div",54)(4,"h4"),l.EFF(5,"Final Scores:"),l.k0s(),l.j41(6,"div",47)(7,"div",55)(8,"span",20),l.EFF(9,"You"),l.k0s(),l.j41(10,"span",49),l.EFF(11,"2850"),l.k0s(),l.j41(12,"span",56),l.EFF(13,"Winner!"),l.k0s()(),l.j41(14,"div",48)(15,"span",20),l.EFF(16,"Demo Player 2"),l.k0s(),l.j41(17,"span",49),l.EFF(18,"2450"),l.k0s()(),l.j41(19,"div",48)(20,"span",20),l.EFF(21,"Demo Player 1"),l.k0s(),l.j41(22,"span",49),l.EFF(23,"1950"),l.k0s()()()(),l.j41(24,"div",57)(25,"h4"),l.EFF(26,"Team Scores:"),l.k0s(),l.j41(27,"div",58)(28,"div",59)(29,"span",60),l.EFF(30,"Yellow Team"),l.k0s(),l.j41(31,"span",61),l.EFF(32,"5300"),l.k0s()(),l.j41(33,"div",62)(34,"span",60),l.EFF(35,"Red Team"),l.k0s(),l.j41(36,"span",61),l.EFF(37,"1950"),l.k0s()()()(),l.j41(38,"button",63),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.resetGame())}),l.EFF(39," New Game "),l.k0s()()}}let tO=(()=>{class n{constructor(e){this.dataService=e,this.availableStates=Object.values(er),this.currentState=er.LOBBY,this.availableThemes=[],this.selectedTheme=null,this.currentQuestionIndex=0,this.currentQuestion=null,this.countdown=3,this.timer=30,this.numericAnswer=null,this.correctAnswer=null}ngOnInit(){this.availableThemes=this.dataService.getAvailableThemes(),setInterval(()=>{this.currentState===er.COUNTDOWN&&(this.countdown--,this.countdown<=0&&(this.changeState(er.QUESTION),this.countdown=3)),this.currentState===er.QUESTION&&(this.timer--,this.timer<=0&&(this.changeState(er.VOTING),this.timer=30))},1e3)}changeState(e){this.currentState=e,e===er.QUESTION&&this.selectedTheme&&(this.currentQuestion=this.selectedTheme.questions[this.currentQuestionIndex])}selectTheme(e){this.selectedTheme=e}selectAnswer(e){this.correctAnswer=e,this.changeState(er.VOTING)}setCorrectAnswer(e){this.correctAnswer=e,this.changeState(er.SCOREBOARD)}nextQuestion(){this.selectedTheme&&(this.currentQuestionIndex++,this.currentQuestionIndex>=this.selectedTheme.questions.length?this.changeState(er.FINISHED):(this.currentQuestion=this.selectedTheme.questions[this.currentQuestionIndex],this.changeState(er.COUNTDOWN)))}resetGame(){this.currentState=er.LOBBY,this.selectedTheme=null,this.currentQuestionIndex=0,this.correctAnswer=null,this.numericAnswer=null}static{this.\u0275fac=function(i){return new(i||n)(l.rXU("DataService"))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-game-flow-demo"]],decls:17,vars:9,consts:[[1,"flow-demo-container"],[1,"state-controls"],[1,"state-label"],[1,"button-row"],["class","state-button",3,"active","click",4,"ngFor","ngForOf"],[1,"game-view",3,"ngClass"],["class","lobby-view",4,"ngIf"],["class","countdown-view",4,"ngIf"],["class","question-view",4,"ngIf"],["class","voting-view",4,"ngIf"],["class","scoreboard-view",4,"ngIf"],["class","finished-view",4,"ngIf"],[1,"state-button",3,"click"],[1,"lobby-view"],[1,"theme-selection"],[1,"theme-cards"],["class","theme-card",3,"selected","click",4,"ngFor","ngForOf"],[1,"player-list"],[1,"player-cards"],[1,"player-card"],[1,"player-name"],[1,"player-team","yellow"],[1,"player-team","red"],[1,"start-button",3,"disabled","click"],[1,"theme-card",3,"click"],[1,"countdown-view"],[1,"countdown"],[1,"get-ready"],[1,"question-view"],[4,"ngIf"],["class","question-card",4,"ngIf"],[1,"timer"],[1,"question-card"],["class","numeric-input",4,"ngIf"],[1,"options-list"],["class","option-button",3,"click",4,"ngFor","ngForOf"],[1,"option-button",3,"click"],[1,"numeric-input"],["type","number","placeholder","Enter your answer",3,"ngModel","ngModelChange"],[3,"click"],[1,"voting-view"],["class","host-controls",4,"ngIf"],[1,"host-controls"],["type","number","placeholder","Enter correct answer",3,"ngModel","ngModelChange"],[1,"scoreboard-view"],["class","correct-answer",4,"ngIf"],[1,"scores"],[1,"score-list"],[1,"score-item"],[1,"score"],[1,"next-button",3,"click"],[1,"correct-answer"],[1,"answer-display"],[1,"finished-view"],[1,"final-scores"],[1,"score-item","winner"],[1,"winner-badge"],[1,"team-scores"],[1,"team-score-container"],[1,"team-score","yellow"],[1,"team-name"],[1,"team-score-value"],[1,"team-score","red"],[1,"new-game-button",3,"click"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"h1"),l.EFF(2,"Game Flow Demonstration"),l.k0s(),l.j41(3,"div",1)(4,"h2"),l.EFF(5,"Current Game State: "),l.j41(6,"span",2),l.EFF(7),l.k0s()(),l.j41(8,"div",3),l.DNE(9,LP,2,3,"button",4),l.k0s()(),l.j41(10,"div",5),l.DNE(11,UP,29,2,"div",6),l.DNE(12,BP,5,1,"div",7),l.DNE(13,zP,5,3,"div",8),l.DNE(14,XP,8,1,"div",9),l.DNE(15,ZP,25,1,"div",10),l.DNE(16,eO,40,0,"div",11),l.k0s()()),2&i&&(l.R7$(7),l.JRh(a.currentState),l.R7$(2),l.Y8G("ngForOf",a.availableStates),l.R7$(1),l.Y8G("ngClass",a.currentState),l.R7$(1),l.Y8G("ngIf","lobby"===a.currentState),l.R7$(1),l.Y8G("ngIf","countdown"===a.currentState),l.R7$(1),l.Y8G("ngIf","question"===a.currentState),l.R7$(1),l.Y8G("ngIf","voting"===a.currentState),l.R7$(1),l.Y8G("ngIf","scoreboard"===a.currentState),l.R7$(1),l.Y8G("ngIf","finished"===a.currentState))},dependencies:[so,br,vi,Es,Su,Ul,Uo],styles:[".flow-demo-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:2rem}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], h4[_ngcontent-%COMP%]{text-align:center;margin-bottom:1.5rem}.state-controls[_ngcontent-%COMP%]{margin-bottom:2rem;padding:1rem;background-color:#f5f5f5;border-radius:8px}.state-label[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#2196f3}.button-row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem;justify-content:center}.state-button[_ngcontent-%COMP%]{padding:.5rem 1rem;border:none;border-radius:4px;background-color:#e0e0e0;cursor:pointer}.state-button.active[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.game-view[_ngcontent-%COMP%]{background-color:#fff;border-radius:8px;padding:2rem;box-shadow:0 4px 6px #0000001a;min-height:400px}.theme-cards[_ngcontent-%COMP%], .player-cards[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;margin-bottom:1.5rem}.theme-card[_ngcontent-%COMP%]{flex:1 0 200px;padding:1rem;background-color:#f5f5f5;border-radius:6px;cursor:pointer;transition:all .2s}.theme-card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.theme-card.selected[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.player-card[_ngcontent-%COMP%]{flex:1 0 150px;padding:1rem;background-color:#f5f5f5;border-radius:6px;display:flex;flex-direction:column}.player-team[_ngcontent-%COMP%]{margin-top:.5rem;padding:.25rem .5rem;border-radius:4px;text-align:center}.player-team.yellow[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.player-team.red[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.start-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;background-color:#4caf50;color:#fff;border:none;border-radius:6px;font-size:1.25rem;cursor:pointer;transition:background-color .2s}.start-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.start-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.countdown-view[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;height:400px}.countdown[_ngcontent-%COMP%]{font-size:10rem;font-weight:700;color:#2196f3;animation:_ngcontent-%COMP%_pulse 1s infinite}.get-ready[_ngcontent-%COMP%]{font-size:2rem;color:#555}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1)}50%{transform:scale(1.1)}to{transform:scale(1)}}.question-card[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:2rem;border-radius:8px;margin-bottom:2rem}.options-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:1.5rem}.option-button[_ngcontent-%COMP%]{padding:1rem;border:none;border-radius:6px;background-color:#e0e0e0;text-align:left;font-size:1rem;cursor:pointer;transition:background-color .2s}.option-button[_ngcontent-%COMP%]:hover{background-color:#2196f3;color:#fff}.numeric-input[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1.5rem}.numeric-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:1rem;font-size:1rem;border:1px solid #ccc;border-radius:6px}.numeric-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:1rem 2rem;background-color:#2196f3;color:#fff;border:none;border-radius:6px;cursor:pointer}.timer[_ngcontent-%COMP%]{text-align:center;font-size:1.25rem;color:#f44336}.host-controls[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:1.5rem;border-radius:8px;margin-top:2rem}.correct-answer[_ngcontent-%COMP%]{margin-bottom:2rem}.answer-display[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:1rem;border-radius:6px;text-align:center;font-size:1.5rem}.score-list[_ngcontent-%COMP%]{background-color:#f5f5f5;border-radius:6px;overflow:hidden}.score-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:1rem;border-bottom:1px solid #e0e0e0}.score-item[_ngcontent-%COMP%]:last-child{border-bottom:none}.score-item.winner[_ngcontent-%COMP%]{background-color:#ffc107;color:#333;position:relative}.winner-badge[_ngcontent-%COMP%]{position:absolute;right:8px;top:8px;background-color:#f44336;color:#fff;padding:.25rem .5rem;border-radius:4px;font-size:.75rem}.score[_ngcontent-%COMP%]{font-weight:700}.next-button[_ngcontent-%COMP%], .new-game-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;background-color:#2196f3;color:#fff;border:none;border-radius:6px;font-size:1.25rem;cursor:pointer;margin-top:2rem;transition:background-color .2s}.next-button[_ngcontent-%COMP%]:hover, .new-game-button[_ngcontent-%COMP%]:hover{background-color:#1976d2}.team-score-container[_ngcontent-%COMP%]{display:flex;gap:1rem;margin-top:1rem}.team-score[_ngcontent-%COMP%]{flex:1;padding:1rem;border-radius:6px;display:flex;flex-direction:column;align-items:center}.team-score.yellow[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.team-score.red[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.team-name[_ngcontent-%COMP%]{font-weight:700;margin-bottom:.5rem}.team-score-value[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.new-game-button[_ngcontent-%COMP%]{background-color:#4caf50}.new-game-button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return n})();function nO(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",15),l.bIt("click",function(){const u=l.eBV(e).$implicit,g=l.XpG();return l.Njj(g.selectTheme(u.id))}),l.j41(1,"h4"),l.EFF(2),l.k0s(),l.j41(3,"p"),l.EFF(4),l.k0s()()}if(2&n){const e=t.$implicit,i=l.XpG();l.AVh("selected",i.selectedTheme===e.id),l.R7$(2),l.JRh(e.name),l.R7$(2),l.SpI("",e.questions," questions")}}function rO(n,t){if(1&n&&(l.j41(0,"div",16)(1,"h3"),l.EFF(2,"Share This Game"),l.k0s(),l.j41(3,"p"),l.EFF(4,"Let other players join by scanning this QR code:"),l.k0s(),l.nrm(5,"app-qr-code",17),l.j41(6,"div",18)(7,"p"),l.EFF(8,"Or share this code: "),l.j41(9,"strong"),l.EFF(10),l.k0s()()()()),2&n){const e=l.XpG();l.R7$(5),l.Y8G("sessionId",e.sessionId)("displayText","Ask players to scan to join"),l.R7$(5),l.JRh(e.sessionId)}}function iO(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",19),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.createGame())}),l.EFF(1," Create Game Session "),l.k0s()}if(2&n){const e=l.XpG();l.Y8G("disabled",!e.canCreateGame())}}function sO(n,t){if(1&n){const e=l.RV6();l.j41(0,"button",20),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.startGame())}),l.EFF(1," Start Game "),l.k0s()}}let oO=(()=>{class n{constructor(e){this.router=e,this.hostName="",this.selectedTeam="",this.selectedTheme="",this.sessionId="",this.sessionCreated=!1,this.options={useTimer:!0,showScoreboard:!0,allowTeamChat:!1},this.mockThemes=[{id:"general",name:"General Knowledge",questions:10},{id:"movies",name:"Movies & TV",questions:15},{id:"science",name:"Science & Tech",questions:12},{id:"history",name:"History",questions:8},{id:"sports",name:"Sports",questions:10},{id:"music",name:"Music",questions:12}]}selectTeam(e){this.selectedTeam=e}selectTheme(e){this.selectedTheme=e}canCreateGame(){return this.hostName.trim().length>0&&this.selectedTeam.length>0&&this.selectedTheme.length>0}createGame(){this.sessionId="GAME"+Math.random().toString(36).substring(2,7).toUpperCase(),this.sessionCreated=!0}startGame(){this.router.navigate(["/game",this.sessionId])}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(Wr))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-game-creator"]],decls:36,vars:12,consts:[[1,"creator-container"],[1,"form-section"],["for","hostName"],["type","text","id","hostName","placeholder","Enter your name",1,"form-control",3,"ngModel","ngModelChange"],[1,"team-selector"],[1,"team-button","yellow",3,"click"],[1,"team-button","red",3,"click"],[1,"option-group"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"mock-themes"],[1,"theme-list"],["class","theme-card",3,"selected","click",4,"ngFor","ngForOf"],["class","qr-section",4,"ngIf"],["class","create-button",3,"disabled","click",4,"ngIf"],["class","start-button",3,"click",4,"ngIf"],[1,"theme-card",3,"click"],[1,"qr-section"],[3,"sessionId","displayText"],[1,"session-code"],[1,"create-button",3,"disabled","click"],[1,"start-button",3,"click"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"h2"),l.EFF(2,"Create New Game"),l.k0s(),l.j41(3,"div",1)(4,"label",2),l.EFF(5,"Your Name"),l.k0s(),l.j41(6,"input",3),l.bIt("ngModelChange",function(g){return a.hostName=g}),l.k0s()(),l.j41(7,"div",1)(8,"label"),l.EFF(9,"Select Your Team"),l.k0s(),l.j41(10,"div",4)(11,"button",5),l.bIt("click",function(){return a.selectTeam("yellow")}),l.EFF(12," Yellow Team "),l.k0s(),l.j41(13,"button",6),l.bIt("click",function(){return a.selectTeam("red")}),l.EFF(14," Red Team "),l.k0s()()(),l.j41(15,"div",1)(16,"h3"),l.EFF(17,"Game Options"),l.k0s(),l.j41(18,"div",7)(19,"label")(20,"input",8),l.bIt("ngModelChange",function(g){return a.options.useTimer=g}),l.k0s(),l.EFF(21," Enable Timer "),l.k0s(),l.j41(22,"label")(23,"input",8),l.bIt("ngModelChange",function(g){return a.options.showScoreboard=g}),l.k0s(),l.EFF(24," Show Scoreboard After Each Question "),l.k0s(),l.j41(25,"label")(26,"input",8),l.bIt("ngModelChange",function(g){return a.options.allowTeamChat=g}),l.k0s(),l.EFF(27," Allow Team Chat "),l.k0s()()(),l.j41(28,"div",9)(29,"h3"),l.EFF(30,"Available Themes"),l.k0s(),l.j41(31,"div",10),l.DNE(32,nO,5,4,"div",11),l.k0s()(),l.DNE(33,rO,11,3,"div",12),l.DNE(34,iO,2,1,"button",13),l.DNE(35,sO,2,0,"button",14),l.k0s()),2&i&&(l.R7$(6),l.Y8G("ngModel",a.hostName),l.R7$(5),l.AVh("active","yellow"===a.selectedTeam),l.R7$(2),l.AVh("active","red"===a.selectedTeam),l.R7$(7),l.Y8G("ngModel",a.options.useTimer),l.R7$(3),l.Y8G("ngModel",a.options.showScoreboard),l.R7$(3),l.Y8G("ngModel",a.options.allowTeamChat),l.R7$(6),l.Y8G("ngForOf",a.mockThemes),l.R7$(1),l.Y8G("ngIf",a.sessionCreated),l.R7$(1),l.Y8G("ngIf",!a.sessionCreated),l.R7$(1),l.Y8G("ngIf",a.sessionCreated))},dependencies:[br,vi,Es,q_,Ul,Uo,MS,RS],styles:[".creator-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem;color:#333}.form-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500;color:#555}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.team-selector[_ngcontent-%COMP%]{display:flex;gap:1rem}.team-button[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;font-weight:500;transition:all .2s}.team-button.yellow[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.team-button.red[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.team-button.active[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 2px 8px #0003}.option-group[_ngcontent-%COMP%]{background-color:#f5f5f5;padding:1rem;border-radius:4px}.option-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.75rem;font-weight:400}.option-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{margin-right:.5rem}.theme-list[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:1rem}.theme-card[_ngcontent-%COMP%]{padding:1rem;background-color:#f5f5f5;border-radius:4px;cursor:pointer;transition:all .2s}.theme-card[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.theme-card.selected[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.theme-card[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0 0 .5rem}.theme-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.9rem;opacity:.8}.qr-section[_ngcontent-%COMP%]{margin:2rem 0;text-align:center}.session-code[_ngcontent-%COMP%]{margin-top:1rem;padding:.5rem;background-color:#f5f5f5;border-radius:4px}.create-button[_ngcontent-%COMP%], .start-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;border:none;border-radius:4px;font-size:1.1rem;font-weight:500;cursor:pointer;transition:background-color .2s}.create-button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.create-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.create-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.start-button[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff}.start-button[_ngcontent-%COMP%]:hover{background-color:#1976d2}"]})}}return n})();function aO(n,t){if(1&n&&(l.j41(0,"div",6)(1,"span",7),l.EFF(2),l.k0s(),l.j41(3,"span",8),l.EFF(4),l.k0s()()),2&n){const e=l.XpG();l.R7$(2),l.JRh(e.playerName),l.R7$(1),l.Y8G("ngClass",e.playerTeam),l.R7$(1),l.JRh(e.playerTeam)}}function lO(n,t){if(1&n){const e=l.RV6();l.j41(0,"div",9)(1,"h3"),l.EFF(2,"Join Game"),l.k0s(),l.j41(3,"div",10)(4,"label",11),l.EFF(5,"Your Name"),l.k0s(),l.j41(6,"input",12),l.bIt("ngModelChange",function(a){l.eBV(e);const u=l.XpG();return l.Njj(u.playerName=a)}),l.k0s()(),l.j41(7,"div",10)(8,"label"),l.EFF(9,"Select Your Team"),l.k0s(),l.j41(10,"div",13)(11,"button",14),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.selectTeam("yellow"))}),l.EFF(12," Yellow Team "),l.k0s(),l.j41(13,"button",15),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.selectTeam("red"))}),l.EFF(14," Red Team "),l.k0s()()(),l.j41(15,"button",16),l.bIt("click",function(){l.eBV(e);const a=l.XpG();return l.Njj(a.joinGame())}),l.EFF(16," Join Game "),l.k0s()()}if(2&n){const e=l.XpG();l.R7$(6),l.Y8G("ngModel",e.playerName),l.R7$(5),l.AVh("active","yellow"===e.playerTeam),l.R7$(2),l.AVh("active","red"===e.playerTeam),l.R7$(2),l.Y8G("disabled",!e.canJoinGame())}}function cO(n,t){1&n&&(l.j41(0,"span",30),l.EFF(1,"Host"),l.k0s())}function uO(n,t){if(1&n&&(l.j41(0,"div",26)(1,"span",27),l.EFF(2),l.k0s(),l.j41(3,"span",28),l.EFF(4),l.k0s(),l.DNE(5,cO,2,0,"span",29),l.k0s()),2&n){const e=t.$implicit;l.R7$(2),l.JRh(e.name),l.R7$(1),l.Y8G("ngClass",e.team),l.R7$(1),l.JRh(e.team),l.R7$(1),l.Y8G("ngIf",e.isHost)}}function dO(n,t){if(1&n&&(l.j41(0,"div",17)(1,"h3"),l.EFF(2,"Waiting for the game to start..."),l.k0s(),l.j41(3,"div",18)(4,"h4"),l.EFF(5,"Players in this session:"),l.k0s(),l.j41(6,"div",19),l.DNE(7,uO,6,4,"div",20),l.k0s()(),l.j41(8,"div",21)(9,"div",22)(10,"h5"),l.EFF(11,"Yellow Team"),l.k0s(),l.j41(12,"div",23),l.EFF(13),l.k0s()(),l.j41(14,"div",24)(15,"h5"),l.EFF(16,"Red Team"),l.k0s(),l.j41(17,"div",23),l.EFF(18),l.k0s()()(),l.j41(19,"p",25),l.EFF(20,"The host will start the game soon..."),l.k0s()()),2&n){const e=l.XpG();l.R7$(7),l.Y8G("ngForOf",e.mockPlayers),l.R7$(6),l.JRh(e.yellowTeamCount),l.R7$(5),l.JRh(e.redTeamCount)}}function hO(n,t){1&n&&(l.j41(0,"div",31)(1,"h3"),l.EFF(2,"Game in Progress"),l.k0s(),l.j41(3,"p"),l.EFF(4,"This is a placeholder for the actual game UI."),l.k0s(),l.j41(5,"p"),l.EFF(6,"The game would display questions, options, and allow answering."),l.k0s(),l.j41(7,"div",32)(8,"h4"),l.EFF(9,"Question 1: What is the capital of France?"),l.k0s(),l.j41(10,"div",33)(11,"button",34),l.EFF(12,"London"),l.k0s(),l.j41(13,"button",35),l.EFF(14,"Paris"),l.k0s(),l.j41(15,"button",34),l.EFF(16,"Berlin"),l.k0s(),l.j41(17,"button",34),l.EFF(18,"Madrid"),l.k0s()()(),l.j41(19,"button",36),l.EFF(20,"Submit Answer"),l.k0s()())}let fO=(()=>{class n{get yellowTeamCount(){return this.mockPlayers.filter(e=>"yellow"===e.team).length}get redTeamCount(){return this.mockPlayers.filter(e=>"red"===e.team).length}constructor(e){this.route=e,this.sessionId="",this.playerName="",this.playerTeam="",this.playerJoined=!1,this.gameStarted=!1,this.mockPlayers=[{name:"Host User",team:"yellow",isHost:!0},{name:"Player 1",team:"red",isHost:!1},{name:"Player 2",team:"yellow",isHost:!1},{name:"Player 3",team:"red",isHost:!1},{name:"Player 4",team:"yellow",isHost:!1}]}ngOnInit(){this.route.paramMap.subscribe(e=>{const i=e.get("sessionId");i&&(this.sessionId=i)}),setTimeout(()=>{this.playerJoined&&(this.gameStarted=!0)},1e4)}selectTeam(e){this.playerTeam=e}canJoinGame(){return this.playerName.trim().length>0&&this.playerTeam.length>0}joinGame(){this.canJoinGame()&&(this.playerJoined=!0,this.mockPlayers.push({name:this.playerName,team:this.playerTeam,isHost:!1}))}static{this.\u0275fac=function(i){return new(i||n)(l.rXU(ka))}}static{this.\u0275cmp=l.VBU({type:n,selectors:[["app-game-player"]],decls:8,vars:5,consts:[[1,"player-container"],[1,"game-header"],["class","player-info",4,"ngIf"],["class","join-form",4,"ngIf"],["class","waiting-screen",4,"ngIf"],["class","game-screen",4,"ngIf"],[1,"player-info"],[1,"player-name"],[1,"player-team",3,"ngClass"],[1,"join-form"],[1,"form-group"],["for","playerName"],["type","text","id","playerName","placeholder","Enter your name",1,"form-control",3,"ngModel","ngModelChange"],[1,"team-selector"],[1,"team-button","yellow",3,"click"],[1,"team-button","red",3,"click"],[1,"join-button",3,"disabled","click"],[1,"waiting-screen"],[1,"players-list"],[1,"player-cards"],["class","player-card",4,"ngFor","ngForOf"],[1,"team-distribution"],[1,"team","yellow"],[1,"team-count"],[1,"team","red"],[1,"waiting-message"],[1,"player-card"],[1,"player-card-name"],[1,"player-card-team",3,"ngClass"],["class","host-badge",4,"ngIf"],[1,"host-badge"],[1,"game-screen"],[1,"mock-question"],[1,"options"],[1,"option-button"],[1,"option-button","correct"],[1,"answer-button"]],template:function(i,a){1&i&&(l.j41(0,"div",0)(1,"div",1)(2,"h2"),l.EFF(3),l.k0s(),l.DNE(4,aO,5,3,"div",2),l.k0s(),l.DNE(5,lO,17,6,"div",3),l.DNE(6,dO,21,3,"div",4),l.DNE(7,hO,21,0,"div",5),l.k0s()),2&i&&(l.R7$(3),l.SpI("Session: ",a.sessionId,""),l.R7$(1),l.Y8G("ngIf",a.playerJoined),l.R7$(1),l.Y8G("ngIf",!a.playerJoined),l.R7$(1),l.Y8G("ngIf",a.playerJoined&&!a.gameStarted),l.R7$(1),l.Y8G("ngIf",a.playerJoined&&a.gameStarted))},dependencies:[so,br,vi,Es,Ul,Uo],styles:[".player-container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:1.5rem}.game-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid #eee}.player-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.player-name[_ngcontent-%COMP%]{font-weight:500}.player-team[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.9rem;text-transform:capitalize}.yellow[_ngcontent-%COMP%]{background-color:#ffc107;color:#333}.red[_ngcontent-%COMP%]{background-color:#f44336;color:#fff}.join-form[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:8px;box-shadow:0 2px 8px #0000001a}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem;font-weight:500}.form-control[_ngcontent-%COMP%]{width:100%;padding:.75rem;font-size:1rem;border:1px solid #ddd;border-radius:4px;box-sizing:border-box}.team-selector[_ngcontent-%COMP%]{display:flex;gap:1rem}.team-button[_ngcontent-%COMP%]{flex:1;padding:.75rem;border:none;border-radius:4px;cursor:pointer;font-size:1rem;transition:all .2s}.team-button.active[_ngcontent-%COMP%]{transform:scale(1.05);box-shadow:0 2px 8px #0003}.join-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;background-color:#4caf50;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;transition:background-color .2s}.join-button[_ngcontent-%COMP%]:hover{background-color:#45a049}.join-button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.waiting-screen[_ngcontent-%COMP%]{text-align:center;padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.players-list[_ngcontent-%COMP%]{margin:2rem 0}.player-cards[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.player-card[_ngcontent-%COMP%]{padding:.75rem;background-color:#f5f5f5;border-radius:4px;display:flex;flex-direction:column;align-items:center;min-width:120px;position:relative}.player-card-name[_ngcontent-%COMP%]{font-weight:500;margin-bottom:.5rem}.player-card-team[_ngcontent-%COMP%]{padding:.25rem .5rem;border-radius:4px;font-size:.8rem;text-transform:capitalize}.host-badge[_ngcontent-%COMP%]{position:absolute;top:.25rem;right:.25rem;background-color:#2196f3;color:#fff;font-size:.7rem;padding:.15rem .3rem;border-radius:4px}.team-distribution[_ngcontent-%COMP%]{display:flex;gap:2rem;justify-content:center;margin:2rem 0}.team[_ngcontent-%COMP%]{padding:1rem;border-radius:8px;min-width:120px}.team[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0 0 .5rem;text-transform:capitalize}.team-count[_ngcontent-%COMP%]{font-size:2rem;font-weight:700}.waiting-message[_ngcontent-%COMP%]{font-style:italic;color:#666}.game-screen[_ngcontent-%COMP%]{padding:2rem;background-color:#fff;border-radius:8px;box-shadow:0 2px 8px #0000001a}.mock-question[_ngcontent-%COMP%]{margin:2rem 0;padding:1.5rem;background-color:#f5f5f5;border-radius:8px}.options[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:1rem}.option-button[_ngcontent-%COMP%]{padding:1rem;text-align:left;background-color:#fff;border:1px solid #ddd;border-radius:4px;cursor:pointer;transition:background-color .2s}.option-button[_ngcontent-%COMP%]:hover{background-color:#e0e0e0}.option-button.correct[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;border-color:#4caf50}.answer-button[_ngcontent-%COMP%]{display:block;width:100%;padding:1rem;background-color:#2196f3;color:#fff;border:none;border-radius:4px;font-size:1.1rem;cursor:pointer;margin-top:2rem}"]})}}return n})(),PS=(()=>{class n{constructor(e,i){this.db=e,this.auth=i}signInAnonymously(){var e=this;return(0,Yo.A)(function*(){return(yield e.auth.signInAnonymously()).user?.uid||""})()}createGameSession(){return(0,hn.H)(this.signInAnonymously()).pipe((0,xn.n)(e=>{const i=this.db.list("sessions").push({status:"lobby",currentQuestionIndex:0,players:{},votes:{},scores:{},countdown:0});return(0,Je.of)(i.key||"")}))}getGameSession(e){return this.db.object(`sessions/${e}`).valueChanges()}joinGame(e,i){return(0,hn.H)(this.signInAnonymously()).pipe((0,xn.n)(a=>{const u=this.db.object(`sessions/${e}/players/${a}`);return(0,hn.H)(u.set({...i,id:a,score:0}))}))}updateGameStatus(e,i){return(0,hn.H)(this.db.object(`sessions/${e}/status`).set(i))}setCurrentTheme(e,i){return(0,hn.H)(this.db.object(`sessions/${e}/currentTheme`).set(i))}submitVote(e,i,a){return(0,hn.H)(this.auth.currentUser).pipe((0,xn.n)(u=>{if(!u)return(0,Je.of)(void 0);const g=this.db.object(`sessions/${e}/votes/${i}/${u.uid}`);return(0,hn.H)(g.set(a))}))}updateScore(e,i,a){return(0,hn.H)(this.db.object(`sessions/${e}/scores/${i}`).set(a))}updateCountdown(e,i){return(0,hn.H)(this.db.object(`sessions/${e}/countdown`).set(i))}leaveGame(e){var i=this;return(0,Yo.A)(function*(){const a=yield i.auth.currentUser;a&&(yield i.db.object(`sessions/${e}/players/${a.uid}`).remove())})()}removePlayer(e,i){return this.db.object(`sessions/${e}/players/${i}`).remove().then(()=>Promise.all([this.db.object(`sessions/${e}/votes/${i}`).remove(),this.db.object(`sessions/${e}/scores/${i}`).remove()])).then(()=>this.db.object(`sessions/${e}/players`).valueChanges().pipe(Ho(1),(0,At.T)(a=>a&&0!==Object.keys(a).length?Promise.resolve():this.db.object(`sessions/${e}`).remove())).toPromise()).then(()=>Promise.resolve())}static{this.\u0275fac=function(i){return new(i||n)(l.KVO(MR),l.KVO(II))}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function OR(n,t){return t?e=>nm(t.pipe(Ho(1),function pO(){return(0,ci.N)((n,t)=>{n.subscribe((0,_r._)(t,im.l))})}()),e.pipe(OR(n))):(0,Nr.Z)((e,i)=>(0,Ll.Tg)(n(e,i)).pipe(Ho(1),ED(e)))}function Gh(n,t=vv.E){const e=RR(n,t);return OR(()=>e)}let NR=(()=>{class n{constructor(){this.sessions=new Map,this.currentSession=new ws.t(null),this.mockThemes=[{id:"theme1",name:"General Knowledge",questions:[{id:"q1",text:"What year was the first iPhone released?",isNumeric:!0,correctAnswer:2007},{id:"q2",text:"What is the capital of France?",options:["London","Berlin","Paris","Madrid"],isNumeric:!1,correctAnswer:"Paris"},{id:"q3",text:"How many planets are in our solar system?",isNumeric:!0,correctAnswer:8}]},{id:"theme2",name:"Entertainment",questions:[{id:"q1",text:"Who played Iron Man in the Marvel movies?",options:["Chris Evans","Robert Downey Jr.","Chris Hemsworth","Mark Ruffalo"],isNumeric:!1,correctAnswer:"Robert Downey Jr."},{id:"q2",text:"In what year was the first Star Wars movie released?",isNumeric:!0,correctAnswer:1977},{id:"q3",text:'Which band performed the song "Bohemian Rhapsody"?',options:["The Beatles","Queen","Led Zeppelin","Pink Floyd"],isNumeric:!1,correctAnswer:"Queen"}]}],this.createDemoSession()}createDemoSession(){const e="demo-session";this.sessions.set(e,{id:e,status:er.LOBBY,currentQuestionIndex:0,players:{},votes:{},scores:{},countdown:0,currentTheme:this.mockThemes[0]})}signInAnonymously(){const e="user_"+Math.random().toString(36).substring(2,9);return Promise.resolve(e)}createGameSession(){const e="session_"+Math.random().toString(36).substring(2,9);return this.sessions.set(e,{id:e,status:er.LOBBY,currentQuestionIndex:0,players:{},votes:{},scores:{},countdown:0}),(0,Je.of)(e).pipe(Gh(500))}getGameSession(e){const i=this.sessions.get(e)||null;return i&&this.currentSession.next(i),(0,Je.of)(i).pipe(Gh(300))}joinGame(e,i){return(0,Je.of)(i).pipe(Gh(500),(0,At.T)(a=>{const u=this.sessions.get(e);u&&(u.players[a.id]=a,this.currentSession.next(u))}))}updateGameStatus(e,i){return(0,Je.of)(void 0).pipe(Gh(300),(0,Jn.M)(()=>{const a=this.sessions.get(e);a&&(a.status=i,this.currentSession.next(a))}))}setCurrentTheme(e,i){return(0,Je.of)(void 0).pipe(Gh(300),(0,Jn.M)(()=>{const a=this.sessions.get(e);a&&(a.currentTheme=i,this.currentSession.next(a))}))}submitVote(e,i,a){return(0,Je.of)(void 0).pipe(Gh(300),(0,Jn.M)(()=>{const u=this.sessions.get(e);u&&(u.votes[i]||(u.votes[i]={}),u.votes[i][a.playerId]=a,this.currentSession.next(u))}))}updateScore(e,i,a){return(0,Je.of)(void 0).pipe(Gh(300),(0,Jn.M)(()=>{const u=this.sessions.get(e);u&&(u.scores[i]=a,u.players[i]&&(u.players[i].score=a),this.currentSession.next(u))}))}updateCountdown(e,i){return(0,Je.of)(void 0).pipe(Gh(100),(0,Jn.M)(()=>{const a=this.sessions.get(e);a&&(a.countdown=i,this.currentSession.next(a))}))}leaveGame(e){return Promise.resolve()}removePlayer(e,i){const a=this.sessions.get(e);return a&&a.players[i]&&(delete a.players[i],this.currentSession.next(a)),Promise.resolve()}getAvailableThemes(){return this.mockThemes}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=l.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class gO{createGameSession(){return(0,Je.of)("mock-session")}getGameSession(){return(0,Je.of)(null)}joinGame(){return(0,Je.of)(void 0)}updateGameStatus(){return(0,Je.of)(void 0)}setCurrentTheme(){return(0,Je.of)(void 0)}submitVote(){return(0,Je.of)(void 0)}updateScore(){return(0,Je.of)(void 0)}updateCountdown(){return(0,Je.of)(void 0)}leaveGame(){return Promise.resolve()}removePlayer(){return Promise.resolve()}}function mO(n,t){return t}let _O=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275mod=l.$C({type:n,bootstrap:[oP]})}static{this.\u0275inj=l.G2t({providers:[DI,NR,{provide:PS,useClass:gO},{provide:"DataService",useFactory:mO,deps:[PS,NR]}],imports:[es,H_,gD,mD,mT.forRoot([{path:"",component:cP},{path:"lobby/:sessionId",component:wP},{path:"game/:sessionId",component:FP},{path:"demo",component:tO},{path:"create",component:oO},{path:"play/:sessionId",component:fO},{path:"**",redirectTo:""}]),[]]})}}return n})();Hn().bootstrapModule(_O).catch(n=>console.error(n))},243:Ve=>{"use strict";var H={single_source_shortest_paths:function(R,l,N){var S={},k={};k[l]=0;var $,W,Y,ee,L,K,x=H.PriorityQueue.make();for(x.push(l,0);!x.empty();)for(Y in ee=($=x.pop()).cost,L=R[W=$.value]||{})L.hasOwnProperty(Y)&&(K=ee+L[Y],(typeof k[Y]>"u"||k[Y]>K)&&(k[Y]=K,x.push(Y,K),S[Y]=W));if(typeof N<"u"&&typeof k[N]>"u"){var Pe=["Could not find a path from ",l," to ",N,"."].join("");throw new Error(Pe)}return S},extract_shortest_path_from_predecessor_list:function(R,l){for(var N=[],S=l;S;)N.push(S),S=R[S];return N.reverse(),N},find_path:function(R,l,N){var S=H.single_source_shortest_paths(R,l,N);return H.extract_shortest_path_from_predecessor_list(S,N)},PriorityQueue:{make:function(R){var S,l=H.PriorityQueue,N={};for(S in R=R||{},l)l.hasOwnProperty(S)&&(N[S]=l[S]);return N.queue=[],N.sorter=R.sorter||l.default_sorter,N},default_sorter:function(R,l){return R.cost-l.cost},push:function(R,l){this.queue.push({value:R,cost:l}),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};Ve.exports=H},8314:(Ve,H,R)=>{const N=R(2836),S=R(9460),k=R(7030),x=R(6511);function $(W,Y,ee,L,G){const K=[].slice.call(arguments,1),pe=K.length,ge="function"==typeof K[pe-1];if(!ge&&!N())throw new Error("Callback required as last argument");if(!ge){if(pe<1)throw new Error("Too few arguments provided");return 1===pe?(ee=Y,Y=L=void 0):2===pe&&!Y.getContext&&(L=ee,ee=Y,Y=void 0),new Promise(function(Pe,Se){try{const Te=S.create(ee,L);Pe(W(Te,Y,L))}catch(Te){Se(Te)}})}if(pe<2)throw new Error("Too few arguments provided");2===pe?(G=ee,ee=Y,Y=L=void 0):3===pe&&(Y.getContext&&typeof G>"u"?(G=L,L=void 0):(G=L,L=ee,ee=Y,Y=void 0));try{const Pe=S.create(ee,L);G(null,W(Pe,Y,L))}catch(Pe){G(Pe)}}H.mo=$.bind(null,k.render),$.bind(null,k.renderToDataURL),$.bind(null,function(W,Y,ee){return x.render(W,ee)})},2836:Ve=>{Ve.exports=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then}},6214:(Ve,H,R)=>{const l=R(9089).getSymbolSize;H.getRowColCoords=function(S){if(1===S)return[];const k=Math.floor(S/7)+2,x=l(S),$=145===x?26:2*Math.ceil((x-13)/(2*k-2)),W=[x-7];for(let Y=1;Y<k-1;Y++)W[Y]=W[Y-1]-$;return W.push(6),W.reverse()},H.getPositions=function(S){const k=[],x=H.getRowColCoords(S),$=x.length;for(let W=0;W<$;W++)for(let Y=0;Y<$;Y++)0===W&&0===Y||0===W&&Y===$-1||W===$-1&&0===Y||k.push([x[W],x[Y]]);return k}},1018:(Ve,H,R)=>{const l=R(1677),N=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function S(k){this.mode=l.ALPHANUMERIC,this.data=k}S.getBitsLength=function(x){return 11*Math.floor(x/2)+x%2*6},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(x){let $;for($=0;$+2<=this.data.length;$+=2){let W=45*N.indexOf(this.data[$]);W+=N.indexOf(this.data[$+1]),x.put(W,11)}this.data.length%2&&x.put(N.indexOf(this.data[$]),6)},Ve.exports=S},4662:Ve=>{function H(){this.buffer=[],this.length=0}H.prototype={get:function(R){const l=Math.floor(R/8);return 1==(this.buffer[l]>>>7-R%8&1)},put:function(R,l){for(let N=0;N<l;N++)this.putBit(1==(R>>>l-N-1&1))},getLengthInBits:function(){return this.length},putBit:function(R){const l=Math.floor(this.length/8);this.buffer.length<=l&&this.buffer.push(0),R&&(this.buffer[l]|=128>>>this.length%8),this.length++}},Ve.exports=H},5941:Ve=>{function H(R){if(!R||R<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=R,this.data=new Uint8Array(R*R),this.reservedBit=new Uint8Array(R*R)}H.prototype.set=function(R,l,N,S){const k=R*this.size+l;this.data[k]=N,S&&(this.reservedBit[k]=!0)},H.prototype.get=function(R,l){return this.data[R*this.size+l]},H.prototype.xor=function(R,l,N){this.data[R*this.size+l]^=N},H.prototype.isReserved=function(R,l){return this.reservedBit[R*this.size+l]},Ve.exports=H},4969:(Ve,H,R)=>{const l=R(1677);function N(S){this.mode=l.BYTE,this.data="string"==typeof S?(new TextEncoder).encode(S):new Uint8Array(S)}N.getBitsLength=function(k){return 8*k},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(S){for(let k=0,x=this.data.length;k<x;k++)S.put(this.data[k],8)},Ve.exports=N},3677:(Ve,H,R)=>{const l=R(7424),N=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],S=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];H.getBlocksCount=function(x,$){switch($){case l.L:return N[4*(x-1)+0];case l.M:return N[4*(x-1)+1];case l.Q:return N[4*(x-1)+2];case l.H:return N[4*(x-1)+3];default:return}},H.getTotalCodewordsCount=function(x,$){switch($){case l.L:return S[4*(x-1)+0];case l.M:return S[4*(x-1)+1];case l.Q:return S[4*(x-1)+2];case l.H:return S[4*(x-1)+3];default:return}}},7424:(Ve,H)=>{H.L={bit:1},H.M={bit:0},H.Q={bit:3},H.H={bit:2},H.isValid=function(N){return N&&typeof N.bit<"u"&&N.bit>=0&&N.bit<4},H.from=function(N,S){if(H.isValid(N))return N;try{return function R(l){if("string"!=typeof l)throw new Error("Param is not a string");switch(l.toLowerCase()){case"l":case"low":return H.L;case"m":case"medium":return H.M;case"q":case"quartile":return H.Q;case"h":case"high":return H.H;default:throw new Error("Unknown EC Level: "+l)}}(N)}catch{return S}}},6269:(Ve,H,R)=>{const l=R(9089).getSymbolSize;H.getPositions=function(k){const x=l(k);return[[0,0],[x-7,0],[0,x-7]]}},6254:(Ve,H,R)=>{const l=R(9089),k=l.getBCHDigit(1335);H.getEncodedBits=function($,W){const Y=$.bit<<3|W;let ee=Y<<10;for(;l.getBCHDigit(ee)-k>=0;)ee^=1335<<l.getBCHDigit(ee)-k;return 21522^(Y<<10|ee)}},6686:(Ve,H)=>{const R=new Uint8Array(512),l=new Uint8Array(256);(function(){let S=1;for(let k=0;k<255;k++)R[k]=S,l[S]=k,S<<=1,256&S&&(S^=285);for(let k=255;k<512;k++)R[k]=R[k-255]})(),H.log=function(S){if(S<1)throw new Error("log("+S+")");return l[S]},H.exp=function(S){return R[S]},H.mul=function(S,k){return 0===S||0===k?0:R[l[S]+l[k]]}},3264:(Ve,H,R)=>{const l=R(1677),N=R(9089);function S(k){this.mode=l.KANJI,this.data=k}S.getBitsLength=function(x){return 13*x},S.prototype.getLength=function(){return this.data.length},S.prototype.getBitsLength=function(){return S.getBitsLength(this.data.length)},S.prototype.write=function(k){let x;for(x=0;x<this.data.length;x++){let $=N.toSJIS(this.data[x]);if($>=33088&&$<=40956)$-=33088;else{if(!($>=57408&&$<=60351))throw new Error("Invalid SJIS character: "+this.data[x]+"\nMake sure your charset is UTF-8");$-=49472}$=192*($>>>8&255)+(255&$),k.put($,13)}},Ve.exports=S},3361:(Ve,H)=>{H.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function l(N,S,k){switch(N){case H.Patterns.PATTERN000:return(S+k)%2==0;case H.Patterns.PATTERN001:return S%2==0;case H.Patterns.PATTERN010:return k%3==0;case H.Patterns.PATTERN011:return(S+k)%3==0;case H.Patterns.PATTERN100:return(Math.floor(S/2)+Math.floor(k/3))%2==0;case H.Patterns.PATTERN101:return S*k%2+S*k%3==0;case H.Patterns.PATTERN110:return(S*k%2+S*k%3)%2==0;case H.Patterns.PATTERN111:return(S*k%3+(S+k)%2)%2==0;default:throw new Error("bad maskPattern:"+N)}}H.isValid=function(S){return null!=S&&""!==S&&!isNaN(S)&&S>=0&&S<=7},H.from=function(S){return H.isValid(S)?parseInt(S,10):void 0},H.getPenaltyN1=function(S){const k=S.size;let x=0,$=0,W=0,Y=null,ee=null;for(let L=0;L<k;L++){$=W=0,Y=ee=null;for(let G=0;G<k;G++){let K=S.get(L,G);K===Y?$++:($>=5&&(x+=$-5+3),Y=K,$=1),K=S.get(G,L),K===ee?W++:(W>=5&&(x+=W-5+3),ee=K,W=1)}$>=5&&(x+=$-5+3),W>=5&&(x+=W-5+3)}return x},H.getPenaltyN2=function(S){const k=S.size;let x=0;for(let $=0;$<k-1;$++)for(let W=0;W<k-1;W++){const Y=S.get($,W)+S.get($,W+1)+S.get($+1,W)+S.get($+1,W+1);(4===Y||0===Y)&&x++}return 3*x},H.getPenaltyN3=function(S){const k=S.size;let x=0,$=0,W=0;for(let Y=0;Y<k;Y++){$=W=0;for(let ee=0;ee<k;ee++)$=$<<1&2047|S.get(Y,ee),ee>=10&&(1488===$||93===$)&&x++,W=W<<1&2047|S.get(ee,Y),ee>=10&&(1488===W||93===W)&&x++}return 40*x},H.getPenaltyN4=function(S){let k=0;const x=S.data.length;for(let W=0;W<x;W++)k+=S.data[W];return 10*Math.abs(Math.ceil(100*k/x/5)-10)},H.applyMask=function(S,k){const x=k.size;for(let $=0;$<x;$++)for(let W=0;W<x;W++)k.isReserved(W,$)||k.xor(W,$,l(S,W,$))},H.getBestMask=function(S,k){const x=Object.keys(H.Patterns).length;let $=0,W=1/0;for(let Y=0;Y<x;Y++){k(Y),H.applyMask(Y,S);const ee=H.getPenaltyN1(S)+H.getPenaltyN2(S)+H.getPenaltyN3(S)+H.getPenaltyN4(S);H.applyMask(Y,S),ee<W&&(W=ee,$=Y)}return $}},1677:(Ve,H,R)=>{const l=R(377),N=R(9359);H.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},H.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},H.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},H.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},H.MIXED={bit:-1},H.getCharCountIndicator=function(x,$){if(!x.ccBits)throw new Error("Invalid mode: "+x);if(!l.isValid($))throw new Error("Invalid version: "+$);return $>=1&&$<10?x.ccBits[0]:$<27?x.ccBits[1]:x.ccBits[2]},H.getBestModeForData=function(x){return N.testNumeric(x)?H.NUMERIC:N.testAlphanumeric(x)?H.ALPHANUMERIC:N.testKanji(x)?H.KANJI:H.BYTE},H.toString=function(x){if(x&&x.id)return x.id;throw new Error("Invalid mode")},H.isValid=function(x){return x&&x.bit&&x.ccBits},H.from=function(x,$){if(H.isValid(x))return x;try{return function S(k){if("string"!=typeof k)throw new Error("Param is not a string");switch(k.toLowerCase()){case"numeric":return H.NUMERIC;case"alphanumeric":return H.ALPHANUMERIC;case"kanji":return H.KANJI;case"byte":return H.BYTE;default:throw new Error("Unknown mode: "+k)}}(x)}catch{return $}}},6628:(Ve,H,R)=>{const l=R(1677);function N(S){this.mode=l.NUMERIC,this.data=S.toString()}N.getBitsLength=function(k){return 10*Math.floor(k/3)+(k%3?k%3*3+1:0)},N.prototype.getLength=function(){return this.data.length},N.prototype.getBitsLength=function(){return N.getBitsLength(this.data.length)},N.prototype.write=function(k){let x,$,W;for(x=0;x+3<=this.data.length;x+=3)$=this.data.substr(x,3),W=parseInt($,10),k.put(W,10);const Y=this.data.length-x;Y>0&&($=this.data.substr(x),W=parseInt($,10),k.put(W,3*Y+1))},Ve.exports=N},1744:(Ve,H,R)=>{const l=R(6686);H.mul=function(S,k){const x=new Uint8Array(S.length+k.length-1);for(let $=0;$<S.length;$++)for(let W=0;W<k.length;W++)x[$+W]^=l.mul(S[$],k[W]);return x},H.mod=function(S,k){let x=new Uint8Array(S);for(;x.length-k.length>=0;){const $=x[0];for(let Y=0;Y<k.length;Y++)x[Y]^=l.mul(k[Y],$);let W=0;for(;W<x.length&&0===x[W];)W++;x=x.slice(W)}return x},H.generateECPolynomial=function(S){let k=new Uint8Array([1]);for(let x=0;x<S;x++)k=H.mul(k,new Uint8Array([1,l.exp(x)]));return k}},9460:(Ve,H,R)=>{const l=R(9089),N=R(7424),S=R(4662),k=R(5941),x=R(6214),$=R(6269),W=R(3361),Y=R(3677),ee=R(6289),L=R(1252),G=R(6254),K=R(1677),pe=R(2868);function be(X,ue,_e){const we=X.size,re=G.getEncodedBits(ue,_e);let Le,$e;for(Le=0;Le<15;Le++)$e=1==(re>>Le&1),X.set(Le<6?Le:Le<8?Le+1:we-15+Le,8,$e,!0),X.set(8,Le<8?we-Le-1:Le<9?15-Le-1+1:15-Le-1,$e,!0);X.set(we-8,8,1,!0)}function Ce(X,ue,_e,we){let re;if(Array.isArray(X))re=pe.fromArray(X);else{if("string"!=typeof X)throw new Error("Invalid data");{let Ln=ue;if(!Ln){const rn=pe.rawSplit(X);Ln=L.getBestVersionForData(rn,_e)}re=pe.fromString(X,Ln||40)}}const Le=L.getBestVersionForData(re,_e);if(!Le)throw new Error("The amount of data is too big to be stored in a QR Code");if(ue){if(ue<Le)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+Le+".\n")}else ue=Le;const $e=function xe(X,ue,_e){const we=new S;_e.forEach(function(dt){we.put(dt.mode.bit,4),we.put(dt.getLength(),K.getCharCountIndicator(dt.mode,X)),dt.write(we)});const $e=8*(l.getSymbolTotalCodewords(X)-Y.getTotalCodewordsCount(X,ue));for(we.getLengthInBits()+4<=$e&&we.put(0,4);we.getLengthInBits()%8!=0;)we.putBit(0);const it=($e-we.getLengthInBits())/8;for(let dt=0;dt<it;dt++)we.put(dt%2?17:236,8);return function ie(X,ue,_e){const we=l.getSymbolTotalCodewords(ue),Le=we-Y.getTotalCodewordsCount(ue,_e),$e=Y.getBlocksCount(ue,_e),dt=$e-we%$e,Ln=Math.floor(we/$e),rn=Math.floor(Le/$e),$i=rn+1,Qr=Ln-rn,Ti=new ee(Qr);let Lr=0;const he=new Array($e),ve=new Array($e);let le=0;const fe=new Uint8Array(X.buffer);for(let $t=0;$t<$e;$t++){const qe=$t<dt?rn:$i;he[$t]=fe.slice(Lr,Lr+qe),ve[$t]=Ti.encode(he[$t]),Lr+=qe,le=Math.max(le,qe)}const Me=new Uint8Array(we);let Xe,pt,ye=0;for(Xe=0;Xe<le;Xe++)for(pt=0;pt<$e;pt++)Xe<he[pt].length&&(Me[ye++]=he[pt][Xe]);for(Xe=0;Xe<Qr;Xe++)for(pt=0;pt<$e;pt++)Me[ye++]=ve[pt][Xe];return Me}(we,X,ue)}(ue,_e,re),it=l.getSymbolSize(ue),dt=new k(it);return function ge(X,ue){const _e=X.size,we=$.getPositions(ue);for(let re=0;re<we.length;re++){const Le=we[re][0],$e=we[re][1];for(let it=-1;it<=7;it++)if(!(Le+it<=-1||_e<=Le+it))for(let dt=-1;dt<=7;dt++)$e+dt<=-1||_e<=$e+dt||X.set(Le+it,$e+dt,it>=0&&it<=6&&(0===dt||6===dt)||dt>=0&&dt<=6&&(0===it||6===it)||it>=2&&it<=4&&dt>=2&&dt<=4,!0)}}(dt,ue),function Pe(X){const ue=X.size;for(let _e=8;_e<ue-8;_e++){const we=_e%2==0;X.set(_e,6,we,!0),X.set(6,_e,we,!0)}}(dt),function Se(X,ue){const _e=x.getPositions(ue);for(let we=0;we<_e.length;we++){const re=_e[we][0],Le=_e[we][1];for(let $e=-2;$e<=2;$e++)for(let it=-2;it<=2;it++)X.set(re+$e,Le+it,-2===$e||2===$e||-2===it||2===it||0===$e&&0===it,!0)}}(dt,ue),be(dt,_e,0),ue>=7&&function Te(X,ue){const _e=X.size,we=L.getEncodedBits(ue);let re,Le,$e;for(let it=0;it<18;it++)re=Math.floor(it/3),Le=it%3+_e-8-3,$e=1==(we>>it&1),X.set(re,Le,$e,!0),X.set(Le,re,$e,!0)}(dt,ue),function Ue(X,ue){const _e=X.size;let we=-1,re=_e-1,Le=7,$e=0;for(let it=_e-1;it>0;it-=2)for(6===it&&it--;;){for(let dt=0;dt<2;dt++)if(!X.isReserved(re,it-dt)){let Ln=!1;$e<ue.length&&(Ln=1==(ue[$e]>>>Le&1)),X.set(re,it-dt,Ln),Le--,-1===Le&&($e++,Le=7)}if(re+=we,re<0||_e<=re){re-=we,we=-we;break}}}(dt,$e),isNaN(we)&&(we=W.getBestMask(dt,be.bind(null,dt,_e))),W.applyMask(we,dt),be(dt,_e,we),{modules:dt,version:ue,errorCorrectionLevel:_e,maskPattern:we,segments:re}}H.create=function(ue,_e){if(typeof ue>"u"||""===ue)throw new Error("No input text");let re,Le,we=N.M;return typeof _e<"u"&&(we=N.from(_e.errorCorrectionLevel,N.M),re=L.from(_e.version),Le=W.from(_e.maskPattern),_e.toSJISFunc&&l.setToSJISFunction(_e.toSJISFunc)),Ce(ue,re,we,Le)}},6289:(Ve,H,R)=>{const l=R(1744);function N(S){this.genPoly=void 0,this.degree=S,this.degree&&this.initialize(this.degree)}N.prototype.initialize=function(k){this.degree=k,this.genPoly=l.generateECPolynomial(this.degree)},N.prototype.encode=function(k){if(!this.genPoly)throw new Error("Encoder not initialized");const x=new Uint8Array(k.length+this.degree);x.set(k);const $=l.mod(x,this.genPoly),W=this.degree-$.length;if(W>0){const Y=new Uint8Array(this.degree);return Y.set($,W),Y}return $},Ve.exports=N},9359:(Ve,H)=>{const R="[0-9]+";let N="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";N=N.replace(/u/g,"\\u");const S="(?:(?![A-Z0-9 $%*+\\-./:]|"+N+")(?:.|[\r\n]))+";H.KANJI=new RegExp(N,"g"),H.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),H.BYTE=new RegExp(S,"g"),H.NUMERIC=new RegExp(R,"g"),H.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const k=new RegExp("^"+N+"$"),x=new RegExp("^"+R+"$"),$=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");H.testKanji=function(Y){return k.test(Y)},H.testNumeric=function(Y){return x.test(Y)},H.testAlphanumeric=function(Y){return $.test(Y)}},2868:(Ve,H,R)=>{const l=R(1677),N=R(6628),S=R(1018),k=R(4969),x=R(3264),$=R(9359),W=R(9089),Y=R(243);function ee(Te){return unescape(encodeURIComponent(Te)).length}function L(Te,be,Ue){const xe=[];let ie;for(;null!==(ie=Te.exec(Ue));)xe.push({data:ie[0],index:ie.index,mode:be,length:ie[0].length});return xe}function G(Te){const be=L($.NUMERIC,l.NUMERIC,Te),Ue=L($.ALPHANUMERIC,l.ALPHANUMERIC,Te);let xe,ie;return W.isKanjiModeEnabled()?(xe=L($.BYTE,l.BYTE,Te),ie=L($.KANJI,l.KANJI,Te)):(xe=L($.BYTE_KANJI,l.BYTE,Te),ie=[]),be.concat(Ue,xe,ie).sort(function(X,ue){return X.index-ue.index}).map(function(X){return{data:X.data,mode:X.mode,length:X.length}})}function K(Te,be){switch(be){case l.NUMERIC:return N.getBitsLength(Te);case l.ALPHANUMERIC:return S.getBitsLength(Te);case l.KANJI:return x.getBitsLength(Te);case l.BYTE:return k.getBitsLength(Te)}}function Se(Te,be){let Ue;const xe=l.getBestModeForData(Te);if(Ue=l.from(be,xe),Ue!==l.BYTE&&Ue.bit<xe.bit)throw new Error('"'+Te+'" cannot be encoded with mode '+l.toString(Ue)+".\n Suggested mode is: "+l.toString(xe));switch(Ue===l.KANJI&&!W.isKanjiModeEnabled()&&(Ue=l.BYTE),Ue){case l.NUMERIC:return new N(Te);case l.ALPHANUMERIC:return new S(Te);case l.KANJI:return new x(Te);case l.BYTE:return new k(Te)}}H.fromArray=function(be){return be.reduce(function(Ue,xe){return"string"==typeof xe?Ue.push(Se(xe,null)):xe.data&&Ue.push(Se(xe.data,xe.mode)),Ue},[])},H.fromString=function(be,Ue){const ie=function ge(Te){const be=[];for(let Ue=0;Ue<Te.length;Ue++){const xe=Te[Ue];switch(xe.mode){case l.NUMERIC:be.push([xe,{data:xe.data,mode:l.ALPHANUMERIC,length:xe.length},{data:xe.data,mode:l.BYTE,length:xe.length}]);break;case l.ALPHANUMERIC:be.push([xe,{data:xe.data,mode:l.BYTE,length:xe.length}]);break;case l.KANJI:be.push([xe,{data:xe.data,mode:l.BYTE,length:ee(xe.data)}]);break;case l.BYTE:be.push([{data:xe.data,mode:l.BYTE,length:ee(xe.data)}])}}return be}(G(be,W.isKanjiModeEnabled())),Ce=function Pe(Te,be){const Ue={},xe={start:{}};let ie=["start"];for(let Ce=0;Ce<Te.length;Ce++){const X=Te[Ce],ue=[];for(let _e=0;_e<X.length;_e++){const we=X[_e],re=""+Ce+_e;ue.push(re),Ue[re]={node:we,lastCount:0},xe[re]={};for(let Le=0;Le<ie.length;Le++){const $e=ie[Le];Ue[$e]&&Ue[$e].node.mode===we.mode?(xe[$e][re]=K(Ue[$e].lastCount+we.length,we.mode)-K(Ue[$e].lastCount,we.mode),Ue[$e].lastCount+=we.length):(Ue[$e]&&(Ue[$e].lastCount=we.length),xe[$e][re]=K(we.length,we.mode)+4+l.getCharCountIndicator(we.mode,be))}}ie=ue}for(let Ce=0;Ce<ie.length;Ce++)xe[ie[Ce]].end=0;return{map:xe,table:Ue}}(ie,Ue),X=Y.find_path(Ce.map,"start","end"),ue=[];for(let _e=1;_e<X.length-1;_e++)ue.push(Ce.table[X[_e]].node);return H.fromArray(function pe(Te){return Te.reduce(function(be,Ue){const xe=be.length-1>=0?be[be.length-1]:null;return xe&&xe.mode===Ue.mode?(be[be.length-1].data+=Ue.data,be):(be.push(Ue),be)},[])}(ue))},H.rawSplit=function(be){return H.fromArray(G(be,W.isKanjiModeEnabled()))}},9089:(Ve,H)=>{let R;const l=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];H.getSymbolSize=function(S){if(!S)throw new Error('"version" cannot be null or undefined');if(S<1||S>40)throw new Error('"version" should be in range from 1 to 40');return 4*S+17},H.getSymbolTotalCodewords=function(S){return l[S]},H.getBCHDigit=function(N){let S=0;for(;0!==N;)S++,N>>>=1;return S},H.setToSJISFunction=function(S){if("function"!=typeof S)throw new Error('"toSJISFunc" is not a valid function.');R=S},H.isKanjiModeEnabled=function(){return typeof R<"u"},H.toSJIS=function(S){return R(S)}},377:(Ve,H)=>{H.isValid=function(l){return!isNaN(l)&&l>=1&&l<=40}},1252:(Ve,H,R)=>{const l=R(9089),N=R(3677),S=R(7424),k=R(1677),x=R(377),W=l.getBCHDigit(7973);function ee(K,pe){return k.getCharCountIndicator(K,pe)+4}function L(K,pe){let ge=0;return K.forEach(function(Pe){const Se=ee(Pe.mode,pe);ge+=Se+Pe.getBitsLength()}),ge}H.from=function(pe,ge){return x.isValid(pe)?parseInt(pe,10):ge},H.getCapacity=function(pe,ge,Pe){if(!x.isValid(pe))throw new Error("Invalid QR Code version");typeof Pe>"u"&&(Pe=k.BYTE);const be=8*(l.getSymbolTotalCodewords(pe)-N.getTotalCodewordsCount(pe,ge));if(Pe===k.MIXED)return be;const Ue=be-ee(Pe,pe);switch(Pe){case k.NUMERIC:return Math.floor(Ue/10*3);case k.ALPHANUMERIC:return Math.floor(Ue/11*2);case k.KANJI:return Math.floor(Ue/13);default:return Math.floor(Ue/8)}},H.getBestVersionForData=function(pe,ge){let Pe;const Se=S.from(ge,S.M);if(Array.isArray(pe)){if(pe.length>1)return function G(K,pe){for(let ge=1;ge<=40;ge++)if(L(K,ge)<=H.getCapacity(ge,pe,k.MIXED))return ge}(pe,Se);if(0===pe.length)return 1;Pe=pe[0]}else Pe=pe;return function Y(K,pe,ge){for(let Pe=1;Pe<=40;Pe++)if(pe<=H.getCapacity(Pe,ge,K))return Pe}(Pe.mode,Pe.getLength(),Se)},H.getEncodedBits=function(pe){if(!x.isValid(pe)||pe<7)throw new Error("Invalid QR Code version");let ge=pe<<12;for(;l.getBCHDigit(ge)-W>=0;)ge^=7973<<l.getBCHDigit(ge)-W;return pe<<12|ge}},7030:(Ve,H,R)=>{const l=R(7077);H.render=function(x,$,W){let Y=W,ee=$;typeof Y>"u"&&(!$||!$.getContext)&&(Y=$,$=void 0),$||(ee=function S(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}()),Y=l.getOptions(Y);const L=l.getImageWidth(x.modules.size,Y),G=ee.getContext("2d"),K=G.createImageData(L,L);return l.qrToImageData(K.data,x,Y),function N(k,x,$){k.clearRect(0,0,x.width,x.height),x.style||(x.style={}),x.height=$,x.width=$,x.style.height=$+"px",x.style.width=$+"px"}(G,ee,L),G.putImageData(K,0,0),ee},H.renderToDataURL=function(x,$,W){let Y=W;return typeof Y>"u"&&(!$||!$.getContext)&&(Y=$,$=void 0),Y||(Y={}),H.render(x,$,Y).toDataURL(Y.type||"image/png",(Y.rendererOpts||{}).quality)}},6511:(Ve,H,R)=>{const l=R(7077);function N(x,$){const W=x.a/255,Y=$+'="'+x.hex+'"';return W<1?Y+" "+$+'-opacity="'+W.toFixed(2).slice(1)+'"':Y}function S(x,$,W){let Y=x+$;return typeof W<"u"&&(Y+=" "+W),Y}H.render=function($,W,Y){const ee=l.getOptions(W),L=$.modules.size,G=$.modules.data,K=L+2*ee.margin,pe=ee.color.light.a?"<path "+N(ee.color.light,"fill")+' d="M0 0h'+K+"v"+K+'H0z"/>':"",ge="<path "+N(ee.color.dark,"stroke")+' d="'+function k(x,$,W){let Y="",ee=0,L=!1,G=0;for(let K=0;K<x.length;K++){const pe=Math.floor(K%$),ge=Math.floor(K/$);!pe&&!L&&(L=!0),x[K]?(G++,K>0&&pe>0&&x[K-1]||(Y+=L?S("M",pe+W,.5+ge+W):S("m",ee,0),ee=0,L=!1),pe+1<$&&x[K+1]||(Y+=S("h",G),G=0)):ee++}return Y}(G,L,ee.margin)+'"/>',Te='<svg xmlns="http://www.w3.org/2000/svg" '+(ee.width?'width="'+ee.width+'" height="'+ee.width+'" ':"")+'viewBox="0 0 '+K+" "+K+'" shape-rendering="crispEdges">'+pe+ge+"</svg>\n";return"function"==typeof Y&&Y(null,Te),Te}},7077:(Ve,H)=>{function R(l){if("number"==typeof l&&(l=l.toString()),"string"!=typeof l)throw new Error("Color should be defined as hex string");let N=l.slice().replace("#","").split("");if(N.length<3||5===N.length||N.length>8)throw new Error("Invalid hex color: "+l);(3===N.length||4===N.length)&&(N=Array.prototype.concat.apply([],N.map(function(k){return[k,k]}))),6===N.length&&N.push("F","F");const S=parseInt(N.join(""),16);return{r:S>>24&255,g:S>>16&255,b:S>>8&255,a:255&S,hex:"#"+N.slice(0,6).join("")}}H.getOptions=function(N){N||(N={}),N.color||(N.color={});const k=N.width&&N.width>=21?N.width:void 0;return{width:k,scale:k?4:N.scale||4,margin:typeof N.margin>"u"||null===N.margin||N.margin<0?4:N.margin,color:{dark:R(N.color.dark||"#000000ff"),light:R(N.color.light||"#ffffffff")},type:N.type,rendererOpts:N.rendererOpts||{}}},H.getScale=function(N,S){return S.width&&S.width>=N+2*S.margin?S.width/(N+2*S.margin):S.scale},H.getImageWidth=function(N,S){const k=H.getScale(N,S);return Math.floor((N+2*S.margin)*k)},H.qrToImageData=function(N,S,k){const x=S.modules.size,$=S.modules.data,W=H.getScale(x,k),Y=Math.floor((x+2*k.margin)*W),ee=k.margin*W,L=[k.color.light,k.color.dark];for(let G=0;G<Y;G++)for(let K=0;K<Y;K++){let pe=4*(G*Y+K),ge=k.color.light;G>=ee&&K>=ee&&G<Y-ee&&K<Y-ee&&(ge=L[$[Math.floor((G-ee)/W)*x+Math.floor((K-ee)/W)]?1:0]),N[pe++]=ge.r,N[pe++]=ge.g,N[pe++]=ge.b,N[pe]=ge.a}}},4412:(Ve,H,R)=>{"use strict";R.d(H,{t:()=>N});var l=R(1413);class N extends l.B{constructor(k){super(),this._value=k}get value(){return this.getValue()}_subscribe(k){const x=super._subscribe(k);return!x.closed&&k.next(this._value),x}getValue(){const{hasError:k,thrownError:x,_value:$}=this;if(k)throw x;return this._throwIfClosed(),$}next(k){super.next(this._value=k)}}},1985:(Ve,H,R)=>{"use strict";R.d(H,{c:()=>Y});var l=R(7707),N=R(8359),S=R(3494),k=R(1203),x=R(1026),$=R(8071),W=R(9786);let Y=(()=>{class K{constructor(ge){ge&&(this._subscribe=ge)}lift(ge){const Pe=new K;return Pe.source=this,Pe.operator=ge,Pe}subscribe(ge,Pe,Se){const Te=function G(K){return K&&K instanceof l.vU||function L(K){return K&&(0,$.T)(K.next)&&(0,$.T)(K.error)&&(0,$.T)(K.complete)}(K)&&(0,N.Uv)(K)}(ge)?ge:new l.Ms(ge,Pe,Se);return(0,W.Y)(()=>{const{operator:be,source:Ue}=this;Te.add(be?be.call(Te,Ue):Ue?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(ge){try{return this._subscribe(ge)}catch(Pe){ge.error(Pe)}}forEach(ge,Pe){return new(Pe=ee(Pe))((Se,Te)=>{const be=new l.Ms({next:Ue=>{try{ge(Ue)}catch(xe){Te(xe),be.unsubscribe()}},error:Te,complete:Se});this.subscribe(be)})}_subscribe(ge){var Pe;return null===(Pe=this.source)||void 0===Pe?void 0:Pe.subscribe(ge)}[S.s](){return this}pipe(...ge){return(0,k.m)(ge)(this)}toPromise(ge){return new(ge=ee(ge))((Pe,Se)=>{let Te;this.subscribe(be=>Te=be,be=>Se(be),()=>Pe(Te))})}}return K.create=pe=>new K(pe),K})();function ee(K){var pe;return null!==(pe=K??x.$.Promise)&&void 0!==pe?pe:Promise}},1413:(Ve,H,R)=>{"use strict";R.d(H,{B:()=>W});var l=R(1985),N=R(8359);const k=(0,R(1853).L)(ee=>function(){ee(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=R(7908),$=R(9786);let W=(()=>{class ee extends l.c{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(G){const K=new Y(this,this);return K.operator=G,K}_throwIfClosed(){if(this.closed)throw new k}next(G){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const K of this.currentObservers)K.next(G)}})}error(G){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=G;const{observers:K}=this;for(;K.length;)K.shift().error(G)}})}complete(){(0,$.Y)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:G}=this;for(;G.length;)G.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var G;return(null===(G=this.observers)||void 0===G?void 0:G.length)>0}_trySubscribe(G){return this._throwIfClosed(),super._trySubscribe(G)}_subscribe(G){return this._throwIfClosed(),this._checkFinalizedStatuses(G),this._innerSubscribe(G)}_innerSubscribe(G){const{hasError:K,isStopped:pe,observers:ge}=this;return K||pe?N.Kn:(this.currentObservers=null,ge.push(G),new N.yU(()=>{this.currentObservers=null,(0,x.o)(ge,G)}))}_checkFinalizedStatuses(G){const{hasError:K,thrownError:pe,isStopped:ge}=this;K?G.error(pe):ge&&G.complete()}asObservable(){const G=new l.c;return G.source=this,G}}return ee.create=(L,G)=>new Y(L,G),ee})();class Y extends W{constructor(L,G){super(),this.destination=L,this.source=G}next(L){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.next)||void 0===K||K.call(G,L)}error(L){var G,K;null===(K=null===(G=this.destination)||void 0===G?void 0:G.error)||void 0===K||K.call(G,L)}complete(){var L,G;null===(G=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===G||G.call(L)}_subscribe(L){var G,K;return null!==(K=null===(G=this.source)||void 0===G?void 0:G.subscribe(L))&&void 0!==K?K:N.Kn}}},7707:(Ve,H,R)=>{"use strict";R.d(H,{Ms:()=>Se,vU:()=>K});var l=R(8071),N=R(8359),S=R(1026),k=R(5334),x=R(5343);const $=ee("C",void 0,void 0);function ee(ie,Ce,X){return{kind:ie,value:Ce,error:X}}var L=R(9270),G=R(9786);class K extends N.yU{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,N.Uv)(Ce)&&Ce.add(this)):this.destination=xe}static create(Ce,X,ue){return new Se(Ce,X,ue)}next(Ce){this.isStopped?Ue(function Y(ie){return ee("N",ie,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Ue(function W(ie){return ee("E",void 0,ie)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Ue($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const pe=Function.prototype.bind;function ge(ie,Ce){return pe.call(ie,Ce)}class Pe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:X}=this;if(X.next)try{X.next(Ce)}catch(ue){Te(ue)}}error(Ce){const{partialObserver:X}=this;if(X.error)try{X.error(Ce)}catch(ue){Te(ue)}else Te(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(X){Te(X)}}}class Se extends K{constructor(Ce,X,ue){let _e;if(super(),(0,l.T)(Ce)||!Ce)_e={next:Ce??void 0,error:X??void 0,complete:ue??void 0};else{let we;this&&S.$.useDeprecatedNextContext?(we=Object.create(Ce),we.unsubscribe=()=>this.unsubscribe(),_e={next:Ce.next&&ge(Ce.next,we),error:Ce.error&&ge(Ce.error,we),complete:Ce.complete&&ge(Ce.complete,we)}):_e=Ce}this.destination=new Pe(_e)}}function Te(ie){S.$.useDeprecatedSynchronousErrorHandling?(0,G.l)(ie):(0,k.m)(ie)}function Ue(ie,Ce){const{onStoppedNotification:X}=S.$;X&&L.f.setTimeout(()=>X(ie,Ce))}const xe={closed:!0,next:x.l,error:function be(ie){throw ie},complete:x.l}},8359:(Ve,H,R)=>{"use strict";R.d(H,{Kn:()=>$,yU:()=>x,Uv:()=>W});var l=R(8071);const S=(0,R(1853).L)(ee=>function(G){ee(this),this.message=G?`${G.length} errors occurred during unsubscription:\n${G.map((K,pe)=>`${pe+1}) ${K.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=G});var k=R(7908);class x{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:G}=this;if(G)if(this._parentage=null,Array.isArray(G))for(const ge of G)ge.remove(this);else G.remove(this);const{initialTeardown:K}=this;if((0,l.T)(K))try{K()}catch(ge){L=ge instanceof S?ge.errors:[ge]}const{_finalizers:pe}=this;if(pe){this._finalizers=null;for(const ge of pe)try{Y(ge)}catch(Pe){L=L??[],Pe instanceof S?L=[...L,...Pe.errors]:L.push(Pe)}}if(L)throw new S(L)}}add(L){var G;if(L&&L!==this)if(this.closed)Y(L);else{if(L instanceof x){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(G=this._finalizers)&&void 0!==G?G:[]).push(L)}}_hasParent(L){const{_parentage:G}=this;return G===L||Array.isArray(G)&&G.includes(L)}_addParent(L){const{_parentage:G}=this;this._parentage=Array.isArray(G)?(G.push(L),G):G?[G,L]:L}_removeParent(L){const{_parentage:G}=this;G===L?this._parentage=null:Array.isArray(G)&&(0,k.o)(G,L)}remove(L){const{_finalizers:G}=this;G&&(0,k.o)(G,L),L instanceof x&&L._removeParent(this)}}x.EMPTY=(()=>{const ee=new x;return ee.closed=!0,ee})();const $=x.EMPTY;function W(ee){return ee instanceof x||ee&&"closed"in ee&&(0,l.T)(ee.remove)&&(0,l.T)(ee.add)&&(0,l.T)(ee.unsubscribe)}function Y(ee){(0,l.T)(ee)?ee():ee.unsubscribe()}},1026:(Ve,H,R)=>{"use strict";R.d(H,{$:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},983:(Ve,H,R)=>{"use strict";R.d(H,{w:()=>N});const N=new(R(1985).c)(x=>x.complete())},8455:(Ve,H,R)=>{"use strict";R.d(H,{H:()=>Ce});var l=R(8750),N=R(941),S=R(6745),$=R(1985),Y=R(4761),ee=R(8071),L=R(5225);function K(X,ue){if(!X)throw new Error("Iterable cannot be null");return new $.c(_e=>{(0,L.N)(_e,ue,()=>{const we=X[Symbol.asyncIterator]();(0,L.N)(_e,ue,()=>{we.next().then(re=>{re.done?_e.complete():_e.next(re.value)})},0,!0)})})}var pe=R(5055),ge=R(9858),Pe=R(7441),Se=R(5397),Te=R(7953),be=R(591),Ue=R(5196);function Ce(X,ue){return ue?function ie(X,ue){if(null!=X){if((0,pe.l)(X))return function k(X,ue){return(0,l.Tg)(X).pipe((0,S._)(ue),(0,N.Q)(ue))}(X,ue);if((0,Pe.X)(X))return function W(X,ue){return new $.c(_e=>{let we=0;return ue.schedule(function(){we===X.length?_e.complete():(_e.next(X[we++]),_e.closed||this.schedule())})})}(X,ue);if((0,ge.y)(X))return function x(X,ue){return(0,l.Tg)(X).pipe((0,S._)(ue),(0,N.Q)(ue))}(X,ue);if((0,Te.T)(X))return K(X,ue);if((0,Se.x)(X))return function G(X,ue){return new $.c(_e=>{let we;return(0,L.N)(_e,ue,()=>{we=X[Y.l](),(0,L.N)(_e,ue,()=>{let re,Le;try{({value:re,done:Le}=we.next())}catch($e){return void _e.error($e)}Le?_e.complete():_e.next(re)},0,!0)}),()=>(0,ee.T)(we?.return)&&we.return()})}(X,ue);if((0,Ue.U)(X))return function xe(X,ue){return K((0,Ue.C)(X),ue)}(X,ue)}throw(0,be.L)(X)}(X,ue):(0,l.Tg)(X)}},8750:(Ve,H,R)=>{"use strict";R.d(H,{Tg:()=>pe});var l=R(1635),N=R(7441),S=R(9858),k=R(1985),x=R(5055),$=R(7953),W=R(591),Y=R(5397),ee=R(5196),L=R(8071),G=R(5334),K=R(3494);function pe(ie){if(ie instanceof k.c)return ie;if(null!=ie){if((0,x.l)(ie))return function ge(ie){return new k.c(Ce=>{const X=ie[K.s]();if((0,L.T)(X.subscribe))return X.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ie);if((0,N.X)(ie))return function Pe(ie){return new k.c(Ce=>{for(let X=0;X<ie.length&&!Ce.closed;X++)Ce.next(ie[X]);Ce.complete()})}(ie);if((0,S.y)(ie))return function Se(ie){return new k.c(Ce=>{ie.then(X=>{Ce.closed||(Ce.next(X),Ce.complete())},X=>Ce.error(X)).then(null,G.m)})}(ie);if((0,$.T)(ie))return be(ie);if((0,Y.x)(ie))return function Te(ie){return new k.c(Ce=>{for(const X of ie)if(Ce.next(X),Ce.closed)return;Ce.complete()})}(ie);if((0,ee.U)(ie))return function Ue(ie){return be((0,ee.C)(ie))}(ie)}throw(0,W.L)(ie)}function be(ie){return new k.c(Ce=>{(function xe(ie,Ce){var X,ue,_e,we;return(0,l.sH)(this,void 0,void 0,function*(){try{for(X=(0,l.xN)(ie);!(ue=yield X.next()).done;)if(Ce.next(ue.value),Ce.closed)return}catch(re){_e={error:re}}finally{try{ue&&!ue.done&&(we=X.return)&&(yield we.call(X))}finally{if(_e)throw _e.error}}Ce.complete()})})(ie,Ce).catch(X=>Ce.error(X))})}},7786:(Ve,H,R)=>{"use strict";R.d(H,{h:()=>$});var l=R(6365),N=R(8750),S=R(983),k=R(9326),x=R(8455);function $(...W){const Y=(0,k.lI)(W),ee=(0,k.R0)(W,1/0),L=W;return L.length?1===L.length?(0,N.Tg)(L[0]):(0,l.U)(ee)((0,x.H)(L,Y)):S.w}},7673:(Ve,H,R)=>{"use strict";R.d(H,{of:()=>S});var l=R(9326),N=R(8455);function S(...k){const x=(0,l.lI)(k);return(0,N.H)(k,x)}},4360:(Ve,H,R)=>{"use strict";R.d(H,{_:()=>N});var l=R(7707);function N(k,x,$,W,Y){return new S(k,x,$,W,Y)}class S extends l.vU{constructor(x,$,W,Y,ee,L){super(x),this.onFinalize=ee,this.shouldUnsubscribe=L,this._next=$?function(G){try{$(G)}catch(K){x.error(K)}}:super._next,this._error=Y?function(G){try{Y(G)}catch(K){x.error(K)}finally{this.unsubscribe()}}:super._error,this._complete=W?function(){try{W()}catch(G){x.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:$}=this;super.unsubscribe(),!$&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},3294:(Ve,H,R)=>{"use strict";R.d(H,{F:()=>k});var l=R(3669),N=R(9974),S=R(4360);function k($,W=l.D){return $=$??x,(0,N.N)((Y,ee)=>{let L,G=!0;Y.subscribe((0,S._)(ee,K=>{const pe=W(K);(G||!$(L,pe))&&(G=!1,L=pe,ee.next(K))}))})}function x($,W){return $===W}},6354:(Ve,H,R)=>{"use strict";R.d(H,{T:()=>S});var l=R(9974),N=R(4360);function S(k,x){return(0,l.N)(($,W)=>{let Y=0;$.subscribe((0,N._)(W,ee=>{W.next(k.call(x,ee,Y++))}))})}},6365:(Ve,H,R)=>{"use strict";R.d(H,{U:()=>S});var l=R(1397),N=R(3669);function S(k=1/0){return(0,l.Z)(N.D,k)}},1397:(Ve,H,R)=>{"use strict";R.d(H,{Z:()=>Y});var l=R(6354),N=R(8750),S=R(9974),k=R(5225),x=R(4360),W=R(8071);function Y(ee,L,G=1/0){return(0,W.T)(L)?Y((K,pe)=>(0,l.T)((ge,Pe)=>L(K,ge,pe,Pe))((0,N.Tg)(ee(K,pe))),G):("number"==typeof L&&(G=L),(0,S.N)((K,pe)=>function $(ee,L,G,K,pe,ge,Pe,Se){const Te=[];let be=0,Ue=0,xe=!1;const ie=()=>{xe&&!Te.length&&!be&&L.complete()},Ce=ue=>be<K?X(ue):Te.push(ue),X=ue=>{ge&&L.next(ue),be++;let _e=!1;(0,N.Tg)(G(ue,Ue++)).subscribe((0,x._)(L,we=>{pe?.(we),ge?Ce(we):L.next(we)},()=>{_e=!0},void 0,()=>{if(_e)try{for(be--;Te.length&&be<K;){const we=Te.shift();Pe?(0,k.N)(L,Pe,()=>X(we)):X(we)}ie()}catch(we){L.error(we)}}))};return ee.subscribe((0,x._)(L,Ce,()=>{xe=!0,ie()})),()=>{Se?.()}}(K,pe,ee,G)))}},941:(Ve,H,R)=>{"use strict";R.d(H,{Q:()=>k});var l=R(5225),N=R(9974),S=R(4360);function k(x,$=0){return(0,N.N)((W,Y)=>{W.subscribe((0,S._)(Y,ee=>(0,l.N)(Y,x,()=>Y.next(ee),$),()=>(0,l.N)(Y,x,()=>Y.complete(),$),ee=>(0,l.N)(Y,x,()=>Y.error(ee),$)))})}},7647:(Ve,H,R)=>{"use strict";R.d(H,{u:()=>x});var l=R(8750),N=R(1413),S=R(7707),k=R(9974);function x(W={}){const{connector:Y=(()=>new N.B),resetOnError:ee=!0,resetOnComplete:L=!0,resetOnRefCountZero:G=!0}=W;return K=>{let pe,ge,Pe,Se=0,Te=!1,be=!1;const Ue=()=>{ge?.unsubscribe(),ge=void 0},xe=()=>{Ue(),pe=Pe=void 0,Te=be=!1},ie=()=>{const Ce=pe;xe(),Ce?.unsubscribe()};return(0,k.N)((Ce,X)=>{Se++,!be&&!Te&&Ue();const ue=Pe=Pe??Y();X.add(()=>{Se--,0===Se&&!be&&!Te&&(ge=$(ie,G))}),ue.subscribe(X),!pe&&Se>0&&(pe=new S.Ms({next:_e=>ue.next(_e),error:_e=>{be=!0,Ue(),ge=$(xe,ee,_e),ue.error(_e)},complete:()=>{Te=!0,Ue(),ge=$(xe,L),ue.complete()}}),(0,l.Tg)(Ce).subscribe(pe))})(K)}}function $(W,Y,...ee){if(!0===Y)return void W();if(!1===Y)return;const L=new S.Ms({next:()=>{L.unsubscribe(),W()}});return(0,l.Tg)(Y(...ee)).subscribe(L)}},6745:(Ve,H,R)=>{"use strict";R.d(H,{_:()=>N});var l=R(9974);function N(S,k=0){return(0,l.N)((x,$)=>{$.add(S.schedule(()=>x.subscribe($),k))})}},5558:(Ve,H,R)=>{"use strict";R.d(H,{n:()=>k});var l=R(8750),N=R(9974),S=R(4360);function k(x,$){return(0,N.N)((W,Y)=>{let ee=null,L=0,G=!1;const K=()=>G&&!ee&&Y.complete();W.subscribe((0,S._)(Y,pe=>{ee?.unsubscribe();let ge=0;const Pe=L++;(0,l.Tg)(x(pe,Pe)).subscribe(ee=(0,S._)(Y,Se=>Y.next($?$(pe,Se,Pe,ge++):Se),()=>{ee=null,K()}))},()=>{G=!0,K()}))})}},8141:(Ve,H,R)=>{"use strict";R.d(H,{M:()=>x});var l=R(8071),N=R(9974),S=R(4360),k=R(3669);function x($,W,Y){const ee=(0,l.T)($)||W||Y?{next:$,error:W,complete:Y}:$;return ee?(0,N.N)((L,G)=>{var K;null===(K=ee.subscribe)||void 0===K||K.call(ee);let pe=!0;L.subscribe((0,S._)(G,ge=>{var Pe;null===(Pe=ee.next)||void 0===Pe||Pe.call(ee,ge),G.next(ge)},()=>{var ge;pe=!1,null===(ge=ee.complete)||void 0===ge||ge.call(ee),G.complete()},ge=>{var Pe;pe=!1,null===(Pe=ee.error)||void 0===Pe||Pe.call(ee,ge),G.error(ge)},()=>{var ge,Pe;pe&&(null===(ge=ee.unsubscribe)||void 0===ge||ge.call(ee)),null===(Pe=ee.finalize)||void 0===Pe||Pe.call(ee)}))}):k.D}},6780:(Ve,H,R)=>{"use strict";R.d(H,{R:()=>x});var l=R(8359);class N extends l.yU{constructor(W,Y){super()}schedule(W,Y=0){return this}}const S={setInterval($,W,...Y){const{delegate:ee}=S;return ee?.setInterval?ee.setInterval($,W,...Y):setInterval($,W,...Y)},clearInterval($){const{delegate:W}=S;return(W?.clearInterval||clearInterval)($)},delegate:void 0};var k=R(7908);class x extends N{constructor(W,Y){super(W,Y),this.scheduler=W,this.work=Y,this.pending=!1}schedule(W,Y=0){var ee;if(this.closed)return this;this.state=W;const L=this.id,G=this.scheduler;return null!=L&&(this.id=this.recycleAsyncId(G,L,Y)),this.pending=!0,this.delay=Y,this.id=null!==(ee=this.id)&&void 0!==ee?ee:this.requestAsyncId(G,this.id,Y),this}requestAsyncId(W,Y,ee=0){return S.setInterval(W.flush.bind(W,this),ee)}recycleAsyncId(W,Y,ee=0){if(null!=ee&&this.delay===ee&&!1===this.pending)return Y;null!=Y&&S.clearInterval(Y)}execute(W,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ee=this._execute(W,Y);if(ee)return ee;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(W,Y){let L,ee=!1;try{this.work(W)}catch(G){ee=!0,L=G||new Error("Scheduled action threw falsy error")}if(ee)return this.unsubscribe(),L}unsubscribe(){if(!this.closed){const{id:W,scheduler:Y}=this,{actions:ee}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,k.o)(ee,this),null!=W&&(this.id=this.recycleAsyncId(Y,W,null)),this.delay=null,super.unsubscribe()}}}},9687:(Ve,H,R)=>{"use strict";R.d(H,{q:()=>S});var l=R(6129);class N{constructor(x,$=N.now){this.schedulerActionCtor=x,this.now=$}schedule(x,$=0,W){return new this.schedulerActionCtor(this,x).schedule(W,$)}}N.now=l.U.now;class S extends N{constructor(x,$=N.now){super(x,$),this.actions=[],this._active=!1}flush(x){const{actions:$}=this;if(this._active)return void $.push(x);let W;this._active=!0;do{if(W=x.execute(x.state,x.delay))break}while(x=$.shift());if(this._active=!1,W){for(;x=$.shift();)x.unsubscribe();throw W}}}},3236:(Ve,H,R)=>{"use strict";R.d(H,{E:()=>S,b:()=>k});var l=R(6780);const S=new(R(9687).q)(l.R),k=S},6129:(Ve,H,R)=>{"use strict";R.d(H,{U:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},9270:(Ve,H,R)=>{"use strict";R.d(H,{f:()=>l});const l={setTimeout(N,S,...k){const{delegate:x}=l;return x?.setTimeout?x.setTimeout(N,S,...k):setTimeout(N,S,...k)},clearTimeout(N){const{delegate:S}=l;return(S?.clearTimeout||clearTimeout)(N)},delegate:void 0}},4761:(Ve,H,R)=>{"use strict";R.d(H,{l:()=>N});const N=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},3494:(Ve,H,R)=>{"use strict";R.d(H,{s:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9326:(Ve,H,R)=>{"use strict";R.d(H,{R0:()=>$,lI:()=>x,ms:()=>k});var l=R(8071),N=R(9470);function S(W){return W[W.length-1]}function k(W){return(0,l.T)(S(W))?W.pop():void 0}function x(W){return(0,N.m)(S(W))?W.pop():void 0}function $(W,Y){return"number"==typeof S(W)?W.pop():Y}},7908:(Ve,H,R)=>{"use strict";function l(N,S){if(N){const k=N.indexOf(S);0<=k&&N.splice(k,1)}}R.d(H,{o:()=>l})},1853:(Ve,H,R)=>{"use strict";function l(N){const k=N(x=>{Error.call(x),x.stack=(new Error).stack});return k.prototype=Object.create(Error.prototype),k.prototype.constructor=k,k}R.d(H,{L:()=>l})},9786:(Ve,H,R)=>{"use strict";R.d(H,{Y:()=>S,l:()=>k});var l=R(1026);let N=null;function S(x){if(l.$.useDeprecatedSynchronousErrorHandling){const $=!N;if($&&(N={errorThrown:!1,error:null}),x(),$){const{errorThrown:W,error:Y}=N;if(N=null,W)throw Y}}else x()}function k(x){l.$.useDeprecatedSynchronousErrorHandling&&N&&(N.errorThrown=!0,N.error=x)}},5225:(Ve,H,R)=>{"use strict";function l(N,S,k,x=0,$=!1){const W=S.schedule(function(){k(),$?N.add(this.schedule(null,x)):this.unsubscribe()},x);if(N.add(W),!$)return W}R.d(H,{N:()=>l})},3669:(Ve,H,R)=>{"use strict";function l(N){return N}R.d(H,{D:()=>l})},7441:(Ve,H,R)=>{"use strict";R.d(H,{X:()=>l});const l=N=>N&&"number"==typeof N.length&&"function"!=typeof N},7953:(Ve,H,R)=>{"use strict";R.d(H,{T:()=>N});var l=R(8071);function N(S){return Symbol.asyncIterator&&(0,l.T)(S?.[Symbol.asyncIterator])}},8071:(Ve,H,R)=>{"use strict";function l(N){return"function"==typeof N}R.d(H,{T:()=>l})},5055:(Ve,H,R)=>{"use strict";R.d(H,{l:()=>S});var l=R(3494),N=R(8071);function S(k){return(0,N.T)(k[l.s])}},5397:(Ve,H,R)=>{"use strict";R.d(H,{x:()=>S});var l=R(4761),N=R(8071);function S(k){return(0,N.T)(k?.[l.l])}},9858:(Ve,H,R)=>{"use strict";R.d(H,{y:()=>N});var l=R(8071);function N(S){return(0,l.T)(S?.then)}},5196:(Ve,H,R)=>{"use strict";R.d(H,{C:()=>S,U:()=>k});var l=R(1635),N=R(8071);function S(x){return(0,l.AQ)(this,arguments,function*(){const W=x.getReader();try{for(;;){const{value:Y,done:ee}=yield(0,l.N3)(W.read());if(ee)return yield(0,l.N3)(void 0);yield yield(0,l.N3)(Y)}}finally{W.releaseLock()}})}function k(x){return(0,N.T)(x?.getReader)}},9470:(Ve,H,R)=>{"use strict";R.d(H,{m:()=>N});var l=R(8071);function N(S){return S&&(0,l.T)(S.schedule)}},9974:(Ve,H,R)=>{"use strict";R.d(H,{N:()=>S,S:()=>N});var l=R(8071);function N(k){return(0,l.T)(k?.lift)}function S(k){return x=>{if(N(x))return x.lift(function($){try{return k($,this)}catch(W){this.error(W)}});throw new TypeError("Unable to lift unknown Observable type")}}},5343:(Ve,H,R)=>{"use strict";function l(){}R.d(H,{l:()=>l})},1203:(Ve,H,R)=>{"use strict";R.d(H,{F:()=>N,m:()=>S});var l=R(3669);function N(...k){return S(k)}function S(k){return 0===k.length?l.D:1===k.length?k[0]:function($){return k.reduce((W,Y)=>Y(W),$)}}},5334:(Ve,H,R)=>{"use strict";R.d(H,{m:()=>S});var l=R(1026),N=R(9270);function S(k){N.f.setTimeout(()=>{const{onUnhandledError:x}=l.$;if(!x)throw k;x(k)})}},591:(Ve,H,R)=>{"use strict";function l(N){return new TypeError(`You provided ${null!==N&&"object"==typeof N?"an invalid object":`'${N}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(H,{L:()=>l})},7705:(Ve,H,R)=>{"use strict";R.d(H,{$C:()=>Xa,$GK:()=>lt,$K3:()=>$p,AVh:()=>_v,Agw:()=>zg,BIS:()=>PE,BMQ:()=>TC,C4Q:()=>Qu,Co$:()=>Yw,DNE:()=>VC,EFF:()=>ET,EJ8:()=>Ja,FsC:()=>fc,G2t:()=>Kt,GBs:()=>r0,GFd:()=>_h,H3F:()=>Bp,H5H:()=>Rv,H8p:()=>sy,HJs:()=>pI,Hbi:()=>sI,JRh:()=>La,JZv:()=>qt,Jv_:()=>Wm,KH2:()=>Va,KVO:()=>Wt,L39:()=>JA,LfX:()=>vt,Lme:()=>Mh,MKu:()=>W0,NEm:()=>g_,NYb:()=>Wp,Njj:()=>jc,O8t:()=>cg,OA$:()=>po,Ocv:()=>Lb,Ol2:()=>Zw,PLl:()=>ly,QTQ:()=>Sy,Ql9:()=>C0,QuC:()=>ds,R7$:()=>Ay,RV6:()=>Bu,Rfq:()=>Pe,RxE:()=>HE,SKi:()=>Or,SpI:()=>j,TL$:()=>pE,Tbb:()=>K,VBU:()=>qn,Vns:()=>Ua,Vt3:()=>zy,WHO:()=>P0,WQX:()=>Et,XpG:()=>qC,Xx1:()=>jd,Y8G:()=>iv,Z63:()=>bu,ZvI:()=>ql,_9s:()=>yy,_q3:()=>Jp,aKT:()=>js,aNF:()=>eb,bIt:()=>uv,bc$:()=>nD,bkB:()=>jo,c1b:()=>Xu,czy:()=>hu,e01:()=>zb,eBV:()=>pl,fpN:()=>K0,gRc:()=>tc,gXe:()=>et,giA:()=>Zs,hnV:()=>Fb,iLQ:()=>od,j41:()=>Im,jDH:()=>qe,jNT:()=>up,k0s:()=>cp,kS0:()=>Vd,kdw:()=>Da,lsd:()=>yb,mGM:()=>_b,mq5:()=>ww,n$t:()=>Lf,nKC:()=>tt,naY:()=>VA,nrm:()=>jC,o8S:()=>Wa,oH4:()=>x0,plB:()=>a0,rXU:()=>ch,sFG:()=>uD,sZ2:()=>Wg,uvJ:()=>Cs,w6W:()=>Xw,wOt:()=>ie,wni:()=>s0,xGo:()=>Eg,xe9:()=>Ha,xvI:()=>Wf,zZn:()=>Bo,zcH:()=>Ru,zjR:()=>zC});var l=R(1413),N=R(8359),S=R(1985),k=R(7786),x=R(4412),$=R(7673),W=R(7647),Y=R(5558),ee=R(3294);function L(r){for(let s in r)if(r[s]===L)return s;throw Error("Could not find renamed property on target object.")}function G(r,s){for(const o in s)s.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(r[o]=s[o])}function K(r){if("string"==typeof r)return r;if(Array.isArray(r))return"["+r.map(K).join(", ")+"]";if(null==r)return""+r;if(r.overriddenName)return`${r.overriddenName}`;if(r.name)return`${r.name}`;const s=r.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function pe(r,s){return null==r||""===r?null===s?"":s:null==s||""===s?r:r+" "+s}const ge=L({__forward_ref__:L});function Pe(r){return r.__forward_ref__=Pe,r.toString=function(){return K(this())},r}function Se(r){return Te(r)?r():r}function Te(r){return"function"==typeof r&&r.hasOwnProperty(ge)&&r.__forward_ref__===Pe}function be(r){return r&&!!r.\u0275providers}const xe="https://g.co/ng/security#xss";class ie extends Error{constructor(s,o){super(function Ce(r,s){return`NG0${Math.abs(r)}${s?": "+s:""}`}(s,o)),this.code=s}}function X(r){return"string"==typeof r?r:null==r?"":String(r)}function Le(r,s){throw new ie(-201,!1)}function Me(r,s){null==r&&function ye(r,s,o,c){throw new Error(`ASSERTION ERROR: ${r}`+(null==c?"":` [Expected=> ${o} ${c} ${s} <=Actual]`))}(s,r,null,"!=")}function qe(r){return{token:r.token,providedIn:r.providedIn||null,factory:r.factory,value:void 0}}function Kt(r){return{providers:r.providers||[],imports:r.imports||[]}}function hr(r){return mn(r,En)||mn(r,cs)}function vt(r){return null!==hr(r)}function mn(r,s){return r.hasOwnProperty(s)?r[s]:null}function Vn(r){return r&&(r.hasOwnProperty(Vr)||r.hasOwnProperty(ia))?r[Vr]:null}const En=L({\u0275prov:L}),Vr=L({\u0275inj:L}),cs=L({ngInjectableDef:L}),ia=L({ngInjectorDef:L});var lt=function(r){return r[r.Default=0]="Default",r[r.Host=1]="Host",r[r.Self=2]="Self",r[r.SkipSelf=4]="SkipSelf",r[r.Optional=8]="Optional",r}(lt||{});let Pt;function Zt(r){const s=Pt;return Pt=r,s}function pn(r,s,o){const c=hr(r);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:o&lt.Optional?null:void 0!==s?s:void Le(K(r))}const qt=globalThis;class tt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=qe({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const _n={},yi="__NG_DI_FLAG__",pr="ngTempTokenPath",z=/\n/gm,Re="__source";let de;function ht(r){const s=de;return de=r,s}function Lt(r,s=lt.Default){if(void 0===de)throw new ie(-203,!1);return null===de?pn(r,void 0,s):de.get(r,s&lt.Optional?null:void 0,s)}function Wt(r,s=lt.Default){return(function _t(){return Pt}()||Lt)(Se(r),s)}function Et(r,s=lt.Default){return Wt(r,kt(s))}function kt(r){return typeof r>"u"||"number"==typeof r?r:0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)}function Kn(r){const s=[];for(let o=0;o<r.length;o++){const c=Se(r[o]);if(Array.isArray(c)){if(0===c.length)throw new ie(900,!1);let d,f=lt.Default;for(let m=0;m<c.length;m++){const E=c[m],b=Wi(E);"number"==typeof b?-1===b?d=E.token:f|=b:d=E}s.push(Wt(d,f))}else s.push(Wt(c))}return s}function Cr(r,s){return r[yi]=s,r.prototype[yi]=s,r}function Wi(r){return r[yi]}function ce(r){return{toString:r}.toString()}var Fe=function(r){return r[r.OnPush=0]="OnPush",r[r.Default=1]="Default",r}(Fe||{}),et=function(r){return r[r.Emulated=0]="Emulated",r[r.None=2]="None",r[r.ShadowDom=3]="ShadowDom",r}(et||{});const st={},Ye=[],Ht=L({\u0275cmp:L}),Dn=L({\u0275dir:L}),Cn=L({\u0275pipe:L}),Si=L({\u0275mod:L}),wr=L({\u0275fac:L}),zi=L({__NG_ELEMENT_ID__:L}),sc=L({__NG_ENV_ID__:L});function so(r,s,o){let c=r.length;for(;;){const d=r.indexOf(s,o);if(-1===d)return d;if(0===d||r.charCodeAt(d-1)<=32){const f=s.length;if(d+f===c||r.charCodeAt(d+f)<=32)return d}o=d+1}}function za(r,s,o){let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const f=o[c++],m=o[c++],E=o[c++];r.setAttribute(s,m,E,f)}else{const f=d,m=o[++c];Ka(f)?r.setProperty(s,f,m):r.setAttribute(s,f,m),c++}}return c}function Yr(r){return 3===r||4===r||6===r}function Ka(r){return 64===r.charCodeAt(0)}function br(r,s){if(null!==s&&0!==s.length)if(null===r||0===r.length)r=s.slice();else{let o=-1;for(let c=0;c<s.length;c++){const d=s[c];"number"==typeof d?o=d:0===o||oc(r,o,d,null,-1===o||2===o?s[++c]:null)}}return r}function oc(r,s,o,c,d){let f=0,m=r.length;if(-1===s)m=-1;else for(;f<r.length;){const E=r[f++];if("number"==typeof E){if(E===s){m=-1;break}if(E>s){m=f-1;break}}}for(;f<r.length;){const E=r[f];if("number"==typeof E)break;if(E===o){if(null===c)return void(null!==d&&(r[f+1]=d));if(c===r[f+1])return void(r[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==m&&(r.splice(m,0,s),f=m+1),r.splice(f++,0,o),null!==c&&r.splice(f++,0,c),null!==d&&r.splice(f++,0,d)}const wn="ng-template";function vi(r,s,o){let c=0,d=!0;for(;c<r.length;){let f=r[c++];if("string"==typeof f&&d){const m=r[c++];if(o&&"class"===f&&-1!==so(m.toLowerCase(),s,0))return!0}else{if(1===f){for(;c<r.length&&"string"==typeof(f=r[c++]);)if(f.toLowerCase()===s)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function zh(r){return 4===r.type&&r.value!==wn}function Kh(r,s,o){return s===(4!==r.type||o?r.value:wn)}function qa(r,s,o){let c=4;const d=r.attrs||[],f=function Ts(r){for(let s=0;s<r.length;s++)if(Yr(r[s]))return s;return r.length}(d);let m=!1;for(let E=0;E<s.length;E++){const b=s[E];if("number"!=typeof b){if(!m)if(4&c){if(c=2|1&c,""!==b&&!Kh(r,b,o)||""===b&&1===s.length){if(rr(c))return!1;m=!0}}else{const T=8&c?b:s[++E];if(8&c&&null!==r.attrs){if(!vi(r.attrs,T,o)){if(rr(c))return!1;m=!0}continue}const B=pd(8&c?"class":b,d,zh(r),o);if(-1===B){if(rr(c))return!1;m=!0;continue}if(""!==T){let te;te=B>f?"":d[B+1].toLowerCase();const ae=8&c?te:null;if(ae&&-1!==so(ae,T,0)||2&c&&T!==te){if(rr(c))return!1;m=!0}}}}else{if(!m&&!rr(c)&&!rr(b))return!1;if(m&&rr(b))continue;m=!1,c=b|1&c}}return rr(c)||m}function rr(r){return 0==(1&r)}function pd(r,s,o,c){if(null===s)return-1;let d=0;if(c||!o){let f=!1;for(;d<s.length;){const m=s[d];if(m===r)return d;if(3===m||6===m)f=!0;else{if(1===m||2===m){let E=s[++d];for(;"string"==typeof E;)E=s[++d];continue}if(4===m)break;if(0===m){d+=4;continue}}d+=f?1:2}return-1}return function qh(r,s){let o=r.indexOf(4);if(o>-1)for(o++;o<r.length;){const c=r[o];if("number"==typeof c)return-1;if(c===s)return o;o++}return-1}(s,r)}function ac(r,s,o=!1){for(let c=0;c<s.length;c++)if(qa(r,s[c],o))return!0;return!1}function lc(r,s){return r?":not("+s.trim()+")":s}function gd(r){let s=r[0],o=1,c=2,d="",f=!1;for(;o<r.length;){let m=r[o];if("string"==typeof m)if(2&c){const E=r[++o];d+="["+m+(E.length>0?'="'+E+'"':"")+"]"}else 8&c?d+="."+m:4&c&&(d+=" "+m);else""!==d&&!rr(m)&&(s+=lc(f,d),d=""),c=m,f=f||!rr(c);o++}return""!==d&&(s+=lc(f,d)),s}function qn(r){return ce(()=>{const s=Qh(r),o={...s,decls:r.decls,vars:r.vars,template:r.template,consts:r.consts||null,ngContentSelectors:r.ngContentSelectors,onPush:r.changeDetection===Fe.OnPush,directiveDefs:null,pipeDefs:null,dependencies:s.standalone&&r.dependencies||null,getStandaloneInjector:null,signals:r.signals??!1,data:r.data||{},encapsulation:r.encapsulation||et.Emulated,styles:r.styles||Ye,_:null,schemas:r.schemas||null,tView:null,id:""};pc(o);const c=r.dependencies;return o.directiveDefs=As(c,!1),o.pipeDefs=As(c,!0),o.id=function gc(r){let s=0;const o=[r.selectors,r.ngContentSelectors,r.hostVars,r.hostAttrs,r.consts,r.vars,r.decls,r.encapsulation,r.standalone,r.signals,r.exportAs,JSON.stringify(r.inputs),JSON.stringify(r.outputs),Object.getOwnPropertyNames(r.type.prototype),!!r.contentQueries,!!r.viewQuery].join("|");for(const d of o)s=Math.imul(31,s)+d.charCodeAt(0)<<0;return s+=2147483648,"c"+s}(o),o})}function Ya(r){return Nt(r)||Qn(r)}function dc(r){return null!==r}function Xa(r){return ce(()=>({type:r.type,bootstrap:r.bootstrap||Ye,declarations:r.declarations||Ye,imports:r.imports||Ye,exports:r.exports||Ye,transitiveCompileScopes:null,schemas:r.schemas||null,id:r.id||null}))}function oo(r,s){if(null==r)return st;const o={};for(const c in r)if(r.hasOwnProperty(c)){let d=r[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),o[d]=c,s&&(s[d]=f)}return o}function fc(r){return ce(()=>{const s=Qh(r);return pc(s),s})}function Ja(r){return{type:r.type,name:r.name,factory:null,pure:!1!==r.pure,standalone:!0===r.standalone,onDestroy:r.type.prototype.ngOnDestroy||null}}function Nt(r){return r[Ht]||null}function Qn(r){return r[Dn]||null}function Yn(r){return r[Cn]||null}function ds(r){const s=Nt(r)||Qn(r)||Yn(r);return null!==s&&s.standalone}function Ir(r,s){const o=r[Si]||null;if(!o&&!0===s)throw new Error(`Type ${K(r)} does not have '\u0275mod' property.`);return o}function Qh(r){const s={};return{type:r.type,providersResolver:null,factory:null,hostBindings:r.hostBindings||null,hostVars:r.hostVars||0,hostAttrs:r.hostAttrs||null,contentQueries:r.contentQueries||null,declaredInputs:s,inputTransforms:null,inputConfig:r.inputs||st,exportAs:r.exportAs||null,standalone:!0===r.standalone,signals:!0===r.signals,selectors:r.selectors||Ye,viewQuery:r.viewQuery||null,features:r.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:oo(r.inputs,s),outputs:oo(r.outputs)}}function pc(r){r.features?.forEach(s=>s(r))}function As(r,s){if(!r)return null;const o=s?Yn:Ya;return()=>("function"==typeof r?r():r).map(c=>o(c)).filter(dc)}const yn=0,ze=1,Ct=2,Qt=3,Ur=4,ao=5,gr=6,hs=7,vn=8,fs=9,Ei=10,ot=11,Za=12,el=13,Ki=14,Rn=15,lo=16,Dr=17,Tr=18,Zr=19,md=20,Ci=21,qi=22,ps=23,Mi=24,xt=25,oa=1,Ri=2,Br=7,Qi=9,jn=11;function mr(r){return Array.isArray(r)&&"object"==typeof r[oa]}function sr(r){return Array.isArray(r)&&!0===r[oa]}function _c(r){return 0!=(4&r.flags)}function or(r){return r.componentOffset>-1}function Ss(r){return 1==(1&r.flags)}function Ar(r){return!!r.template}function gs(r){return 0!=(512&r[Ct])}function Xi(r,s){return r.hasOwnProperty(wr)?r[wr]:null}let Tn=null,co=!1;function Xn(r){const s=Tn;return Tn=r,s}const Dc={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function Ed(r){if(!Rs(r)||r.dirty){if(!r.producerMustRecompute(r)&&!Tc(r))return void(r.dirty=!1);r.producerRecomputeValue(r),r.dirty=!1}}function Zh(r){r.dirty=!0,function ua(r){if(void 0===r.liveConsumerNode)return;const s=co;co=!0;try{for(const o of r.liveConsumerNode)o.dirty||Zh(o)}finally{co=s}}(r),r.consumerMarkedDirty?.(r)}function $n(r){return r&&(r.nextProducerIndex=0),Xn(r)}function rl(r,s){if(Xn(s),r&&void 0!==r.producerNode&&void 0!==r.producerIndexOfThis&&void 0!==r.producerLastReadVersion){if(Rs(r))for(let o=r.nextProducerIndex;o<r.producerNode.length;o++)ho(r.producerNode[o],r.producerIndexOfThis[o]);for(;r.producerNode.length>r.nextProducerIndex;)r.producerNode.pop(),r.producerLastReadVersion.pop(),r.producerIndexOfThis.pop()}}function Tc(r){Ji(r);for(let s=0;s<r.producerNode.length;s++){const o=r.producerNode[s],c=r.producerLastReadVersion[s];if(c!==o.version||(Ed(o),c!==o.version))return!0}return!1}function Ac(r){if(Ji(r),Rs(r))for(let s=0;s<r.producerNode.length;s++)ho(r.producerNode[s],r.producerIndexOfThis[s]);r.producerNode.length=r.producerLastReadVersion.length=r.producerIndexOfThis.length=0,r.liveConsumerNode&&(r.liveConsumerNode.length=r.liveConsumerIndexOfThis.length=0)}function ho(r,s){if(function il(r){r.liveConsumerNode??=[],r.liveConsumerIndexOfThis??=[]}(r),Ji(r),1===r.liveConsumerNode.length)for(let c=0;c<r.producerNode.length;c++)ho(r.producerNode[c],r.producerIndexOfThis[c]);const o=r.liveConsumerNode.length-1;if(r.liveConsumerNode[s]=r.liveConsumerNode[o],r.liveConsumerIndexOfThis[s]=r.liveConsumerIndexOfThis[o],r.liveConsumerNode.length--,r.liveConsumerIndexOfThis.length--,s<r.liveConsumerNode.length){const c=r.liveConsumerIndexOfThis[s],d=r.liveConsumerNode[s];Ji(d),d.producerIndexOfThis[c]=s}}function Rs(r){return r.consumerIsAlwaysLive||(r?.liveConsumerNode?.length??0)>0}function Ji(r){r.producerNode??=[],r.producerIndexOfThis??=[],r.producerLastReadVersion??=[]}let Mc=null;function cg(r){const s=Xn(null);try{return r()}finally{Xn(s)}}const Id=()=>{},cl=(()=>({...Dc,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:r=>{r.schedule(r.ref)},hasRun:!1,cleanupFn:Id}))();class Dd{constructor(s,o,c){this.previousValue=s,this.currentValue=o,this.firstChange=c}isFirstChange(){return this.firstChange}}function po(){return Td}function Td(r){return r.type.prototype.ngOnChanges&&(r.setInput=Zi),Ps}function Ps(){const r=Nc(this),s=r?.current;if(s){const o=r.previous;if(o===st)r.previous=s;else for(let c in s)o[c]=s[c];r.current=null,this.ngOnChanges(s)}}function Zi(r,s,o,c){const d=this.declaredInputs[o],f=Nc(r)||function kc(r,s){return r[Os]=s}(r,{previous:st,current:null}),m=f.current||(f.current={}),E=f.previous,b=E[d];m[d]=new Dd(b&&b.currentValue,s,E===st),r[c]=s}po.ngInherit=!0;const Os="__ngSimpleChanges__";function Nc(r){return r[Os]||null}const Oi=function(r,s,o){};function zt(r){for(;Array.isArray(r);)r=r[yn];return r}function ks(r,s){return zt(s[r])}function Sr(r,s){return zt(s[r.index])}function Fc(r,s){return r.data[s]}function jr(r,s){const o=s[r];return mr(o)?o:o[yn]}function Fs(r,s){return null==s?null:r[s]}function ul(r){r[Dr]=0}function Lc(r){1024&r[Ct]||(r[Ct]|=1024,on(r,1))}function dg(r){1024&r[Ct]&&(r[Ct]&=-1025,on(r,-1))}function on(r,s){let o=r[Qt];if(null===o)return;o[ao]+=s;let c=o;for(o=o[Qt];null!==o&&(1===s&&1===c[ao]||-1===s&&0===c[ao]);)o[ao]+=s,c=o,o=o[Qt]}const gt={lFrame:uf(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function _o(){return gt.bindingsEnabled}function Oe(){return gt.lFrame.lView}function wt(){return gt.lFrame.tView}function pl(r){return gt.lFrame.contextLView=r,r[vn]}function jc(r){return gt.lFrame.contextLView=null,r}function Pn(){let r=$c();for(;null!==r&&64===r.type;)r=r.parent;return r}function $c(){return gt.lFrame.currentTNode}function Mr(r,s){const o=gt.lFrame;o.currentTNode=r,o.isParent=s}function Gc(){return gt.lFrame.isParent}function pa(){return gt.lFrame.bindingIndex++}function ki(r){const s=gt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+r,o}function pg(r,s){const o=gt.lFrame;o.bindingIndex=o.bindingRootIndex=r,Od(s)}function Od(r){gt.lFrame.currentDirectiveIndex=r}function cf(){return gt.lFrame.currentQueryIndex}function gl(r){gt.lFrame.currentQueryIndex=r}function gg(r){const s=r[ze];return 2===s.type?s.declTNode:1===s.type?r[gr]:null}function Ls(r,s,o){if(o&lt.SkipSelf){let d=s,f=r;for(;!(d=d.parent,null!==d||o&lt.Host||(d=gg(f),null===d||(f=f[Ki],10&d.type))););if(null===d)return!1;s=d,r=f}const c=gt.lFrame=Rr();return c.currentTNode=s,c.lView=r,!0}function Kc(r){const s=Rr(),o=r[ze];gt.lFrame=s,s.currentTNode=o.firstChild,s.lView=r,s.tView=o,s.contextLView=r,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Rr(){const r=gt.lFrame,s=null===r?null:r.child;return null===s?uf(r):s}function uf(r){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:r,child:null,inI18n:!1};return null!==r&&(r.child=s),s}function _a(){const r=gt.lFrame;return gt.lFrame=r.parent,r.currentTNode=null,r.lView=null,r}const qc=_a;function Vs(){const r=_a();r.isParent=!0,r.tView=null,r.selectedIndex=-1,r.contextLView=null,r.elementDepthCount=0,r.currentDirectiveIndex=-1,r.currentNamespace=null,r.bindingRootIndex=-1,r.bindingIndex=-1,r.currentQueryIndex=0}function lr(){return gt.lFrame.selectedIndex}function ms(r){gt.lFrame.selectedIndex=r}function Yt(){const r=gt.lFrame;return Fc(r.tView,r.selectedIndex)}let Eo=!0;function _s(){return Eo}function cr(r){Eo=r}function ya(r,s){for(let o=s.directiveStart,c=s.directiveEnd;o<c;o++){const f=r.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:T,ngOnDestroy:P}=f;m&&(r.contentHooks??=[]).push(-o,m),E&&((r.contentHooks??=[]).push(o,E),(r.contentCheckHooks??=[]).push(o,E)),b&&(r.viewHooks??=[]).push(-o,b),T&&((r.viewHooks??=[]).push(o,T),(r.viewCheckHooks??=[]).push(o,T)),null!=P&&(r.destroyHooks??=[]).push(o,P)}}function _l(r,s,o){yl(r,s,3,o)}function Co(r,s,o,c){(3&r[Ct])===o&&yl(r,s,o,c)}function kd(r,s){let o=r[Ct];(3&o)===s&&(o&=8191,o+=1,r[Ct]=o)}function yl(r,s,o,c){const f=c??-1,m=s.length-1;let E=0;for(let b=void 0!==c?65535&r[Dr]:0;b<m;b++)if("number"==typeof s[b+1]){if(E=s[b],null!=c&&E>=c)break}else s[b]<0&&(r[Dr]+=65536),(E<f||-1==f)&&(Qc(r,o,s,b),r[Dr]=(4294901760&r[Dr])+b+2),b++}function vl(r,s){Oi(4,r,s);const o=Xn(null);try{s.call(r)}finally{Xn(o),Oi(5,r,s)}}function Qc(r,s,o,c){const d=o[c]<0,f=o[c+1],E=r[d?-o[c]:o[c]];d?r[Ct]>>13<r[Dr]>>16&&(3&r[Ct])===s&&(r[Ct]+=8192,vl(E,f)):vl(E,f)}const rs=-1;class El{constructor(s,o,c){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=c}}function wl(r){return r!==rs}function va(r){return 32767&r}function Ea(r,s){let o=function Jc(r){return r>>16}(r),c=s;for(;o>0;)c=c[Ki],o--;return c}let Zc=!0;function wo(r){const s=Zc;return Zc=r,s}const pf=255,bl=5;let gf=0;const ti={};function bo(r,s){const o=Do(r,s);if(-1!==o)return o;const c=s[ze];c.firstCreatePass&&(r.injectorIndex=s.length,Io(c.data,r),Io(s,null),Io(c.blueprint,null));const d=To(r,s),f=r.injectorIndex;if(wl(d)){const m=va(d),E=Ea(d,s),b=E[ze].data;for(let T=0;T<8;T++)s[f+T]=E[m+T]|b[m+T]}return s[f+8]=d,f}function Io(r,s){r.push(0,0,0,0,0,0,0,0,s)}function Do(r,s){return-1===r.injectorIndex||r.parent&&r.parent.injectorIndex===r.injectorIndex||null===s[r.injectorIndex+8]?-1:r.injectorIndex}function To(r,s){if(r.parent&&-1!==r.parent.injectorIndex)return r.parent.injectorIndex;let o=0,c=null,d=s;for(;null!==d;){if(c=ru(d),null===c)return rs;if(o++,d=d[Ki],-1!==c.injectorIndex)return c.injectorIndex|o<<16}return rs}function Ca(r,s,o){!function Il(r,s,o){let c;"string"==typeof o?c=o.charCodeAt(0)||0:o.hasOwnProperty(zi)&&(c=o[zi]),null==c&&(c=o[zi]=gf++);const d=c&pf;s.data[r+(d>>bl)]|=1<<d}(r,s,o)}function wa(r,s,o){if(o&lt.Optional||void 0!==r)return r;Le()}function bi(r,s,o,c){if(o&lt.Optional&&void 0===c&&(c=null),!(o&(lt.Self|lt.Host))){const d=r[fs],f=Zt(void 0);try{return d?d.get(s,c,o&lt.Optional):pn(s,c,o&lt.Optional)}finally{Zt(f)}}return wa(c,0,o)}function eu(r,s,o,c=lt.Default,d){if(null!==r){if(2048&s[Ct]&&!(c&lt.Self)){const m=function nu(r,s,o,c,d){let f=r,m=s;for(;null!==f&&null!==m&&2048&m[Ct]&&!(512&m[Ct]);){const E=ba(f,m,o,c|lt.Self,ti);if(E!==ti)return E;let b=f.parent;if(!b){const T=m[md];if(T){const P=T.get(o,ti,c);if(P!==ti)return P}b=ru(m),m=m[Ki]}f=b}return d}(r,s,o,c,ti);if(m!==ti)return m}const f=ba(r,s,o,c,ti);if(f!==ti)return f}return bi(s,o,c,d)}function ba(r,s,o,c,d){const f=function is(r){if("string"==typeof r)return r.charCodeAt(0)||0;const s=r.hasOwnProperty(zi)?r[zi]:void 0;return"number"==typeof s?s>=0?s&pf:Us:s}(o);if("function"==typeof f){if(!Ls(s,r,c))return c&lt.Host?wa(d,0,c):bi(s,o,c,d);try{let m;if(m=f(c),null!=m||c&lt.Optional)return m;Le()}finally{qc()}}else if("number"==typeof f){let m=null,E=Do(r,s),b=rs,T=c&lt.Host?s[Rn][gr]:null;for((-1===E||c&lt.SkipSelf)&&(b=-1===E?To(r,s):s[E+8],b!==rs&&Tl(c,!1)?(m=s[ze],E=va(b),s=Ea(b,s)):E=-1);-1!==E;){const P=s[ze];if(tu(f,E,P.data)){const B=Fd(E,s,o,m,c,T);if(B!==ti)return B}b=s[E+8],b!==rs&&Tl(c,s[ze].data[E+8]===T)&&tu(f,E,s)?(m=P,E=va(b),s=Ea(b,s)):E=-1}}return d}function Fd(r,s,o,c,d,f){const m=s[ze],E=m.data[r+8],P=Ao(E,m,o,null==c?or(E)&&Zc:c!=m&&0!=(3&E.type),d&lt.Host&&f===E);return null!==P?Nn(s,m,P,E):ti}function Ao(r,s,o,c,d){const f=r.providerIndexes,m=s.data,E=1048575&f,b=r.directiveStart,P=f>>20,te=d?E+P:r.directiveEnd;for(let ae=c?E:E+P;ae<te;ae++){const Ae=m[ae];if(ae<b&&o===Ae||ae>=b&&Ae.type===o)return ae}if(d){const ae=m[b];if(ae&&Ar(ae)&&ae.type===o)return b}return null}function Nn(r,s,o,c){let d=r[o];const f=s.data;if(function Yc(r){return r instanceof El}(d)){const m=d;m.resolving&&function _e(r,s){const o=s?`. Dependency path: ${s.join(" > ")} > ${r}`:"";throw new ie(-200,`Circular dependency in DI detected for ${r}${o}`)}(function ue(r){return"function"==typeof r?r.name||r.toString():"object"==typeof r&&null!=r&&"function"==typeof r.type?r.type.name||r.type.toString():X(r)}(f[o]));const E=wo(m.canSeeViewProviders);m.resolving=!0;const T=m.injectImpl?Zt(m.injectImpl):null;Ls(r,c,lt.Default);try{d=r[o]=m.factory(void 0,f,r,c),s.firstCreatePass&&o>=c.directiveStart&&function ml(r,s,o){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=s.type.prototype;if(c){const m=Td(s);(o.preOrderHooks??=[]).push(r,m),(o.preOrderCheckHooks??=[]).push(r,m)}d&&(o.preOrderHooks??=[]).push(0-r,d),f&&((o.preOrderHooks??=[]).push(r,f),(o.preOrderCheckHooks??=[]).push(r,f))}(o,f[o],s)}finally{null!==T&&Zt(T),wo(E),m.resolving=!1,qc()}}return d}function tu(r,s,o){return!!(o[s+(r>>bl)]&1<<r)}function Tl(r,s){return!(r&lt.Self||r&lt.Host&&s)}class kn{constructor(s,o){this._tNode=s,this._lView=o}get(s,o,c){return eu(this._tNode,this._lView,s,kt(c),o)}}function Us(){return new kn(Pn(),Oe())}function Eg(r){return ce(()=>{const s=r.prototype.constructor,o=s[wr]||Ld(s),c=Object.prototype;let d=Object.getPrototypeOf(r.prototype).constructor;for(;d&&d!==c;){const f=d[wr]||Ld(d);if(f&&f!==o)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Ld(r){return Te(r)?()=>{const s=Ld(Se(r));return s&&s()}:Xi(r)}function ru(r){const s=r[ze],o=s.type;return 2===o?s.declTNode:1===o?r[gr]:null}function Vd(r){return function Dl(r,s){if("class"===s)return r.classes;if("style"===s)return r.styles;const o=r.attrs;if(o){const c=o.length;let d=0;for(;d<c;){const f=o[d];if(Yr(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof o[d];)d++;else{if(f===s)return o[d+1];d+=2}}}return null}(Pn(),r)}const C="__parameters__";function J(r,s,o){return ce(()=>{const c=function U(r){return function(...o){if(r){const c=r(...o);for(const d in c)this[d]=c[d]}}}(s);function d(...f){if(this instanceof d)return c.apply(this,f),this;const m=new d(...f);return E.annotation=m,E;function E(b,T,P){const B=b.hasOwnProperty(C)?b[C]:Object.defineProperty(b,C,{value:[]})[C];for(;B.length<=P;)B.push(null);return(B[P]=B[P]||[]).push(m),b}}return o&&(d.prototype=Object.create(o.prototype)),d.prototype.ngMetadataName=r,d.annotationCls=d,d})}function ys(r,s){r.forEach(o=>Array.isArray(o)?ys(o,s):s(o))}function R_(r,s,o){s>=r.length?r.push(o):r.splice(s,0,o)}function Ro(r,s){return s>=r.length-1?r.pop():r.splice(s,1)[0]}function Fi(r,s,o){let c=Sl(r,s);return c>=0?r[1|c]=o:(c=~c,function Cg(r,s,o,c){let d=r.length;if(d==s)r.push(o,c);else if(1===d)r.push(c,r[0]),r[0]=o;else{for(d--,r.push(r[d-1],r[d]);d>s;)r[d]=r[d-2],d--;r[s]=o,r[s+1]=c}}(r,c,s,o)),c}function mf(r,s){const o=Sl(r,s);if(o>=0)return r[1|o]}function Sl(r,s){return function Bd(r,s,o){let c=0,d=r.length>>o;for(;d!==c;){const f=c+(d-c>>1),m=r[f<<o];if(s===m)return f<<o;m>s?d=f:c=f+1}return~(d<<o)}(r,s,1)}const jd=Cr(J("Optional"),8),Da=Cr(J("SkipSelf"),4);function qd(r){return 128==(128&r.flags)}var hu=function(r){return r[r.Important=1]="Important",r[r.DashCase=2]="DashCase",r}(hu||{});const wf=new Map;let Og=0;const fu="__ngContext__";function ur(r,s){mr(s)?(r[fu]=s[Zr],function bf(r){wf.set(r[Zr],r)}(s)):r[fu]=s}let se;function Ne(r,s){return se(r,s)}function rt(r){const s=r[Qt];return sr(s)?s[Qt]:s}function oi(r){return Sa(r[Za])}function ko(r){return Sa(r[Ur])}function Sa(r){for(;null!==r&&!sr(r);)r=r[Ur];return r}function xo(r,s,o,c,d){if(null!=c){let f,m=!1;sr(c)?f=c:mr(c)&&(m=!0,c=c[yn]);const E=zt(c);0===r&&null!==o?null==d?PI(s,o,E):Xd(s,o,E,d||null,!0):1===r&&null!==o?Xd(s,o,E,d||null,!0):2===r?function Pf(r,s,o){const c=Lg(r,s);c&&function Lo(r,s,o,c){r.removeChild(s,o,c)}(r,c,s,o)}(s,E,m):3===r&&s.destroyNode(E),null!=f&&function NI(r,s,o,c,d){const f=o[Br];f!==zt(o)&&xo(s,r,c,f,d);for(let E=jn;E<o.length;E++){const b=o[E];Jd(b[ze],b,r,s,c,f)}}(s,r,f,o,d)}}function Fo(r,s,o){return r.createElement(s,o)}function aE(r,s){const o=r[Qi],c=o.indexOf(s);dg(s),o.splice(c,1)}function xg(r,s){if(r.length<=jn)return;const o=jn+s,c=r[o];if(c){const d=c[lo];null!==d&&d!==r&&aE(d,c),s>0&&(r[o-1][Ur]=c[Ur]);const f=Ro(r,jn+s);!function Af(r,s){Jd(r,s,s[ot],2,null,null),s[yn]=null,s[gr]=null}(c[ze],c);const m=f[Tr];null!==m&&m.detachView(f[ze]),c[Qt]=null,c[Ur]=null,c[Ct]&=-129}return c}function j_(r,s){if(!(256&s[Ct])){const o=s[ot];s[ps]&&Ac(s[ps]),s[Mi]&&Ac(s[Mi]),o.destroyNode&&Jd(r,s,o,3,null,null),function U_(r){let s=r[Za];if(!s)return Fg(r[ze],r);for(;s;){let o=null;if(mr(s))o=s[Za];else{const c=s[jn];c&&(o=c)}if(!o){for(;s&&!s[Ur]&&s!==r;)mr(s)&&Fg(s[ze],s),s=s[Qt];null===s&&(s=r),mr(s)&&Fg(s[ze],s),o=s&&s[Ur]}s=o}}(s)}}function Fg(r,s){if(!(256&s[Ct])){s[Ct]&=-129,s[Ct]|=256,function lE(r,s){let o;if(null!=r&&null!=(o=r.destroyHooks))for(let c=0;c<o.length;c+=2){const d=s[o[c]];if(!(d instanceof El)){const f=o[c+1];if(Array.isArray(f))for(let m=0;m<f.length;m+=2){const E=d[f[m]],b=f[m+1];Oi(4,E,b);try{b.call(E)}finally{Oi(5,E,b)}}else{Oi(4,d,f);try{f.call(d)}finally{Oi(5,d,f)}}}}}(r,s),function $_(r,s){const o=r.cleanup,c=s[hs];if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const m=o[f+3];m>=0?c[m]():c[-m].unsubscribe(),f+=2}else o[f].call(c[o[f+1]]);null!==c&&(s[hs]=null);const d=s[Ci];if(null!==d){s[Ci]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(r,s),1===s[ze].type&&s[ot].destroy();const o=s[lo];if(null!==o&&sr(s[Qt])){o!==s[Qt]&&aE(o,s);const c=s[Tr];null!==c&&c.detachView(r)}!function If(r){wf.delete(r[Zr])}(s)}}function H_(r,s,o){return function RI(r,s,o){let c=s;for(;null!==c&&40&c.type;)c=(s=c).parent;if(null===c)return o[yn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=r.data[c.directiveStart+d];if(f===et.None||f===et.Emulated)return null}return Sr(c,o)}}(r,s.parent,o)}function Xd(r,s,o,c,d){r.insertBefore(s,o,c,d)}function PI(r,s,o){r.appendChild(s,o)}function hn(r,s,o,c,d){null!==c?Xd(r,s,o,c,d):PI(r,s,o)}function Lg(r,s){return r.parentNode(s)}let Ll,Vg,Of,uE=function G_(r,s,o){return 40&r.type?Sr(r,o):null};function _r(r,s,o,c){const d=H_(r,c,s),f=s[ot],E=function cE(r,s,o){return uE(r,s,o)}(c.parent||s[gr],c,s);if(null!=d)if(Array.isArray(o))for(let b=0;b<o.length;b++)hn(f,d,o[b],E,!1);else hn(f,d,o,E,!1);void 0!==Ll&&Ll(f,c,s,o,d)}function At(r,s){if(null!==s){const o=s.type;if(3&o)return Sr(s,r);if(4&o)return W_(-1,r[s.index]);if(8&o){const c=s.child;if(null!==c)return At(r,c);{const d=r[s.index];return sr(d)?W_(-1,d):zt(d)}}if(32&o)return Ne(s,r)()||zt(r[s.index]);{const c=dE(r,s);return null!==c?Array.isArray(c)?c[0]:At(rt(r[Rn]),c):At(r,s.next)}}return null}function dE(r,s){return null!==s?r[Rn][gr].projection[s.projection]:null}function W_(r,s){const o=jn+r+1;if(o<s.length){const c=s[o],d=c[ze].firstChild;if(null!==d)return At(c,d)}return s[Br]}function K_(r,s,o,c,d,f,m){for(;null!=o;){const E=c[o.index],b=o.type;if(m&&0===s&&(E&&ur(zt(E),c),o.flags|=2),32!=(32&o.flags))if(8&b)K_(r,s,o.child,c,d,f,!1),xo(s,r,d,E,f);else if(32&b){const T=Ne(o,c);let P;for(;P=T();)xo(s,r,d,P,f);xo(s,r,d,E,f)}else 16&b?Bs(r,s,c,o,d,f):xo(s,r,d,E,f);o=m?o.projectionNext:o.next}}function Jd(r,s,o,c,d,f){K_(o,c,r.firstChild,s,d,f,!1)}function Bs(r,s,o,c,d,f){const m=o[Rn],b=m[gr].projection[c.projection];if(Array.isArray(b))for(let T=0;T<b.length;T++)xo(s,r,d,b[T],f);else{let T=b;const P=m[Qt];qd(c)&&(T.flags|=128),K_(r,s,T,P,d,f,!0)}}function hE(r,s,o){""===o?r.removeAttribute(s,"class"):r.setAttribute(s,"class",o)}function fE(r,s,o){const{mergedAttrs:c,classes:d,styles:f}=o;null!==c&&za(r,s,c),null!==d&&hE(r,s,d),null!==f&&function kI(r,s,o){r.setAttribute(s,"style",o)}(r,s,f)}function pE(r){Vg=r}function X_(r){return function Ug(){if(void 0===Of&&(Of=null,qt.trustedTypes))try{Of=qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:r=>r,createScript:r=>r,createScriptURL:r=>r})}catch{}return Of}()?.createScriptURL(r)||r}class Nf{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xe})`}}function Ma(r){return r instanceof Nf?r.changingThisBreaksApplicationSecurity:r}function Zd(r,s){const o=function J_(r){return r instanceof Nf&&r.getTypeName()||null}(r);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see ${xe})`)}return o===s}const wE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var xf=function(r){return r[r.NONE=0]="NONE",r[r.HTML=1]="HTML",r[r.STYLE=2]="STYLE",r[r.SCRIPT=3]="SCRIPT",r[r.URL=4]="URL",r[r.RESOURCE_URL=5]="RESOURCE_URL",r}(xf||{});function Cu(r){const s=wu();return s?s.sanitize(xf.URL,r)||"":Zd(r,"URL")?Ma(r):function Gr(r){return(r=String(r)).match(wE)?r:"unsafe:"+r}(X(r))}function th(r){const s=wu();if(s)return X_(s.sanitize(xf.RESOURCE_URL,r)||"");if(Zd(r,"ResourceURL"))return X_(Ma(r));throw new ie(904,!1)}function Lf(r,s,o){return function WI(r,s){return"src"===s&&("embed"===r||"frame"===r||"iframe"===r||"media"===r||"script"===r)||"href"===s&&("base"===r||"link"===r)?th:Cu}(s,o)(r)}function wu(){const r=Oe();return r&&r[Ei].sanitizer}const bu=new tt("ENVIRONMENT_INITIALIZER"),qI=new tt("INJECTOR",-1),QI=new tt("INJECTOR_DEF_TYPES");class ry{get(s,o=_n){if(o===_n){const c=new Error(`NullInjectorError: No provider for ${K(s)}!`);throw c.name="NullInjectorError",c}return o}}function Iu(...r){return{\u0275providers:nh(0,r),\u0275fromNgModule:!0}}function nh(r,...s){const o=[],c=new Set;let d;const f=m=>{o.push(m)};return ys(s,m=>{const E=m;Bl(E,f,[],c)&&(d||=[],d.push(E))}),void 0!==d&&Vf(d,f),o}function Vf(r,s){for(let o=0;o<r.length;o++){const{ngModule:c,providers:d}=r[o];rh(d,f=>{s(f,c)})}}function Bl(r,s,o,c){if(!(r=Se(r)))return!1;let d=null,f=Vn(r);const m=!f&&Nt(r);if(f||m){if(m&&!m.standalone)return!1;d=r}else{const b=r.ngModule;if(f=Vn(b),!f)return!1;d=b}const E=c.has(d);if(m){if(E)return!1;if(c.add(d),m.dependencies){const b="function"==typeof m.dependencies?m.dependencies():m.dependencies;for(const T of b)Bl(T,s,o,c)}}else{if(!f)return!1;{if(null!=f.imports&&!E){let T;c.add(d);try{ys(f.imports,P=>{Bl(P,s,o,c)&&(T||=[],T.push(P))})}finally{}void 0!==T&&Vf(T,s)}if(!E){const T=Xi(d)||(()=>new d);s({provide:d,useFactory:T,deps:Ye},d),s({provide:QI,useValue:d,multi:!0},d),s({provide:bu,useValue:()=>Wt(d),multi:!0},d)}const b=f.providers;if(null!=b&&!E){const T=r;rh(b,P=>{s(P,T)})}}}return d!==r&&void 0!==r.providers}function rh(r,s){for(let o of r)be(o)&&(o=o.\u0275providers),Array.isArray(o)?rh(o,s):s(o)}const XI=L({provide:String,useValue:L});function Uf(r){return null!==r&&"object"==typeof r&&XI in r}function Du(r){return"function"==typeof r}const sy=new tt("Set Injector scope."),jf={},JI={};let SE;function Gg(){return void 0===SE&&(SE=new ry),SE}class Cs{}class $f extends Cs{get destroyed(){return this._destroyed}constructor(s,o,c,d){super(),this.parent=o,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Tu(s,m=>this.processProvider(m)),this.records.set(qI,jl(void 0,this)),d.has("environment")&&this.records.set(Cs,jl(void 0,this));const f=this.records.get(sy);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(QI.multi,Ye,lt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();const s=this._onDestroyHooks;this._onDestroyHooks=[];for(const o of s)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(s){return this.assertNotDestroyed(),this._onDestroyHooks.push(s),()=>this.removeOnDestroy(s)}runInContext(s){this.assertNotDestroyed();const o=ht(this),c=Zt(void 0);try{return s()}finally{ht(o),Zt(c)}}get(s,o=_n,c=lt.Default){if(this.assertNotDestroyed(),s.hasOwnProperty(sc))return s[sc](this);c=kt(c);const f=ht(this),m=Zt(void 0);try{if(!(c&lt.SkipSelf)){let b=this.records.get(s);if(void 0===b){const T=function tD(r){return"function"==typeof r||"object"==typeof r&&r instanceof tt}(s)&&hr(s);b=T&&this.injectableDefInScope(T)?jl(ME(s),jf):null,this.records.set(s,b)}if(null!=b)return this.hydrate(s,b)}return(c&lt.Self?Gg():this.parent).get(s,o=c&lt.Optional&&o===_n?null:o)}catch(E){if("NullInjectorError"===E.name){if((E[pr]=E[pr]||[]).unshift(K(s)),f)throw E;return function sa(r,s,o,c){const d=r[pr];throw s[Re]&&d.unshift(s[Re]),r.message=function Ie(r,s,o,c=null){r=r&&"\n"===r.charAt(0)&&"\u0275"==r.charAt(1)?r.slice(2):r;let d=K(s);if(Array.isArray(s))d=s.map(K).join(" -> ");else if("object"==typeof s){let f=[];for(let m in s)if(s.hasOwnProperty(m)){let E=s[m];f.push(m+":"+("string"==typeof E?JSON.stringify(E):K(E)))}d=`{${f.join(", ")}}`}return`${o}${c?"("+c+")":""}[${d}]: ${r.replace(z,"\n  ")}`}("\n"+r.message,d,o,c),r.ngTokenPath=d,r[pr]=null,r}(E,s,"R3InjectorError",this.source)}throw E}finally{Zt(m),ht(f)}}resolveInjectorInitializers(){const s=ht(this),o=Zt(void 0);try{const d=this.get(bu.multi,Ye,lt.Self);for(const f of d)f()}finally{ht(s),Zt(o)}}toString(){const s=[],o=this.records;for(const c of o.keys())s.push(K(c));return`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(s){let o=Du(s=Se(s))?s:Se(s&&s.provide);const c=function ZI(r){return Uf(r)?jl(void 0,r.useValue):jl(ay(r),jf)}(s);if(Du(s)||!0!==s.multi)this.records.get(o);else{let d=this.records.get(o);d||(d=jl(void 0,jf,!0),d.factory=()=>Kn(d.multi),this.records.set(o,d)),o=s,d.multi.push(s)}this.records.set(o,c)}hydrate(s,o){return o.value===jf&&(o.value=JI,o.value=o.factory()),"object"==typeof o.value&&o.value&&function GS(r){return null!==r&&"object"==typeof r&&"function"==typeof r.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(s){if(!s.providedIn)return!1;const o=Se(s.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}removeOnDestroy(s){const o=this._onDestroyHooks.indexOf(s);-1!==o&&this._onDestroyHooks.splice(o,1)}}function ME(r){const s=hr(r),o=null!==s?s.factory:Xi(r);if(null!==o)return o;if(r instanceof tt)throw new ie(204,!1);if(r instanceof Function)return function oy(r){const s=r.length;if(s>0)throw function Ia(r,s){const o=[];for(let c=0;c<r;c++)o.push(s);return o}(s,"?"),new ie(204,!1);const o=function Mn(r){return r&&(r[En]||r[cs])||null}(r);return null!==o?()=>o.factory(r):()=>new r}(r);throw new ie(204,!1)}function ay(r,s,o){let c;if(Du(r)){const d=Se(r);return Xi(d)||ME(d)}if(Uf(r))c=()=>Se(r.useValue);else if(function TE(r){return!(!r||!r.useFactory)}(r))c=()=>r.useFactory(...Kn(r.deps||[]));else if(function Bf(r){return!(!r||!r.useExisting)}(r))c=()=>Wt(Se(r.useExisting));else{const d=Se(r&&(r.useClass||r.provide));if(!function eD(r){return!!r.deps}(r))return Xi(d)||ME(d);c=()=>new d(...Kn(r.deps))}return c}function jl(r,s,o=!1){return{factory:r,value:s,multi:o?[]:void 0}}function Tu(r,s){for(const o of r)Array.isArray(o)?Tu(o,s):o&&be(o)?Tu(o.\u0275providers,s):s(o)}const Wg=new tt("AppId",{providedIn:"root",factory:()=>RE}),RE="ng",ly=new tt("Platform Initializer"),zg=new tt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),nD=new tt("AnimationModuleType"),PE=new tt("CSP nonce",{providedIn:"root",factory:()=>function Eu(){if(void 0!==Vg)return Vg;if(typeof document<"u")return document;throw new ie(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let NE=(r,s,o)=>null;function Gf(r,s,o=!1){return NE(r,s,o)}class lD{}class VE{}class _y{resolveComponentFactory(s){throw function UE(r){const s=Error(`No component factory found for ${K(r)}.`);return s.ngComponent=r,s}(s)}}let Jg=(()=>{class r{static{this.NULL=new _y}}return r})();function jE(){return Mu(Pn(),Oe())}function Mu(r,s){return new js(Sr(r,s))}let js=(()=>{class r{constructor(o){this.nativeElement=o}static{this.__NG_ELEMENT_ID__=jE}}return r})();function cD(r){return r instanceof js?r.nativeElement:r}class yy{}let uD=(()=>{class r{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function $E(){const r=Oe(),o=jr(Pn().index,r);return(mr(o)?o:r)[ot]}()}}return r})(),dD=(()=>{class r{static{this.\u0275prov=qe({token:r,providedIn:"root",factory:()=>null})}}return r})();class HE{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Wf=new HE("16.2.12"),Zg={};function Cy(r,s=null,o=null,c){const d=zE(r,s,o,c);return d.resolveInjectorInitializers(),d}function zE(r,s=null,o=null,c,d=new Set){const f=[o||Ye,Iu(r)];return c=c||("object"==typeof r?void 0:K(r)),new $f(f,s||Gg(),c||null,d)}let Bo=(()=>{class r{static{this.THROW_IF_NOT_FOUND=_n}static{this.NULL=new ry}static create(o,c){if(Array.isArray(o))return Cy({name:""},c,o,"");{const d=o.name??"";return Cy({name:d},o.parent,o.providers,d)}}static{this.\u0275prov=qe({token:r,providedIn:"any",factory:()=>Wt(qI)})}static{this.__NG_ELEMENT_ID__=-1}}return r})();function KE(r){return r.ngOriginalError}class Ru{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s);this._console.error("ERROR",s),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(s){let o=s&&KE(s);for(;o&&KE(o);)o=KE(o);return o||null}}function Pu(r){return s=>{setTimeout(r,void 0,s)}}const jo=class mD extends l.B{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,c){let d=s,f=o||(()=>null),m=c;if(s&&"object"==typeof s){const b=s;d=b.next?.bind(b),f=b.error?.bind(b),m=b.complete?.bind(b)}this.__isAsync&&(f=Pu(f),d&&(d=Pu(d)),m&&(m=Pu(m)));const E=super.subscribe({next:d,error:f,complete:m});return s instanceof N.yU&&s.add(E),E}};function Je(...r){}class Or{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new jo(!1),this.onMicrotaskEmpty=new jo(!1),this.onStable=new jo(!1),this.onError=new jo(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&o,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function ws(){const r="function"==typeof qt.requestAnimationFrame;let s=qt[r?"requestAnimationFrame":"setTimeout"],o=qt[r?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function _D(r){const s=()=>{!function qE(r){r.isCheckStableRunning||-1!==r.lastRequestAnimationFrameId||(r.lastRequestAnimationFrameId=r.nativeRequestAnimationFrame.call(qt,()=>{r.fakeTopEventTask||(r.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{r.lastRequestAnimationFrameId=-1,ah(r),r.isCheckStableRunning=!0,Iy(r),r.isCheckStableRunning=!1},void 0,()=>{},()=>{})),r.fakeTopEventTask.invoke()}),ah(r))}(r)};r._inner=r._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,c,d,f,m,E)=>{if(function zf(r){return!(!Array.isArray(r)||1!==r.length)&&!0===r[0].data?.__ignore_ng_zone__}(E))return o.invokeTask(d,f,m,E);try{return lh(r),o.invokeTask(d,f,m,E)}finally{(r.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||r.shouldCoalesceRunChangeDetection)&&s(),QE(r)}},onInvoke:(o,c,d,f,m,E,b)=>{try{return lh(r),o.invoke(d,f,m,E,b)}finally{r.shouldCoalesceRunChangeDetection&&s(),QE(r)}},onHasTask:(o,c,d,f)=>{o.hasTask(d,f),c===d&&("microTask"==f.change?(r._hasPendingMicrotasks=f.microTask,ah(r),Iy(r)):"macroTask"==f.change&&(r.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,c,d,f)=>(o.handleError(d,f),r.runOutsideAngular(()=>r.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Or.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Or.isInAngularZone())throw new ie(909,!1)}run(s,o,c){return this._inner.run(s,o,c)}runTask(s,o,c,d){const f=this._inner,m=f.scheduleEventTask("NgZoneEvent: "+d,s,by,Je,Je);try{return f.runTask(m,o,c)}finally{f.cancelTask(m)}}runGuarded(s,o,c){return this._inner.runGuarded(s,o,c)}runOutsideAngular(s){return this._outer.run(s)}}const by={};function Iy(r){if(0==r._nesting&&!r.hasPendingMicrotasks&&!r.isStable)try{r._nesting++,r.onMicrotaskEmpty.emit(null)}finally{if(r._nesting--,!r.hasPendingMicrotasks)try{r.runOutsideAngular(()=>r.onStable.emit(null))}finally{r.isStable=!0}}}function ah(r){r.hasPendingMicrotasks=!!(r._hasPendingMicrotasks||(r.shouldCoalesceEventChangeDetection||r.shouldCoalesceRunChangeDetection)&&-1!==r.lastRequestAnimationFrameId)}function lh(r){r._nesting++,r.isStable&&(r.isStable=!1,r.onUnstable.emit(null))}function QE(r){r._nesting--,Iy(r)}class nm{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new jo,this.onMicrotaskEmpty=new jo,this.onStable=new jo,this.onError=new jo}run(s,o,c){return s.apply(o,c)}runGuarded(s,o,c){return s.apply(o,c)}runOutsideAngular(s){return s()}runTask(s,o,c,d){return s.apply(o,c)}}const Dy=new tt("",{providedIn:"root",factory:YE});function YE(){const r=Et(Or);let s=!0;const o=new S.c(d=>{s=r.isStable&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks,r.runOutsideAngular(()=>{d.next(s),d.complete()})}),c=new S.c(d=>{let f;r.runOutsideAngular(()=>{f=r.onStable.subscribe(()=>{Or.assertNotInAngularZone(),queueMicrotask(()=>{!s&&!r.hasPendingMacrotasks&&!r.hasPendingMicrotasks&&(s=!0,d.next(!0))})})});const m=r.onUnstable.subscribe(()=>{Or.assertInAngularZone(),s&&(s=!1,r.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),m.unsubscribe()}});return(0,k.h)(o,c.pipe((0,W.u)()))}function $o(r){return r instanceof Function?r():r}let Nr=(()=>{class r{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=qe({token:r,providedIn:"root",factory:()=>new r})}}return r})();function Gl(r){for(;r;){r[Ct]|=64;const s=rt(r);if(gs(r)&&!s)return r;r=s}return null}const Ra=new tt("",{providedIn:"root",factory:()=>!1});let Wl=null;function nC(r,s){return r[s]??$s()}function Nu(r,s){const o=$s();o.producerNode?.length&&(r[s]=Wl,o.lView=r,Wl=rC())}const CD={...Dc,consumerIsAlwaysLive:!0,consumerMarkedDirty:r=>{Gl(r.lView)},lView:null};function rC(){return Object.create(CD)}function $s(){return Wl??=rC(),Wl}const St={};function Ay(r){Pa(wt(),Oe(),lr()+r,!1)}function Pa(r,s,o,c){if(!c)if(3==(3&s[Ct])){const f=r.preOrderCheckHooks;null!==f&&_l(s,f,o)}else{const f=r.preOrderHooks;null!==f&&Co(s,f,0,o)}ms(o)}function ch(r,s=lt.Default){const o=Oe();return null===o?Wt(r,s):eu(Pn(),o,Se(r),s)}function Sy(){throw new Error("invalid")}function sm(r,s,o,c,d,f,m,E,b,T,P){const B=s.blueprint.slice();return B[yn]=d,B[Ct]=140|c,(null!==T||r&&2048&r[Ct])&&(B[Ct]|=2048),ul(B),B[Qt]=B[Ki]=r,B[vn]=o,B[Ei]=m||r&&r[Ei],B[ot]=E||r&&r[ot],B[fs]=b||r&&r[fs]||null,B[gr]=f,B[Zr]=function Hr(){return Og++}(),B[qi]=P,B[md]=T,B[Rn]=2==s.type?r[Rn]:B,B}function ku(r,s,o,c,d){let f=r.data[s];if(null===f)f=function My(r,s,o,c,d){const f=$c(),m=Gc(),b=r.data[s]=function sC(r,s,o,c,d,f){let m=s?s.injectorIndex:-1,E=0;return function es(){return null!==gt.skipHydrationRootTNode}()&&(E|=128),{type:o,index:c,insertBeforeIndex:null,injectorIndex:m,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:E,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?f:f&&f.parent,o,s,c,d);return null===r.firstChild&&(r.firstChild=b),null!==f&&(m?null==f.child&&null!==b.parent&&(f.child=b):null===f.next&&(f.next=b,b.prev=f)),b}(r,s,o,c,d),function lf(){return gt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=o,f.value=c,f.attrs=d;const m=function Hc(){const r=gt.lFrame,s=r.currentTNode;return r.isParent?s:s.parent}();f.injectorIndex=null===m?-1:m.injectorIndex}return Mr(f,!0),f}function uh(r,s,o,c){if(0===o)return-1;const d=s.length;for(let f=0;f<o;f++)s.push(c),r.blueprint.push(c),r.data.push(null);return d}function Ry(r,s,o,c,d){const f=nC(s,ps),m=lr(),E=2&c;try{ms(-1),E&&s.length>xt&&Pa(r,s,xt,!1),Oi(E?2:0,d);const T=E?f:null,P=$n(T);try{null!==T&&(T.dirty=!1),o(c,d)}finally{rl(T,P)}}finally{E&&null===s[ps]&&Nu(s,ps),ms(m),Oi(E?3:1,d)}}function dh(r,s,o){if(_c(s)){const c=Xn(null);try{const f=s.directiveEnd;for(let m=s.directiveStart;m<f;m++){const E=r.data[m];E.contentQueries&&E.contentQueries(1,o[m],m)}}finally{Xn(c)}}}function zl(r,s,o){_o()&&(function AD(r,s,o,c){const d=o.directiveStart,f=o.directiveEnd;or(o)&&function PD(r,s,o){const c=Sr(s,r),d=hh(o);let m=16;o.signals?m=4096:o.onPush&&(m=64);const E=hm(r,sm(r,d,null,m,c,s,null,r[Ei].rendererFactory.createRenderer(c,o),null,null,null));r[s.index]=E}(s,o,r.data[d+o.componentOffset]),r.firstCreatePass||bo(o,s),ur(c,s);const m=o.initialInputs;for(let E=d;E<f;E++){const b=r.data[E],T=Nn(s,r,E,o);ur(T,s),null!==m&&dm(0,E-d,T,b,0,m),Ar(b)&&(jr(o.index,s)[vn]=Nn(s,r,E,o))}}(r,s,o,Sr(o,s)),64==(64&o.flags)&&lC(r,s,o))}function en(r,s,o=Sr){const c=s.localNames;if(null!==c){let d=s.index+1;for(let f=0;f<c.length;f+=2){const m=c[f+1],E=-1===m?o(s,r):r[m];r[d++]=E}}}function hh(r){const s=r.tView;return null===s||s.incompleteFirstPass?r.tView=Py(1,null,r.template,r.decls,r.vars,r.directiveDefs,r.pipeDefs,r.viewQuery,r.schemas,r.consts,r.id):s}function Py(r,s,o,c,d,f,m,E,b,T,P){const B=xt+c,te=B+d,ae=function xu(r,s){const o=[];for(let c=0;c<s;c++)o.push(c<r?null:St);return o}(B,te),Ae="function"==typeof T?T():T;return ae[ze]={type:r,blueprint:ae,template:o,queries:null,viewQuery:E,declTNode:s,data:ae.slice().fill(null,B),bindingStartIndex:B,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:Ae,incompleteFirstPass:!1,ssrId:P}}let om=r=>null;function Xf(r,s,o,c){for(let d in r)if(r.hasOwnProperty(d)){o=null===o?{}:o;const f=r[d];null===c?oC(o,s,d,f):c.hasOwnProperty(d)&&oC(o,s,c[d],f)}return o}function oC(r,s,o,c){r.hasOwnProperty(o)?r[o].push(s,c):r[o]=[s,c]}function Ny(r,s,o,c){if(_o()){const d=null===c?null:{"":-1},f=function MD(r,s){const o=r.directiveRegistry;let c=null,d=null;if(o)for(let f=0;f<o.length;f++){const m=o[f];if(ac(s,m.selectors,!1))if(c||(c=[]),Ar(m))if(null!==m.findHostDirectiveDefs){const E=[];d=d||new Map,m.findHostDirectiveDefs(m,E,d),c.unshift(...E,m),ky(r,s,E.length)}else c.unshift(m),ky(r,s,0);else d=d||new Map,m.findHostDirectiveDefs?.(m,c,d),c.push(m)}return null===c?null:[c,d]}(r,o);let m,E;null===f?m=E=null:[m,E]=f,null!==m&&cm(r,s,o,m,d,E),d&&function cC(r,s,o){if(s){const c=r.localNames=[];for(let d=0;d<s.length;d+=2){const f=o[s[d+1]];if(null==f)throw new ie(-301,!1);c.push(s[d],f)}}}(o,c,d)}o.mergedAttrs=br(o.mergedAttrs,o.attrs)}function cm(r,s,o,c,d,f){for(let T=0;T<c.length;T++)Ca(bo(o,s),r,c[T].type);!function RD(r,s,o){r.flags|=1,r.directiveStart=s,r.directiveEnd=s+o,r.providerIndexes=s}(o,r.data.length,c.length);for(let T=0;T<c.length;T++){const P=c[T];P.providersResolver&&P.providersResolver(P)}let m=!1,E=!1,b=uh(r,s,c.length,null);for(let T=0;T<c.length;T++){const P=c[T];o.mergedAttrs=br(o.mergedAttrs,P.hostAttrs),Fu(r,o,s,b,P),uC(b,P,d),null!==P.contentQueries&&(o.flags|=4),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(o.flags|=64);const B=P.type.prototype;!m&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((r.preOrderHooks??=[]).push(o.index),m=!0),!E&&(B.ngOnChanges||B.ngDoCheck)&&((r.preOrderCheckHooks??=[]).push(o.index),E=!0),b++}!function Oy(r,s,o){const d=s.directiveEnd,f=r.data,m=s.attrs,E=[];let b=null,T=null;for(let P=s.directiveStart;P<d;P++){const B=f[P],te=o?o.get(B):null,Ae=te?te.outputs:null;b=Xf(B.inputs,P,b,te?te.inputs:null),T=Xf(B.outputs,P,T,Ae);const Be=null===b||null===m||zh(s)?null:xy(b,P,m);E.push(Be)}null!==b&&(b.hasOwnProperty("class")&&(s.flags|=8),b.hasOwnProperty("style")&&(s.flags|=16)),s.initialInputs=E,s.inputs=b,s.outputs=T}(r,o,f)}function lC(r,s,o){const c=o.directiveStart,d=o.directiveEnd,f=o.index,m=function Pd(){return gt.lFrame.currentDirectiveIndex}();try{ms(f);for(let E=c;E<d;E++){const b=r.data[E],T=s[E];Od(E),(null!==b.hostBindings||0!==b.hostVars||null!==b.hostAttrs)&&SD(b,T)}}finally{ms(-1),Od(m)}}function SD(r,s){null!==r.hostBindings&&r.hostBindings(1,s)}function ky(r,s,o){s.componentOffset=o,(r.components??=[]).push(s.index)}function uC(r,s,o){if(o){if(s.exportAs)for(let c=0;c<s.exportAs.length;c++)o[s.exportAs[c]]=r;Ar(s)&&(o[""]=r)}}function Fu(r,s,o,c,d){r.data[c]=d;const f=d.factory||(d.factory=Xi(d.type)),m=new El(f,Ar(d),ch);r.blueprint[c]=m,o[c]=m,function DD(r,s,o,c,d){const f=d.hostBindings;if(f){let m=r.hostBindingOpCodes;null===m&&(m=r.hostBindingOpCodes=[]);const E=~s.index;(function TD(r){let s=r.length;for(;s>0;){const o=r[--s];if("number"==typeof o&&o<0)return o}return 0})(m)!=E&&m.push(E),m.push(o,c,f)}}(r,s,c,uh(r,o,d.hostVars,St),d)}function Hs(r,s,o,c,d,f){const m=Sr(r,s);!function um(r,s,o,c,d,f,m){if(null==f)r.removeAttribute(s,d,o);else{const E=null==m?X(f):m(f,c||"",d);r.setAttribute(s,d,E,o)}}(s[ot],m,f,r.value,o,c,d)}function dm(r,s,o,c,d,f){const m=f[s];if(null!==m)for(let E=0;E<m.length;)fh(c,o,m[E++],m[E++],m[E++])}function fh(r,s,o,c,d){const f=Xn(null);try{const m=r.inputTransforms;null!==m&&m.hasOwnProperty(c)&&(d=m[c].call(s,d)),null!==r.setInput?r.setInput(s,d,o,c):s[c]=d}finally{Xn(f)}}function xy(r,s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(r.hasOwnProperty(f)){null===c&&(c=[]);const m=r[f];for(let E=0;E<m.length;E+=2)if(m[E]===s){c.push(f,m[E+1],o[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Fy(r,s,o,c){return[r,!0,!1,s,null,0,c,o,null,null,null]}function Ly(r,s){const o=r.contentQueries;if(null!==o)for(let c=0;c<o.length;c+=2){const f=o[c+1];if(-1!==f){const m=r.data[f];gl(o[c]),m.contentQueries(2,s[f],f)}}}function hm(r,s){return r[Za]?r[el][Ur]=s:r[Za]=s,r[el]=s,s}function ph(r,s,o){gl(0);const c=Xn(null);try{s(r,o)}finally{Xn(c)}}function dC(r){return r[hs]||(r[hs]=[])}function hC(r){return r.cleanup||(r.cleanup=[])}function gh(r,s){const o=r[fs],c=o?o.get(Ru,null):null;c&&c.handleError(s)}function Uy(r,s,o,c,d){for(let f=0;f<o.length;){const m=o[f++],E=o[f++];fh(r.data[m],s[m],c,E,d)}}function Gs(r,s,o){const c=ks(s,r);!function Tf(r,s,o){r.setValue(s,o)}(r[ot],c,o)}function OD(r,s){const o=jr(s,r),c=o[ze];!function fC(r,s){for(let o=s.length;o<r.blueprint.length;o++)s.push(r.blueprint[o])}(c,o);const d=o[yn];null!==d&&null===o[qi]&&(o[qi]=Gf(d,o[fs])),fm(c,o,o[vn])}function fm(r,s,o){Kc(s);try{const c=r.viewQuery;null!==c&&ph(1,c,o);const d=r.template;null!==d&&Ry(r,s,d,1,o),r.firstCreatePass&&(r.firstCreatePass=!1),r.staticContentQueries&&Ly(r,s),r.staticViewQueries&&ph(2,r.viewQuery,o);const f=r.components;null!==f&&function Jf(r,s){for(let o=0;o<s.length;o++)OD(r,s[o])}(s,f)}catch(c){throw r.firstCreatePass&&(r.incompleteFirstPass=!0,r.firstCreatePass=!1),c}finally{s[Ct]&=-5,Vs()}}let Ws=(()=>{class r{constructor(){this.all=new Set,this.queue=new Map}create(o,c,d){const f=typeof Zone>"u"?null:Zone.current,m=function bd(r,s,o){const c=Object.create(cl);o&&(c.consumerAllowSignalWrites=!0),c.fn=r,c.schedule=s;const d=m=>{c.cleanupFn=m};return c.ref={notify:()=>Zh(c),run:()=>{if(c.dirty=!1,c.hasRun&&!Tc(c))return;c.hasRun=!0;const m=$n(c);try{c.cleanupFn(),c.cleanupFn=Id,c.fn(d)}finally{rl(c,m)}},cleanup:()=>c.cleanupFn()},c.ref}(o,T=>{this.all.has(T)&&this.queue.set(T,f)},d);let E;this.all.add(m),m.notify();const b=()=>{m.cleanup(),E?.(),this.all.delete(m),this.queue.delete(m)};return E=c?.onDestroy(b),{destroy:b}}flush(){if(0!==this.queue.size)for(const[o,c]of this.queue)this.queue.delete(o),c?c.run(()=>o.run()):o.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=qe({token:r,providedIn:"root",factory:()=>new r})}}return r})();function zs(r,s,o){let c=o?r.styles:null,d=o?r.classes:null,f=0;if(null!==s)for(let m=0;m<s.length;m++){const E=s[m];"number"==typeof E?f=E:1==f?d=pe(d,E):2==f&&(c=pe(c,E+": "+s[++m]+";"))}o?r.styles=c:r.stylesWithoutHost=c,o?r.classes=d:r.classesWithoutHost=d}function Oa(r,s,o,c,d=!1){for(;null!==o;){const f=s[o.index];null!==f&&c.push(zt(f)),sr(f)&&Lu(f,c);const m=o.type;if(8&m)Oa(r,s,o.child,c);else if(32&m){const E=Ne(o,s);let b;for(;b=E();)c.push(b)}else if(16&m){const E=dE(s,o);if(Array.isArray(E))c.push(...E);else{const b=rt(s[Rn]);Oa(b[ze],b,E,c,!0)}}o=d?o.projectionNext:o.next}return c}function Lu(r,s){for(let o=jn;o<r.length;o++){const c=r[o],d=c[ze].firstChild;null!==d&&Oa(c[ze],c,d,s)}r[Br]!==r[yn]&&s.push(r[Br])}function Vu(r,s,o,c=!0){const d=s[Ei],f=d.rendererFactory,m=d.afterRenderEventManager;f.begin?.(),m?.begin();try{pC(r,s,r.template,o)}catch(b){throw c&&gh(s,b),b}finally{f.end?.(),d.effectManager?.flush(),m?.end()}}function pC(r,s,o,c){const d=s[Ct];if(256!=(256&d)){s[Ei].effectManager?.flush(),Kc(s);try{ul(s),function zc(r){return gt.lFrame.bindingIndex=r}(r.bindingStartIndex),null!==o&&Ry(r,s,o,2,c);const m=3==(3&d);if(m){const T=r.preOrderCheckHooks;null!==T&&_l(s,T,null)}else{const T=r.preOrderHooks;null!==T&&Co(s,T,0,null),kd(s,0)}if(function xD(r){for(let s=oi(r);null!==s;s=ko(s)){if(!s[Ri])continue;const o=s[Qi];for(let c=0;c<o.length;c++){Lc(o[c])}}}(s),gC(s,2),null!==r.contentQueries&&Ly(r,s),m){const T=r.contentCheckHooks;null!==T&&_l(s,T)}else{const T=r.contentHooks;null!==T&&Co(s,T,1),kd(s,1)}!function iC(r,s){const o=r.hostBindingOpCodes;if(null===o)return;const c=nC(s,Mi);try{for(let d=0;d<o.length;d++){const f=o[d];if(f<0)ms(~f);else{const m=f,E=o[++d],b=o[++d];pg(E,m),c.dirty=!1;const T=$n(c);try{b(2,s[m])}finally{rl(c,T)}}}}finally{null===s[Mi]&&Nu(s,Mi),ms(-1)}}(r,s);const E=r.components;null!==E&&_C(s,E,0);const b=r.viewQuery;if(null!==b&&ph(2,b,c),m){const T=r.viewCheckHooks;null!==T&&_l(s,T)}else{const T=r.viewHooks;null!==T&&Co(s,T,2),kd(s,2)}!0===r.firstUpdatePass&&(r.firstUpdatePass=!1),s[Ct]&=-73,dg(s)}finally{Vs()}}}function gC(r,s){for(let o=oi(r);null!==o;o=ko(o))for(let c=jn;c<o.length;c++)mC(o[c],s)}function FD(r,s,o){mC(jr(s,r),o)}function mC(r,s){if(!function nf(r){return 128==(128&r[Ct])}(r))return;const o=r[ze],c=r[Ct];if(80&c&&0===s||1024&c||2===s)pC(o,r,o.template,r[vn]);else if(r[ao]>0){gC(r,1);const d=o.components;null!==d&&_C(r,d,1)}}function _C(r,s,o){for(let c=0;c<s.length;c++)FD(r,s[c],o)}class Zf{get rootNodes(){const s=this._lView,o=s[ze];return Oa(o,s,o.firstChild,[])}constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[vn]}set context(s){this._lView[vn]=s}get destroyed(){return 256==(256&this._lView[Ct])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[Qt];if(sr(s)){const o=s[8],c=o?o.indexOf(this):-1;c>-1&&(xg(s,c),Ro(o,c))}this._attachedToViewContainer=!1}j_(this._lView[ze],this._lView)}onDestroy(s){!function rf(r,s){if(256==(256&r[Ct]))throw new ie(911,!1);null===r[Ci]&&(r[Ci]=[]),r[Ci].push(s)}(this._lView,s)}markForCheck(){Gl(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ct]&=-129}reattach(){this._lView[Ct]|=128}detectChanges(){Vu(this._lView[ze],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Mf(r,s){Jd(r,s,s[ot],2,null,null)}(this._lView[ze],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=s}}class LD extends Zf{constructor(s){super(s),this._view=s}detectChanges(){const s=this._view;Vu(s[ze],s,s[vn],!1)}checkNoChanges(){}get context(){return null}}class yC extends Jg{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Nt(s);return new gm(o,this.ngModule)}}function By(r){const s=[];for(let o in r)r.hasOwnProperty(o)&&s.push({propName:r[o],templateName:o});return s}class $y{constructor(s,o){this.injector=s,this.parentInjector=o}get(s,o,c){c=kt(c);const d=this.injector.get(s,Zg,c);return d!==Zg||o===Zg?d:this.parentInjector.get(s,o,c)}}class gm extends VE{get inputs(){const s=this.componentDef,o=s.inputTransforms,c=By(s.inputs);if(null!==o)for(const d of c)o.hasOwnProperty(d.propName)&&(d.transform=o[d.propName]);return c}get outputs(){return By(this.componentDef.outputs)}constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=function Xr(r){return r.map(gd).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}create(s,o,c,d){let f=(d=d||this.ngModule)instanceof Cs?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const m=f?new $y(s,f):s,E=m.get(yy,null);if(null===E)throw new ie(407,!1);const B={rendererFactory:E,sanitizer:m.get(dD,null),effectManager:m.get(Ws,null),afterRenderEventManager:m.get(Nr,null)},te=E.createRenderer(null,this.componentDef),ae=this.componentDef.selectors[0][0]||"div",Ae=c?function wD(r,s,o,c){const f=c.get(Ra,!1)||o===et.ShadowDom,m=r.selectRootElement(s,f);return function Qf(r){om(r)}(m),m}(te,c,this.componentDef.encapsulation,m):Fo(te,ae,function jy(r){const s=r.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(ae)),ct=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let ke=null;null!==Ae&&(ke=Gf(Ae,m,!0));const bt=Py(0,null,null,1,0,null,null,null,null,null,null),Bt=sm(null,bt,null,ct,null,null,B,te,m,null,ke);let cn,Zn;Kc(Bt);try{const bn=this.componentDef;let Fr,ud=null;bn.findHostDirectiveDefs?(Fr=[],ud=new Map,bn.findHostDirectiveDefs(bn,Fr,ud),Fr.push(bn)):Fr=[bn];const nS=function ep(r,s){const o=r[ze],c=xt;return r[c]=s,ku(o,c,2,"#host",null)}(Bt,Ae),rS=function vC(r,s,o,c,d,f,m){const E=d[ze];!function Hy(r,s,o,c){for(const d of r)s.mergedAttrs=br(s.mergedAttrs,d.hostAttrs);null!==s.mergedAttrs&&(zs(s,s.mergedAttrs,!0),null!==o&&fE(c,o,s))}(c,r,s,m);let b=null;null!==s&&(b=Gf(s,d[fs]));const T=f.rendererFactory.createRenderer(s,o);let P=16;o.signals?P=4096:o.onPush&&(P=64);const B=sm(d,hh(o),null,P,d[r.index],r,f,T,null,null,b);return E.firstCreatePass&&ky(E,r,c.length-1),hm(d,B),d[r.index]=B}(nS,Ae,bn,Fr,Bt,B,te);Zn=Fc(bt,xt),Ae&&function Na(r,s,o,c){if(c)za(r,o,["ng-version",Wf.full]);else{const{attrs:d,classes:f}=function cc(r){const s=[],o=[];let c=1,d=2;for(;c<r.length;){let f=r[c];if("string"==typeof f)2===d?""!==f&&s.push(f,r[++c]):8===d&&o.push(f);else{if(!rr(d))break;d=f}c++}return{attrs:s,classes:o}}(s.selectors[0]);d&&za(r,o,d),f&&f.length>0&&hE(r,o,f.join(" "))}}(te,bn,Ae,c),void 0!==o&&function mh(r,s,o){const c=r.projection=[];for(let d=0;d<s.length;d++){const f=o[d];c.push(null!=f?Array.from(f):null)}}(Zn,this.ngContentSelectors,o),cn=function Gy(r,s,o,c,d,f){const m=Pn(),E=d[ze],b=Sr(m,d);cm(E,d,m,o,null,c);for(let P=0;P<o.length;P++)ur(Nn(d,E,m.directiveStart+P,m),d);lC(E,d,m),b&&ur(b,d);const T=Nn(d,E,m.directiveStart+m.componentOffset,m);if(r[vn]=d[vn]=T,null!==f)for(const P of f)P(T,s);return dh(E,m,r),T}(rS,bn,Fr,ud,Bt,[EC]),fm(bt,Bt,null)}finally{Vs()}return new VD(this.componentType,cn,Mu(Zn,Bt),Bt,Zn)}}class VD extends lD{constructor(s,o,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=o,this.hostView=this.changeDetectorRef=new LD(d),this.componentType=s}setInput(s,o){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[s])){if(this.previousInputValues??=new Map,this.previousInputValues.has(s)&&Object.is(this.previousInputValues.get(s),o))return;const f=this._rootLView;Uy(f[ze],f,d,s,o),this.previousInputValues.set(s,o),Gl(jr(this._tNode.index,f))}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}function EC(){const r=Pn();ya(Oe()[ze],r)}function zy(r){let s=function Wy(r){return Object.getPrototypeOf(r.prototype).constructor}(r.type),o=!0;const c=[r];for(;s;){let d;if(Ar(r))d=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new ie(903,!1);d=s.\u0275dir}if(d){if(o){c.push(d);const m=r;m.inputs=tp(r.inputs),m.inputTransforms=tp(r.inputTransforms),m.declaredInputs=tp(r.declaredInputs),m.outputs=tp(r.outputs);const E=d.hostBindings;E&&CC(r,E);const b=d.viewQuery,T=d.contentQueries;if(b&&UD(r,b),T&&mm(r,T),G(r.inputs,d.inputs),G(r.declaredInputs,d.declaredInputs),G(r.outputs,d.outputs),null!==d.inputTransforms&&(null===m.inputTransforms&&(m.inputTransforms={}),G(m.inputTransforms,d.inputTransforms)),Ar(d)&&d.data.animation){const P=r.data;P.animation=(P.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let m=0;m<f.length;m++){const E=f[m];E&&E.ngInherit&&E(r),E===zy&&(o=!1)}}s=Object.getPrototypeOf(s)}!function ka(r){let s=0,o=null;for(let c=r.length-1;c>=0;c--){const d=r[c];d.hostVars=s+=d.hostVars,d.hostAttrs=br(d.hostAttrs,o=br(o,d.hostAttrs))}}(c)}function tp(r){return r===st?{}:r===Ye?[]:r}function UD(r,s){const o=r.viewQuery;r.viewQuery=o?(c,d)=>{s(c,d),o(c,d)}:s}function mm(r,s){const o=r.contentQueries;r.contentQueries=o?(c,d,f)=>{s(c,d,f),o(c,d,f)}:s}function CC(r,s){const o=r.hostBindings;r.hostBindings=o?(c,d)=>{s(c,d),o(c,d)}:s}function _h(r){const s=r.inputConfig,o={};for(const c in s)if(s.hasOwnProperty(c)){const d=s[c];Array.isArray(d)&&d[2]&&(o[c]=d[2])}r.inputTransforms=o}function vm(r){return!!Em(r)&&(Array.isArray(r)||!(r instanceof Map)&&Symbol.iterator in r)}function Em(r){return null!==r&&("function"==typeof r||"object"==typeof r)}function ui(r,s,o){return!Object.is(r[s],o)&&(r[s]=o,!0)}function TC(r,s,o,c){const d=Oe();return ui(d,pa(),s)&&(wt(),Hs(Yt(),d,r,s,o,c)),TC}function np(r,s,o,c){return ui(r,pa(),o)?s+X(o)+c:St}function Ch(r,s,o,c,d,f){const E=function vh(r,s,o,c){const d=ui(r,s,o);return ui(r,s+1,c)||d}(r,function ts(){return gt.lFrame.bindingIndex}(),o,d);return ki(2),E?s+X(o)+c+X(d)+f:St}function VC(r,s,o,c,d,f,m,E){const b=Oe(),T=wt(),P=r+xt,B=T.firstCreatePass?function LC(r,s,o,c,d,f,m,E,b){const T=s.consts,P=ku(s,r,4,m||null,Fs(T,E));Ny(s,o,P,Fs(T,b)),ya(s,P);const B=P.tView=Py(2,P,c,d,f,s.directiveRegistry,s.pipeRegistry,null,s.schemas,T,null);return null!==s.queries&&(s.queries.template(s,P),B.queries=s.queries.embeddedTView(P)),P}(P,T,b,s,o,c,d,f,m):T.data[P];Mr(B,!1);const te=UC(T,b,B,r);_s()&&_r(T,b,te,B),ur(te,b),hm(b,b[P]=Fy(te,b,te,B)),Ss(B)&&zl(T,b,B),null!=m&&en(b,B,E)}let UC=function BC(r,s,o,c){return cr(!0),s[ot].createComment("")};function iv(r,s,o){const c=Oe();return ui(c,pa(),s)&&function Ui(r,s,o,c,d,f,m,E){const b=Sr(s,o);let P,T=s.inputs;!E&&null!=T&&(P=T[c])?(Uy(r,o,P,c,d),or(s)&&function aC(r,s){const o=jr(s,r);16&o[Ct]||(o[Ct]|=64)}(o,s.index)):3&s.type&&(c=function lm(r){return"class"===r?"className":"for"===r?"htmlFor":"formaction"===r?"formAction":"innerHtml"===r?"innerHTML":"readonly"===r?"readOnly":"tabindex"===r?"tabIndex":r}(c),d=null!=m?m(d,s.value||"",c):d,f.setProperty(b,c,d))}(wt(),Yt(),c,r,s,c[ot],o,!1),iv}function sv(r,s,o,c,d){const m=d?"class":"style";Uy(r,o,s.inputs[m],m,c)}function Im(r,s,o,c){const d=Oe(),f=wt(),m=xt+r,E=d[ot],b=f.firstCreatePass?function nT(r,s,o,c,d,f){const m=s.consts,b=ku(s,r,2,c,Fs(m,d));return Ny(s,o,b,Fs(m,f)),null!==b.attrs&&zs(b,b.attrs,!1),null!==b.mergedAttrs&&zs(b,b.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,b),b}(m,f,d,s,o,c):f.data[m],T=ov(f,d,b,E,s,r);d[m]=T;const P=Ss(b);return Mr(b,!0),fE(E,T,b),32!=(32&b.flags)&&_s()&&_r(f,d,T,b),0===function Hn(){return gt.lFrame.elementDepthCount}()&&ur(T,d),function Rd(){gt.lFrame.elementDepthCount++}(),P&&(zl(f,d,b),dh(f,b,d)),null!==c&&en(d,b),Im}function cp(){let r=Pn();Gc()?function Wc(){gt.lFrame.isParent=!1}():(r=r.parent,Mr(r,!1));const s=r;(function hl(r){return gt.skipHydrationRootTNode===r})(s)&&function fa(){gt.skipHydrationRootTNode=null}(),function ar(){gt.lFrame.elementDepthCount--}();const o=wt();return o.firstCreatePass&&(ya(o,r),_c(r)&&o.queries.elementEnd(r)),null!=s.classesWithoutHost&&function _g(r){return 0!=(8&r.flags)}(s)&&sv(o,s,Oe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function Xc(r){return 0!=(16&r.flags)}(s)&&sv(o,s,Oe(),s.stylesWithoutHost,!1),cp}function jC(r,s,o,c){return Im(r,s,o,c),cp(),jC}let ov=(r,s,o,c,d,f)=>(cr(!0),Fo(c,d,function ns(){return gt.lFrame.currentNamespace}()));function Bu(){return Oe()}function up(r){return!!r&&"function"==typeof r.then}function zC(r){return!!r&&"function"==typeof r.subscribe}function uv(r,s,o,c){const d=Oe(),f=wt(),m=Pn();return function hv(r,s,o,c,d,f,m){const E=Ss(c),T=r.firstCreatePass&&hC(r),P=s[vn],B=dC(s);let te=!0;if(3&c.type||m){const Be=Sr(c,s),Qe=m?m(Be):Be,ct=B.length,ke=m?Bt=>m(zt(Bt[c.index])):c.index;let bt=null;if(!m&&E&&(bt=function Dm(r,s,o,c){const d=r.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const m=d[f];if(m===o&&d[f+1]===c){const E=s[hs],b=d[f+2];return E.length>b?E[b]:null}"string"==typeof m&&(f+=2)}return null}(r,s,d,c.index)),null!==bt)(bt.__ngLastListenerFn__||bt).__ngNextListenerFn__=f,bt.__ngLastListenerFn__=f,te=!1;else{f=KC(c,s,P,f,!1);const Bt=o.listen(Qe,d,f);B.push(f,Bt),T&&T.push(d,ke,ct,ct+1)}}else f=KC(c,s,P,f,!1);const ae=c.outputs;let Ae;if(te&&null!==ae&&(Ae=ae[d])){const Be=Ae.length;if(Be)for(let Qe=0;Qe<Be;Qe+=2){const cn=s[Ae[Qe]][Ae[Qe+1]].subscribe(f),Zn=B.length;B.push(f,cn),T&&T.push(d,c.index,Zn,-(Zn+1))}}}(f,d,d[ot],m,r,s,c),uv}function fv(r,s,o,c){try{return Oi(6,s,o),!1!==o(c)}catch(d){return gh(r,d),!1}finally{Oi(7,s,o)}}function KC(r,s,o,c,d){return function f(m){if(m===Function)return c;Gl(r.componentOffset>-1?jr(r.index,s):s);let b=fv(s,o,c,m),T=f.__ngNextListenerFn__;for(;T;)b=fv(s,o,T,m)&&b,T=T.__ngNextListenerFn__;return d&&!1===b&&m.preventDefault(),b}}function qC(r=1){return function yo(r){return(gt.lFrame.contextLView=function Nd(r,s){for(;r>0;)s=s[Ki],r--;return s}(r,gt.lFrame.contextLView))[vn]}(r)}function dp(r,s){return r<<17|s<<2}function Ko(r){return r>>17&32767}function Am(r){return 2|r}function Sh(r){return(131068&r)>>2}function tw(r,s){return-131069&r|s<<2}function hp(r){return 1|r}function rw(r,s,o,c,d){const f=r[o+1],m=null===s;let E=c?Ko(f):Sh(f),b=!1;for(;0!==E&&(!1===b||m);){const P=r[E+1];rM(r[E],s)&&(b=!0,r[E+1]=c?hp(P):Am(P)),E=c?Ko(P):Sh(P)}b&&(r[o+1]=c?Am(f):hp(f))}function rM(r,s){return null===r||null==s||(Array.isArray(r)?r[1]:r)===s||!(!Array.isArray(r)||"string"!=typeof s)&&Sl(r,s)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function dT(r){return r.substring(kr.key,kr.keyEnd)}function Sm(r,s){const o=kr.textEnd;return o===s?-1:(s=kr.keyEnd=function pT(r,s,o){for(;s<o&&r.charCodeAt(s)>32;)s++;return s}(r,kr.key=s,o),ju(r,s,o))}function ju(r,s,o){for(;s<o&&r.charCodeAt(s)<=32;)s++;return s}function _v(r,s){return function Qs(r,s,o,c){const d=Oe(),f=wt(),m=ki(2);f.firstUpdatePass&&yv(f,r,m,c),s!==St&&ui(d,m,s)&&Cv(f,f.data[lr()],d,d[ot],r,d[m+1]=function vT(r,s){return null==r||""===r||("string"==typeof s?r+=s:"object"==typeof r&&(r=K(Ma(r)))),r}(s,o),c,m)}(r,s,null,!0),_v}function Qo(r,s){for(let o=function sw(r){return function fT(r){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=r.length}(r),Sm(r,ju(r,0,kr.textEnd))}(s);o>=0;o=Sm(s,o))Fi(r,dT(s),!0)}function lw(r,s){return s>=r.expandoStartIndex}function yv(r,s,o,c){const d=r.data;if(null===d[o+1]){const f=d[lr()],m=lw(r,o);Bi(f,c)&&null===s&&!m&&(s=!1),s=function yT(r,s,o,c){const d=function ma(r){const s=gt.lFrame.currentDirectiveIndex;return-1===s?null:r[s]}(r);let f=c?s.residualClasses:s.residualStyles;if(null===d)0===(c?s.classBindings:s.styleBindings)&&(o=Mm(o=cw(null,r,s,o,c),s.attrs,c),f=null);else{const m=s.directiveStylingLast;if(-1===m||r[m]!==d)if(o=cw(d,r,s,o,c),null===f){let b=function oM(r,s,o){const c=o?s.classBindings:s.styleBindings;if(0!==Sh(c))return r[Ko(c)]}(r,s,c);void 0!==b&&Array.isArray(b)&&(b=cw(null,r,s,b[1],c),b=Mm(b,s.attrs,c),function aM(r,s,o,c){r[Ko(o?s.classBindings:s.styleBindings)]=c}(r,s,c,b))}else f=function lM(r,s,o){let c;const d=s.directiveEnd;for(let f=1+s.directiveStylingLast;f<d;f++)c=Mm(c,r[f].hostAttrs,o);return Mm(c,s.attrs,o)}(r,s,c)}return void 0!==f&&(c?s.residualClasses=f:s.residualStyles=f),o}(d,f,s,c),function nw(r,s,o,c,d,f){let m=f?s.classBindings:s.styleBindings,E=Ko(m),b=Sh(m);r[c]=o;let P,T=!1;if(Array.isArray(o)?(P=o[1],(null===P||Sl(o,P)>0)&&(T=!0)):P=o,d)if(0!==b){const te=Ko(r[E+1]);r[c+1]=dp(te,E),0!==te&&(r[te+1]=tw(r[te+1],c)),r[E+1]=function lT(r,s){return 131071&r|s<<17}(r[E+1],c)}else r[c+1]=dp(E,0),0!==E&&(r[E+1]=tw(r[E+1],c)),E=c;else r[c+1]=dp(b,0),0===E?E=c:r[b+1]=tw(r[b+1],c),b=c;T&&(r[c+1]=Am(r[c+1])),rw(r,P,c,!0),rw(r,P,c,!1),function Fa(r,s,o,c,d){const f=d?r.residualClasses:r.residualStyles;null!=f&&"string"==typeof s&&Sl(f,s)>=0&&(o[c+1]=hp(o[c+1]))}(s,P,r,c,f),m=dp(E,b),f?s.classBindings=m:s.styleBindings=m}(d,f,s,o,m,c)}}function cw(r,s,o,c,d){let f=null;const m=o.directiveEnd;let E=o.directiveStylingLast;for(-1===E?E=o.directiveStart:E++;E<m&&(f=s[E],c=Mm(c,f.hostAttrs,d),f!==r);)E++;return null!==r&&(o.directiveStylingLast=E),c}function Mm(r,s,o){const c=o?1:2;let d=-1;if(null!==s)for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?d=m:d===c&&(Array.isArray(r)||(r=void 0===r?[]:["",r]),Fi(r,m,!!o||s[++f]))}return void 0===r?null:r}function Cv(r,s,o,c,d,f,m,E){if(!(3&s.type))return;const b=r.data,T=b[E+1],P=function cT(r){return 1==(1&r)}(T)?uw(b,s,o,d,Sh(T),m):void 0;Rm(P)||(Rm(f)||function aT(r){return 2==(2&r)}(T)&&(f=uw(b,null,o,d,E,m)),function q_(r,s,o,c,d){if(s)d?r.addClass(o,c):r.removeClass(o,c);else{let f=-1===c.indexOf("-")?void 0:hu.DashCase;null==d?r.removeStyle(o,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=hu.Important),r.setStyle(o,c,d,f))}}(c,m,ks(lr(),o),d,f))}function uw(r,s,o,c,d,f){const m=null===s;let E;for(;d>0;){const b=r[d],T=Array.isArray(b),P=T?b[1]:b,B=null===P;let te=o[d+1];te===St&&(te=B?Ye:void 0);let ae=B?mf(te,c):P===c?te:void 0;if(T&&!Rm(ae)&&(ae=mf(b,c)),Rm(ae)&&(E=ae,m))return E;const Ae=r[d+1];d=m?Ko(Ae):Sh(Ae)}if(null!==s){let b=f?s.residualClasses:s.residualStyles;null!=b&&(E=mf(b,c))}return E}function Rm(r){return void 0!==r}function Bi(r,s){return 0!=(r.flags&(s?8:16))}function ET(r,s=""){const o=Oe(),c=wt(),d=r+xt,f=c.firstCreatePass?ku(c,d,1,s,null):c.data[d],m=dw(c,o,f,s,r);o[d]=m,_s()&&_r(c,o,m,f),Mr(f,!1)}let dw=(r,s,o,c,d)=>(cr(!0),function mu(r,s){return r.createText(s)}(s[ot],c));function La(r){return j("",r,""),La}function j(r,s,o){const c=Oe(),d=np(c,r,s,o);return d!==St&&Gs(c,lr(),d),j}function Mh(r,s,o,c,d){const f=Oe(),m=Ch(f,r,s,o,c,d);return m!==St&&Gs(f,lr(),m),Mh}function ql(r,s,o){!function Ys(r,s,o,c){const d=wt(),f=ki(2);d.firstUpdatePass&&yv(d,null,f,c);const m=Oe();if(o!==St&&ui(m,f,o)){const E=d.data[lr()];if(Bi(E,c)&&!lw(d,f)){let b=c?E.classesWithoutHost:E.stylesWithoutHost;null!==b&&(o=pe(b,o||"")),sv(d,E,m,o,c)}else!function Ev(r,s,o,c,d,f,m,E){d===St&&(d=Ye);let b=0,T=0,P=0<d.length?d[0]:null,B=0<f.length?f[0]:null;for(;null!==P||null!==B;){const te=b<d.length?d[b+1]:void 0,ae=T<f.length?f[T+1]:void 0;let Be,Ae=null;P===B?(b+=2,T+=2,te!==ae&&(Ae=B,Be=ae)):null===B||null!==P&&P<B?(b+=2,Ae=P):(T+=2,Ae=B,Be=ae),null!==Ae&&Cv(r,s,o,c,Ae,Be,m,E),P=b<d.length?d[b]:null,B=T<f.length?f[T]:null}}(d,E,m,m[ot],m[f+1],m[f+1]=function cM(r,s,o){if(null==o||""===o)return Ye;const c=[],d=Ma(o);if(Array.isArray(d))for(let f=0;f<d.length;f++)r(c,d[f],!0);else if("object"==typeof d)for(const f in d)d.hasOwnProperty(f)&&r(c,f,d[f]);else"string"==typeof d&&s(c,d);return c}(r,s,o),c,f)}}(Fi,Qo,np(Oe(),r,s,o),!0)}const Gu=void 0;var IT=["en",[["a","p"],["AM","PM"],Gu],[["AM","PM"],Gu,Gu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Gu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Gu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Gu,"{1} 'at' {0}",Gu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bT(r){const o=Math.floor(Math.abs(r)),c=r.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===c?1:5}];let Wu={};function Rv(r){const s=function Iw(r){return r.toLowerCase().replace(/_/g,"-")}(r);let o=bw(s);if(o)return o;const c=s.split("-")[0];if(o=bw(c),o)return o;if("en"===c)return IT;throw new ie(701,!1)}function ww(r){return Rv(r)[Va.PluralCase]}function bw(r){return r in Wu||(Wu[r]=qt.ng&&qt.ng.common&&qt.ng.common.locales&&qt.ng.common.locales[r]),Wu[r]}var Va=function(r){return r[r.LocaleId=0]="LocaleId",r[r.DayPeriodsFormat=1]="DayPeriodsFormat",r[r.DayPeriodsStandalone=2]="DayPeriodsStandalone",r[r.DaysFormat=3]="DaysFormat",r[r.DaysStandalone=4]="DaysStandalone",r[r.MonthsFormat=5]="MonthsFormat",r[r.MonthsStandalone=6]="MonthsStandalone",r[r.Eras=7]="Eras",r[r.FirstDayOfWeek=8]="FirstDayOfWeek",r[r.WeekendRange=9]="WeekendRange",r[r.DateFormat=10]="DateFormat",r[r.TimeFormat=11]="TimeFormat",r[r.DateTimeFormat=12]="DateTimeFormat",r[r.NumberSymbols=13]="NumberSymbols",r[r.NumberFormats=14]="NumberFormats",r[r.CurrencyCode=15]="CurrencyCode",r[r.CurrencySymbol=16]="CurrencySymbol",r[r.CurrencyName=17]="CurrencyName",r[r.Currencies=18]="Currencies",r[r.Directionality=19]="Directionality",r[r.PluralCase=20]="PluralCase",r[r.ExtraData=21]="ExtraData",r}(Va||{});const zu="en-US";let Pv=zu;function xh(r,s,o,c,d){if(r=Se(r),Array.isArray(r))for(let f=0;f<r.length;f++)xh(r[f],s,o,c,d);else{const f=wt(),m=Oe(),E=Pn();let b=Du(r)?r:Se(r.provide);const T=ay(r),P=1048575&E.providerIndexes,B=E.directiveStart,te=E.providerIndexes>>20;if(Du(r)||!r.multi){const ae=new El(T,d,ch),Ae=Fh(b,s,d?P:P+te,B);-1===Ae?(Ca(bo(E,m),f,b),Gm(f,r,s.length),s.push(b),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),o.push(ae),m.push(ae)):(o[Ae]=ae,m[Ae]=ae)}else{const ae=Fh(b,s,P+te,B),Ae=Fh(b,s,P,P+te),Qe=Ae>=0&&o[Ae];if(d&&!Qe||!d&&!(ae>=0&&o[ae])){Ca(bo(E,m),f,b);const ct=function KT(r,s,o,c,d){const f=new El(r,o,ch);return f.multi=[],f.index=s,f.componentProviders=0,Xs(f,d,c&&!o),f}(d?zT:Js,o.length,d,c,T);!d&&Qe&&(o[Ae].providerFactory=ct),Gm(f,r,s.length,0),s.push(b),E.directiveStart++,E.directiveEnd++,d&&(E.providerIndexes+=1048576),o.push(ct),m.push(ct)}else Gm(f,r,ae>-1?ae:Ae,Xs(o[d?Ae:ae],T,!d&&c));!d&&c&&Qe&&o[Ae].componentProviders++}}}function Gm(r,s,o,c){const d=Du(s),f=function AE(r){return!!r.useClass}(s);if(d||f){const b=(f?Se(s.useClass):s).prototype.ngOnDestroy;if(b){const T=r.destroyHooks||(r.destroyHooks=[]);if(!d&&s.multi){const P=T.indexOf(o);-1===P?T.push(o,[c,b]):T[P+1].push(c,b)}else T.push(o,b)}}}function Xs(r,s,o){return o&&r.componentProviders++,r.multi.push(s)-1}function Fh(r,s,o,c){for(let d=o;d<c;d++)if(s[d]===r)return d;return-1}function Js(r,s,o,c){return pi(this.multi,[])}function zT(r,s,o,c){const d=this.multi;let f;if(this.providerFactory){const m=this.providerFactory.componentProviders,E=Nn(o,o[ze],this.providerFactory.index,c);f=E.slice(0,m),pi(d,f);for(let b=m;b<E.length;b++)f.push(E[b])}else f=[],pi(d,f);return f}function pi(r,s){for(let o=0;o<r.length;o++)s.push((0,r[o])());return s}function Wm(r,s=[]){return o=>{o.providersResolver=(c,d)=>function Hm(r,s,o){const c=wt();if(c.firstCreatePass){const d=Ar(r);xh(o,c.data,c.blueprint,d,!0),xh(s,c.data,c.blueprint,d,!1)}}(c,d?d(r):r,s)}}class Ua{}class Yw{}function Xw(r,s){return new zm(r,s??null,[])}class zm extends Ua{constructor(s,o,c){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yC(this);const d=Ir(s);this._bootstrapComponents=$o(d.bootstrap),this._r3Injector=zE(s,o,[{provide:Ua,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver},...c],K(s),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(s)}get injector(){return this._r3Injector}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zl extends Yw{constructor(s){super(),this.moduleType=s}create(s){return new zm(this.moduleType,s,[])}}class Hv extends Ua{constructor(s){super(),this.componentFactoryResolver=new yC(this),this.instance=null;const o=new $f([...s.providers,{provide:Ua,useValue:this},{provide:Jg,useValue:this.componentFactoryResolver}],s.parent||Gg(),s.debugName,new Set(["environment"]));this.injector=o,s.runEnvironmentInitializers&&o.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(s){this.injector.onDestroy(s)}}function Zw(r,s,o=null){return new Hv({providers:r,parent:s,debugName:o,runEnvironmentInitializers:!0}).injector}let QT=(()=>{class r{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o)){const c=nh(0,o.type),d=c.length>0?Zw([c],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o,d)}return this.cachedInjectors.get(o)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=qe({token:r,providedIn:"environment",factory:()=>new r(Wt(Cs))})}}return r})();function eb(r){r.getStandaloneInjector=s=>s.get(QT).getOrCreateStandaloneInjector(r)}function ub(){return this._results[Symbol.iterator]()}class Yv{get changes(){return this._changes||(this._changes=new jo)}constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Yv.prototype;o[Symbol.iterator]||(o[Symbol.iterator]=ub)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const c=this;c.dirty=!1;const d=function Gn(r){return r.flat(Number.POSITIVE_INFINITY)}(s);(this._changesDetected=!function ri(r,s,o){if(r.length!==s.length)return!1;for(let c=0;c<r.length;c++){let d=r[c],f=s[c];if(o&&(d=o(d),f=o(f)),f!==d)return!1}return!0}(c._results,d,o))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Zo(r,s,o,c=!0){const d=s[ze];if(function Rf(r,s,o,c){const d=jn+c,f=o.length;c>0&&(o[d-1][Ur]=s),c<f-jn?(s[Ur]=o[d],R_(o,jn+c,s)):(o.push(s),s[Ur]=null),s[Qt]=o;const m=s[lo];null!==m&&o!==m&&function B_(r,s){const o=r[Qi];s[Rn]!==s[Qt][Qt][Rn]&&(r[Ri]=!0),null===o?r[Qi]=[s]:o.push(s)}(m,s);const E=s[Tr];null!==E&&E.insertView(r),s[Ct]|=128}(d,s,r,o),c){const f=W_(o,r),m=s[ot],E=Lg(m,r[Br]);null!==E&&function Sf(r,s,o,c,d,f){c[yn]=d,c[gr]=s,Jd(r,c,o,1,d,f)}(d,r[gr],m,s,E,f)}}let Qu=(()=>{class r{static{this.__NG_ELEMENT_ID__=Op}}return r})();const Xv=Qu,Zm=class extends Xv{constructor(s,o,c){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(s,o){return this.createEmbeddedViewImpl(s,o)}createEmbeddedViewImpl(s,o,c){const d=function tA(r,s,o,c){const d=s.tView,E=sm(r,d,o,4096&r[Ct]?4096:16,null,s,null,null,null,c?.injector??null,c?.hydrationInfo??null);E[lo]=r[s.index];const T=r[Tr];return null!==T&&(E[Tr]=T.createEmbeddedView(d)),fm(d,E,o),E}(this._declarationLView,this._declarationTContainer,s,{injector:o,hydrationInfo:c});return new Zf(d)}};function Op(){return ea(Pn(),Oe())}function ea(r,s){return 4&r.type?new Zm(s,r,Mu(r,s)):null}let Xu=(()=>{class r{static{this.__NG_ELEMENT_ID__=Ju}}return r})();function Ju(){return Bh(Pn(),Oe())}const Zv=Xu,pb=class extends Zv{constructor(s,o,c){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=c}get element(){return Mu(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){const s=To(this._hostTNode,this._hostLView);if(wl(s)){const o=Ea(s,this._hostLView),c=va(s);return new kn(o[ze].data[c+8],o)}return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=gn(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-jn}createEmbeddedView(s,o,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const E=s.createEmbeddedViewImpl(o||{},f,null);return this.insertImpl(E,d,false),E}createComponent(s,o,c,d,f){const m=s&&!function An(r){return"function"==typeof r}(s);let E;if(m)E=o;else{const Be=o||{};E=Be.index,c=Be.injector,d=Be.projectableNodes,f=Be.environmentInjector||Be.ngModuleRef}const b=m?s:new gm(Nt(s)),T=c||this.parentInjector;if(!f&&null==b.ngModule){const Qe=(m?T:this.parentInjector).get(Cs,null);Qe&&(f=Qe)}Nt(b.componentType??{});const ae=b.create(T,d,null,f);return this.insertImpl(ae.hostView,E,false),ae}insert(s,o){return this.insertImpl(s,o,!1)}insertImpl(s,o,c){const d=s._lView;if(function xs(r){return sr(r[Qt])}(d)){const b=this.indexOf(s);if(-1!==b)this.detach(b);else{const T=d[Qt],P=new pb(T,T[gr],T[Qt]);P.detach(P.indexOf(s))}}const m=this._adjustIndex(o),E=this._lContainer;return Zo(E,d,m,!c),s.attachToViewContainerRef(),R_(ss(E),m,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=gn(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),c=xg(this._lContainer,o);c&&(Ro(ss(this._lContainer),o),j_(c[ze],c))}detach(s){const o=this._adjustIndex(s,-1),c=xg(this._lContainer,o);return c&&null!=Ro(ss(this._lContainer),o)?new Zf(c):null}_adjustIndex(s,o=0){return s??this.length+o}};function gn(r){return r[8]}function ss(r){return r[8]||(r[8]=[])}function Bh(r,s){let o;const c=s[r.index];return sr(c)?o=c:(o=Fy(c,s,null,r),s[r.index]=o,hm(s,o)),t0(o,s,r,c),new pb(o,r,s)}let t0=function n_(r,s,o,c){if(r[Br])return;let d;d=8&o.type?zt(c):function e0(r,s){const o=r[ot],c=o.createComment(""),d=Sr(s,r);return Xd(o,Lg(o,d),c,function OI(r,s){return r.nextSibling(s)}(o,d),!1),c}(s,o),r[Br]=d};class ta{constructor(s){this.queryList=s,this.matches=null}clone(){return new ta(this.queryList)}setDirty(){this.queryList.setDirty()}}class xp{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const c=null!==s.contentQueries?s.contentQueries[0]:o.length,d=[];for(let f=0;f<c;f++){const m=o.getByIndex(f);d.push(this.queries[m.indexInDeclarationView].clone())}return new xp(d)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==Cb(s,o).matches&&this.queries[o].setDirty()}}class ed{constructor(s,o,c=null){this.predicate=s,this.flags=o,this.read=c}}class r_{constructor(s=[]){this.queries=s}elementStart(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let c=0;c<this.length;c++){const d=null!==o?o.length:0,f=this.getByIndex(c).embeddedTView(s,d);f&&(f.indexInDeclarationView=c,null!==o?o.push(f):o=[f])}return null!==o?new r_(o):null}template(s,o){for(let c=0;c<this.queries.length;c++)this.queries[c].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class jh{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new jh(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let c=s.parent;for(;null!==c&&8&c.type&&c.index!==o;)c=c.parent;return o===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(s,o,rA(o,f)),this.matchTNodeWithReadOption(s,o,Ao(o,s,f,!1,!1))}else c===Qu?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,Ao(o,s,c,!1,!1))}matchTNodeWithReadOption(s,o,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===js||d===Xu||d===Qu&&4&o.type)this.addMatch(o.index,-2);else{const f=Ao(o,s,d,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,c)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function rA(r,s){const o=r.localNames;if(null!==o)for(let c=0;c<o.length;c+=2)if(o[c]===s)return o[c+1];return null}function sA(r,s,o,c){return-1===o?function iA(r,s){return 11&r.type?Mu(r,s):4&r.type?ea(r,s):null}(s,r):-2===o?function oA(r,s,o){return o===js?Mu(s,r):o===Qu?ea(s,r):o===Xu?Bh(s,r):void 0}(r,s,c):Nn(r,r[ze],o,s)}function mb(r,s,o,c){const d=s[Tr].queries[c];if(null===d.matches){const f=r.data,m=o.matches,E=[];for(let b=0;b<m.length;b+=2){const T=m[b];E.push(T<0?null:sA(s,f[T],m[b+1],o.metadata.read))}d.matches=E}return d.matches}function n0(r,s,o,c){const d=r.queries.getByIndex(o),f=d.matches;if(null!==f){const m=mb(r,s,d,o);for(let E=0;E<f.length;E+=2){const b=f[E];if(b>0)c.push(m[E/2]);else{const T=f[E+1],P=s[-b];for(let B=jn;B<P.length;B++){const te=P[B];te[lo]===te[Qt]&&n0(te[ze],te,T,c)}if(null!==P[Qi]){const B=P[Qi];for(let te=0;te<B.length;te++){const ae=B[te];n0(ae[ze],ae,T,c)}}}}}return c}function _b(r){const s=Oe(),o=wt(),c=cf();gl(c+1);const d=Cb(o,c);if(r.dirty&&function mo(r){return 4==(4&r[Ct])}(s)===(2==(2&d.metadata.flags))){if(null===d.matches)r.reset([]);else{const f=d.crossesNgTemplate?n0(o,s,c,[]):mb(o,s,d,c);r.reset(f,cD),r.notifyOnChanges()}return!0}return!1}function r0(r,s,o){const c=wt();c.firstCreatePass&&(Eb(c,new ed(r,s,o),-1),2==(2&s)&&(c.staticViewQueries=!0)),vb(c,Oe(),s)}function s0(r,s,o,c){const d=wt();if(d.firstCreatePass){const f=Pn();Eb(d,new ed(s,o,c),f.index),function lA(r,s){const o=r.contentQueries||(r.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(r.queries.length-1,s)}(d,r),2==(2&o)&&(d.staticContentQueries=!0)}vb(d,Oe(),o)}function yb(){return function aA(r,s){return r[Tr].queries[s].queryList}(Oe(),cf())}function vb(r,s,o){const c=new Yv(4==(4&o));(function Yf(r,s,o,c){const d=dC(s);d.push(o),r.firstCreatePass&&hC(r).push(c,d.length-1)})(r,s,c,c.destroy),null===s[Tr]&&(s[Tr]=new xp),s[Tr].queries.push(new ta(c))}function Eb(r,s,o){null===r.queries&&(r.queries=new r_),r.queries.track(new jh(s,o))}function Cb(r,s){return r.queries.getByIndex(s)}function a0(r){return!!Ir(r)}const Fb=new tt("Application Initializer");let Up=(()=>{class r{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((o,c)=>{this.resolve=o,this.reject=c}),this.appInits=Et(Fb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const o=[];for(const d of this.appInits){const f=d();if(up(f))o.push(f);else if(zC(f)){const m=new Promise((E,b)=>{f.subscribe({complete:E,error:b})});o.push(m)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(o).then(()=>{c()}).catch(d=>{this.reject(d)}),0===o.length&&c(),this.initialized=!0}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})(),Bp=(()=>{class r{log(o){console.log(o)}warn(o){console.warn(o)}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();const Ha=new tt("LocaleId",{providedIn:"root",factory:()=>Et(Ha,lt.Optional|lt.SkipSelf)||function bA(){return typeof $localize<"u"&&$localize.locale||zu}()}),Lb=new tt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let $p=(()=>{class r{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new x.t(!1)}add(){this.hasPendingTasks.next(!0);const o=this.taskId++;return this.pendingTasks.add(o),o}remove(o){this.pendingTasks.delete(o),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();class E0{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}let C0=(()=>{class r{compileModuleSync(o){return new Zl(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const c=this.compileModuleSync(o),f=$o(Ir(o).declarations).reduce((m,E)=>{const b=Nt(E);return b&&m.push(new gm(b)),m},[]);return new E0(c,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();const P0=new tt(""),zb=new tt("");let O0,Wp=(()=>{class r{constructor(o,c,d){this._ngZone=o,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,O0||(function zp(r){O0=r}(d),d.addToWindow(c)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Or.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(o)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==f),o(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:d})}whenStable(o,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,c,d){return[]}static{this.\u0275fac=function(c){return new(c||r)(Wt(Or),Wt(Zs),Wt(zb))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac})}}return r})(),Zs=(()=>{class r{constructor(){this._applications=new Map}registerApplication(o,c){this._applications.set(o,c)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,c=!0){return O0?.findTestabilityInTree(this,o,c)??null}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})(),Ga=null;const p_=new tt("AllowMultipleToken"),sd=new tt("PlatformDestroyListeners"),od=new tt("appBootstrapListener");class g_{constructor(s,o){this.name=s,this.token=o}}function x0(r,s,o=[]){const c=`Platform: ${s}`,d=new tt(c);return(f=[])=>{let m=m_();if(!m||m.injector.get(p_,!1)){const E=[...o,...f,{provide:d,useValue:!0}];r?r(E):function Kb(r){if(Ga&&!Ga.get(p_,!1))throw new ie(400,!1);(function N0(){!function al(r){Mc=r}(()=>{throw new ie(600,!1)})})(),Ga=r;const s=r.get(Hh);(function k0(r){r.get(ly,null)?.forEach(o=>o())})(r)}(function qb(r=[],s){return Bo.create({name:s,providers:[{provide:sy,useValue:"platform"},{provide:sd,useValue:new Set([()=>Ga=null])},...r]})}(E,c))}return function NA(r){const s=m_();if(!s)throw new ie(401,!1);return s}()}}function m_(){return Ga?.get(Hh)??null}let Hh=(()=>{class r{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,c){const d=function Qb(r="zone.js",s){return"noop"===r?new nm:"zone.js"===r?new Or(s):r}(c?.ngZone,function F0(r){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:r?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:r?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function Jw(r,s,o){return new zm(r,s,o)}(o.moduleType,this.injector,function Jb(r){return[{provide:Or,useFactory:r},{provide:bu,multi:!0,useFactory:()=>{const s=Et(xA,{optional:!0});return()=>s.initialize()}},{provide:Xb,useFactory:kA},{provide:Dy,useFactory:YE}]}(()=>d)),m=f.injector.get(Ru,null);return d.runOutsideAngular(()=>{const E=d.onError.subscribe({next:b=>{m.handleError(b)}});f.onDestroy(()=>{y_(this._modules,f),E.unsubscribe()})}),function Yb(r,s,o){try{const c=o();return up(c)?c.catch(d=>{throw s.runOutsideAngular(()=>r.handleError(d)),d}):c}catch(c){throw s.runOutsideAngular(()=>r.handleError(c)),c}}(m,d,()=>{const E=f.injector.get(Up);return E.runInitializers(),E.donePromise.then(()=>(function Fm(r){Me(r,"Expected localeId to be defined"),"string"==typeof r&&(Pv=r.toLowerCase().replace(/_/g,"-"))}(f.injector.get(Ha,zu)||zu),this._moduleDoBootstrap(f),f))})})}bootstrapModule(o,c=[]){const d=__({},c);return function PA(r,s,o){const c=new Zl(o);return Promise.resolve(c)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(o){const c=o.injector.get(Wa);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!o.instance.ngDoBootstrap)throw new ie(-403,!1);o.instance.ngDoBootstrap(c)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const o=this._injector.get(sd,null);o&&(o.forEach(c=>c()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(c){return new(c||r)(Wt(Bo))}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"platform"})}}return r})();function __(r,s){return Array.isArray(s)?s.reduce(__,r):{...r,...s}}let Wa=(()=>{class r{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Et(Xb),this.zoneIsStable=Et(Dy),this.componentTypes=[],this.components=[],this.isStable=Et($p).hasPendingTasks.pipe((0,Y.n)(o=>o?(0,$.of)(!1):this.zoneIsStable),(0,ee.F)(),(0,W.u)()),this._injector=Et(Cs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,c){const d=o instanceof VE;if(!this._injector.get(Up).done)throw!d&&ds(o),new ie(405,!1);let m;m=d?o:this._injector.get(Jg).resolveComponentFactory(o),this.componentTypes.push(m.componentType);const E=function OA(r){return r.isBoundToModule}(m)?void 0:this._injector.get(Ua),T=m.create(Bo.NULL,[],c||m.selector,E),P=T.location.nativeElement,B=T.injector.get(P0,null);return B?.registerApplication(P),T.onDestroy(()=>{this.detachView(T.hostView),y_(this.components,T),B?.unregisterApplication(P)}),this._loadComponent(T),T}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this.internalErrorHandler(o)}finally{this._runningTick=!1}}attachView(o){const c=o;this._views.push(c),c.attachToAppRef(this)}detachView(o){const c=o;y_(this._views,c),c.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o);const c=this._injector.get(od,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>y_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ie(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function y_(r,s){const o=r.indexOf(s);o>-1&&r.splice(o,1)}const Xb=new tt("",{providedIn:"root",factory:()=>Et(Ru).handleError.bind(void 0)});function kA(){const r=Et(Or),s=Et(Ru);return o=>r.runOutsideAngular(()=>s.handleError(o))}let xA=(()=>{class r{constructor(){this.zone=Et(Or),this.applicationRef=Et(Wa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(c){return new(c||r)}}static{this.\u0275prov=qe({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();function VA(){return!1}let tc=(()=>{class r{static{this.__NG_ELEMENT_ID__=BA}}return r})();function BA(r){return function L0(r,s,o){if(or(r)&&!o){const c=jr(r.index,s);return new Zf(c,c)}return 47&r.type?new Zf(s[Rn],s):null}(Pn(),Oe(),16==(16&r))}class Xp{constructor(){}supports(s){return vm(s)}create(s){return new b_(s)}}const nc=(r,s)=>s;class b_{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||nc}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,c=this._removalsHead,d=0,f=null;for(;o||c;){const m=!c||o&&o.currentIndex<G0(c,d,f)?o:c,E=G0(m,d,f),b=m.currentIndex;if(m===c)d--,c=c._nextRemoved;else if(o=o._next,null==m.previousIndex)d++;else{f||(f=[]);const T=E-d,P=b-d;if(T!=P){for(let te=0;te<T;te++){const ae=te<f.length?f[te]:f[te]=0,Ae=ae+te;P<=Ae&&Ae<T&&(f[te]=ae+1)}f[m.previousIndex]=P-T}}E!==b&&s(m,E,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!vm(s))throw new ie(900,!1);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let d,f,m,o=this._itHead,c=!1;if(Array.isArray(s)){this.length=s.length;for(let E=0;E<this.length;E++)f=s[E],m=this._trackByFn(E,f),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,f,m,E)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,m,E),c=!0),o=o._next}else d=0,function DC(r,s){if(Array.isArray(r))for(let o=0;o<r.length;o++)s(r[o]);else{const o=r[Symbol.iterator]();let c;for(;!(c=o.next()).done;)s(c.value)}}(s,E=>{m=this._trackByFn(d,E),null!==o&&Object.is(o.trackById,m)?(c&&(o=this._verifyReinsertion(o,E,m,d)),Object.is(o.item,E)||this._addIdentityChange(o,E)):(o=this._mismatch(o,E,m,d),c=!0),o=o._next,d++}),this.length=d;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,c,d){let f;return null===s?f=this._itTail:(f=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,f,d)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,f,d)):s=this._addAfter(new Ds(o,c),f,d),s}_verifyReinsertion(s,o,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?s=this._reinsertAfter(f,s._prev,d):s.currentIndex!=d&&(s.currentIndex=d,this._addToMoves(s,d)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const d=s._prevRemoved,f=s._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(s,o,c),this._addToMoves(s,c),s}_moveAfter(s,o,c){return this._unlink(s),this._insertAfter(s,o,c),this._addToMoves(s,c),s}_addAfter(s,o,c){return this._insertAfter(s,o,c),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,c){const d=null===o?this._itHead:o._next;return s._next=d,s._prev=o,null===d?this._itTail=s:d._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new H0),this._linkedRecords.put(s),s.currentIndex=c,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,c=s._next;return null===o?this._itHead=c:o._next=c,null===c?this._itTail=o:c._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new H0),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Ds{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class cd{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===o||o<=c.currentIndex)&&Object.is(c.trackById,s))return c;return null}remove(s){const o=s._prevDup,c=s._nextDup;return null===o?this._head=c:o._nextDup=c,null===c?this._tail=o:c._prevDup=o,null===this._head}}class H0{constructor(){this.map=new Map}put(s){const o=s.trackById;let c=this.map.get(o);c||(c=new cd,this.map.set(o,c)),c.add(s)}get(s,o){const d=this.map.get(s);return d?d.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function G0(r,s,o){const c=r.previousIndex;if(null===c)return c;let d=0;return o&&c<o.length&&(d=o[c]),c+s+d}class rc{constructor(){}supports(s){return s instanceof Map||Em(s)}create(){return new AM}}class AM{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Em(s)))throw new ie(900,!1)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(c,d)=>{if(o&&o.key===d)this._maybeAddToChanges(o,c),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(d,c);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let c=o;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const c=s._prev;return o._next=s,o._prev=c,s._prev=o,c&&(c._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const d=this._records.get(s);this._maybeAddToChanges(d,o);const f=d._prev,m=d._next;return f&&(f._next=m),m&&(m._prev=f),d._next=null,d._prev=null,d}const c=new HA(s);return this._records.set(s,c),c.currentValue=o,this._addToAdditions(c),c}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(c=>o(s[c],c))}}class HA{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function rI(){return new Jp([new Xp])}let Jp=(()=>{class r{static{this.\u0275prov=qe({token:r,providedIn:"root",factory:rI})}constructor(o){this.factories=o}static create(o,c){if(null!=c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||rI()),deps:[[r,new Da,new jd]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(null!=c)return c;throw new ie(901,!1)}}return r})();function iI(){return new W0([new rc])}let W0=(()=>{class r{static{this.\u0275prov=qe({token:r,providedIn:"root",factory:iI})}constructor(o){this.factories=o}static create(o,c){if(c){const d=c.factories.slice();o=o.concat(d)}return new r(o)}static extend(o){return{provide:r,useFactory:c=>r.create(o,c||iI()),deps:[[r,new Da,new jd]]}}find(o){const c=this.factories.find(d=>d.supports(o));if(c)return c;throw new ie(901,!1)}}return r})();const K0=x0(null,"core",[]);let sI=(()=>{class r{constructor(o){}static{this.\u0275fac=function(c){return new(c||r)(Wt(Wa))}}static{this.\u0275mod=Xa({type:r})}static{this.\u0275inj=Kt({})}}return r})();function JA(r){return"boolean"==typeof r?r:null!=r&&"false"!==r}function pI(r){const s=Nt(r);if(!s)return null;const o=new gm(s);return{get selector(){return o.selector},get type(){return o.componentType},get inputs(){return o.inputs},get outputs(){return o.outputs},get ngContentSelectors(){return o.ngContentSelectors},get isStandalone(){return s.standalone},get isSignal(){return s.signals}}}},3345:(Ve,H,R)=>{"use strict";R.d(H,{A:()=>Pe});var l=R(1076),N=R(1362),S=R(7852),k=R(8041);class x{constructor(Te,be){this._delegate=Te,this.firebase=be,(0,S._addComponent)(Te,new N.uA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,S.deleteApp)(this._delegate)))}_getService(Te,be=S._DEFAULT_ENTRY_NAME){var Ue;this._delegate.checkDestroyed();const xe=this._delegate.container.getProvider(Te);return!xe.isInitialized()&&"EXPLICIT"===(null===(Ue=xe.getComponent())||void 0===Ue?void 0:Ue.instantiationMode)&&xe.initialize(),xe.getImmediate({identifier:be})}_removeServiceInstance(Te,be=S._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(be)}_addComponent(Te){(0,S._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,S._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const W=new l.FA("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function ee(){const Se=function Y(Se){const Te={},be={__esModule:!0,initializeApp:function ie(_e,we={}){const re=S.initializeApp(_e,we);if((0,l.gR)(Te,re.name))return Te[re.name];const Le=new Se(re,be);return Te[re.name]=Le,Le},app:xe,registerVersion:S.registerVersion,setLogLevel:S.setLogLevel,onLog:S.onLog,apps:null,SDK_VERSION:S.SDK_VERSION,INTERNAL:{registerComponent:function X(_e){const we=_e.name,re=we.replace("-compat","");if(S._registerComponent(_e)&&"PUBLIC"===_e.type){const Le=($e=xe())=>{if("function"!=typeof $e[re])throw W.create("invalid-app-argument",{appName:we});return $e[re]()};void 0!==_e.serviceProps&&(0,l.zw)(Le,_e.serviceProps),be[re]=Le,Se.prototype[re]=function(...$e){return this._getService.bind(this,we).apply(this,_e.multipleInstances?$e:[])}}return"PUBLIC"===_e.type?be[re]:null},removeApp:function Ue(_e){delete Te[_e]},useAsService:function ue(_e,we){return"serverAuth"===we?null:we},modularAPIs:S}};function xe(_e){if(!(0,l.gR)(Te,_e=_e||S._DEFAULT_ENTRY_NAME))throw W.create("no-app",{appName:_e});return Te[_e]}return be.default=be,Object.defineProperty(be,"apps",{get:function Ce(){return Object.keys(Te).map(_e=>Te[_e])}}),xe.App=Se,be}(x);return Se.INTERNAL=Object.assign(Object.assign({},Se.INTERNAL),{createFirebaseNamespace:ee,extendNamespace:function Te(be){(0,l.zw)(Se,be)},createSubscribe:l.tD,ErrorFactory:l.FA,deepExtend:l.zw}),Se}(),G=new k.Vy("@firebase/app-compat");if((0,l.Bd)()&&void 0!==self.firebase){G.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Se=self.firebase.SDK_VERSION;Se&&Se.indexOf("LITE")>=0&&G.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Pe=L;!function ge(Se){(0,S.registerVersion)("@firebase/app-compat","0.2.13",Se)}()},7852:(Ve,H,R)=>{"use strict";R.r(H),R.d(H,{FirebaseError:()=>k.g,SDK_VERSION:()=>Ai,_DEFAULT_ENTRY_NAME:()=>lt,_addComponent:()=>pn,_addOrOverwriteComponent:()=>vr,_apps:()=>_t,_clearComponents:()=>tt,_components:()=>Zt,_getProvider:()=>zn,_registerComponent:()=>qt,_removeServiceInstance:()=>ro,deleteApp:()=>_i,getApp:()=>fr,getApps:()=>us,initializeApp:()=>io,onLog:()=>Gi,registerVersion:()=>Bn,setLogLevel:()=>_n});var l=R(467),N=R(1362),S=R(8041),k=R(1076);const x=(Ie,ce)=>ce.some(Fe=>Ie instanceof Fe);let $,W;const L=new WeakMap,G=new WeakMap,K=new WeakMap,pe=new WeakMap,ge=new WeakMap;let Te={get(Ie,ce,Fe){if(Ie instanceof IDBTransaction){if("done"===ce)return G.get(Ie);if("objectStoreNames"===ce)return Ie.objectStoreNames||K.get(Ie);if("store"===ce)return Fe.objectStoreNames[1]?void 0:Fe.objectStore(Fe.objectStoreNames[0])}return ie(Ie[ce])},set:(Ie,ce,Fe)=>(Ie[ce]=Fe,!0),has:(Ie,ce)=>Ie instanceof IDBTransaction&&("done"===ce||"store"===ce)||ce in Ie};function xe(Ie){return"function"==typeof Ie?function Ue(Ie){return Ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ee(){return W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ie)?function(...ce){return Ie.apply(Ce(this),ce),ie(L.get(this))}:function(...ce){return ie(Ie.apply(Ce(this),ce))}:function(ce,...Fe){const et=Ie.call(Ce(this),ce,...Fe);return K.set(et,ce.sort?ce.sort():[ce]),ie(et)}}(Ie):(Ie instanceof IDBTransaction&&function Se(Ie){if(G.has(Ie))return;const ce=new Promise((Fe,et)=>{const st=()=>{Ie.removeEventListener("complete",Ye),Ie.removeEventListener("error",Ht),Ie.removeEventListener("abort",Ht)},Ye=()=>{Fe(),st()},Ht=()=>{et(Ie.error||new DOMException("AbortError","AbortError")),st()};Ie.addEventListener("complete",Ye),Ie.addEventListener("error",Ht),Ie.addEventListener("abort",Ht)});G.set(Ie,ce)}(Ie),x(Ie,function Y(){return $||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ie,Te):Ie)}function ie(Ie){if(Ie instanceof IDBRequest)return function Pe(Ie){const ce=new Promise((Fe,et)=>{const st=()=>{Ie.removeEventListener("success",Ye),Ie.removeEventListener("error",Ht)},Ye=()=>{Fe(ie(Ie.result)),st()},Ht=()=>{et(Ie.error),st()};Ie.addEventListener("success",Ye),Ie.addEventListener("error",Ht)});return ce.then(Fe=>{Fe instanceof IDBCursor&&L.set(Fe,Ie)}).catch(()=>{}),ge.set(ce,Ie),ce}(Ie);if(pe.has(Ie))return pe.get(Ie);const ce=xe(Ie);return ce!==Ie&&(pe.set(Ie,ce),ge.set(ce,Ie)),ce}const Ce=Ie=>ge.get(Ie),_e=["get","getKey","getAll","getAllKeys","count"],we=["put","add","delete","clear"],re=new Map;function Le(Ie,ce){if(!(Ie instanceof IDBDatabase)||ce in Ie||"string"!=typeof ce)return;if(re.get(ce))return re.get(ce);const Fe=ce.replace(/FromIndex$/,""),et=ce!==Fe,st=we.includes(Fe);if(!(Fe in(et?IDBIndex:IDBObjectStore).prototype)||!st&&!_e.includes(Fe))return;const Ye=function(){var Ht=(0,l.A)(function*(Dn,...Cn){const Si=this.transaction(Dn,st?"readwrite":"readonly");let wr=Si.store;return et&&(wr=wr.index(Cn.shift())),(yield Promise.all([wr[Fe](...Cn),st&&Si.done]))[0]});return function(Cn){return Ht.apply(this,arguments)}}();return re.set(ce,Ye),Ye}!function be(Ie){Te=Ie(Te)}(Ie=>({...Ie,get:(ce,Fe,et)=>Le(ce,Fe)||Ie.get(ce,Fe,et),has:(ce,Fe)=>!!Le(ce,Fe)||Ie.has(ce,Fe)}));class $e{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Fe=>{if(function it(Ie){const ce=Ie.getComponent();return"VERSION"===ce?.type}(Fe)){const et=Fe.getImmediate();return`${et.library}/${et.version}`}return null}).filter(Fe=>Fe).join(" ")}}const dt="@firebase/app",rn=new S.Vy("@firebase/app"),lt="[DEFAULT]",Pt={[dt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},_t=new Map,Zt=new Map;function pn(Ie,ce){try{Ie.container.addComponent(ce)}catch(Fe){rn.debug(`Component ${ce.name} failed to register with FirebaseApp ${Ie.name}`,Fe)}}function vr(Ie,ce){Ie.container.addOrOverwriteComponent(ce)}function qt(Ie){const ce=Ie.name;if(Zt.has(ce))return rn.debug(`There were multiple attempts to register component ${ce}.`),!1;Zt.set(ce,Ie);for(const Fe of _t.values())pn(Fe,Ie);return!0}function zn(Ie,ce){const Fe=Ie.container.getProvider("heartbeat").getImmediate({optional:!0});return Fe&&Fe.triggerHeartbeat(),Ie.container.getProvider(ce)}function ro(Ie,ce,Fe=lt){zn(Ie,ce).clearInstance(Fe)}function tt(){Zt.clear()}const Tt=new k.FA("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Hi{constructor(ce,Fe,et){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Fe),this._name=Fe.name,this._automaticDataCollectionEnabled=Fe.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new N.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw Tt.create("app-deleted",{appName:this._name})}}const Ai="9.23.0";function io(Ie,ce={}){let Fe=Ie;"object"!=typeof ce&&(ce={name:ce});const et=Object.assign({name:lt,automaticDataCollectionEnabled:!1},ce),st=et.name;if("string"!=typeof st||!st)throw Tt.create("bad-app-name",{appName:String(st)});if(Fe||(Fe=(0,k.T9)()),!Fe)throw Tt.create("no-options");const Ye=_t.get(st);if(Ye){if((0,k.bD)(Fe,Ye.options)&&(0,k.bD)(et,Ye.config))return Ye;throw Tt.create("duplicate-app",{appName:st})}const Ht=new N.h1(st);for(const Cn of Zt.values())Ht.addComponent(Cn);const Dn=new Hi(Fe,et,Ht);return _t.set(st,Dn),Dn}function fr(Ie=lt){const ce=_t.get(Ie);if(!ce&&Ie===lt&&(0,k.T9)())return io();if(!ce)throw Tt.create("no-app",{appName:Ie});return ce}function us(){return Array.from(_t.values())}function _i(Ie){return Un.apply(this,arguments)}function Un(){return(Un=(0,l.A)(function*(Ie){const ce=Ie.name;_t.has(ce)&&(_t.delete(ce),yield Promise.all(Ie.container.getProviders().map(Fe=>Fe.delete())),Ie.isDeleted=!0)})).apply(this,arguments)}function Bn(Ie,ce,Fe){var et;let st=null!==(et=Pt[Ie])&&void 0!==et?et:Ie;Fe&&(st+=`-${Fe}`);const Ye=st.match(/\s|\//),Ht=ce.match(/\s|\//);if(Ye||Ht){const Dn=[`Unable to register library "${st}" with version "${ce}":`];return Ye&&Dn.push(`library name "${st}" contains illegal characters (whitespace or "/")`),Ye&&Ht&&Dn.push("and"),Ht&&Dn.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void rn.warn(Dn.join(" "))}qt(new N.uA(`${st}-version`,()=>({library:st,version:ce}),"VERSION"))}function Gi(Ie,ce){if(null!==Ie&&"function"!=typeof Ie)throw Tt.create("invalid-log-argument");(0,S.Ey)(Ie,ce)}function _n(Ie){(0,S.He)(Ie)}const yi="firebase-heartbeat-database",pr=1,q="firebase-heartbeat-store";let z=null;function ne(){return z||(z=function X(Ie,ce,{blocked:Fe,upgrade:et,blocking:st,terminated:Ye}={}){const Ht=indexedDB.open(Ie,ce),Dn=ie(Ht);return et&&Ht.addEventListener("upgradeneeded",Cn=>{et(ie(Ht.result),Cn.oldVersion,Cn.newVersion,ie(Ht.transaction),Cn)}),Fe&&Ht.addEventListener("blocked",Cn=>Fe(Cn.oldVersion,Cn.newVersion,Cn)),Dn.then(Cn=>{Ye&&Cn.addEventListener("close",()=>Ye()),st&&Cn.addEventListener("versionchange",Si=>st(Si.oldVersion,Si.newVersion,Si))}).catch(()=>{}),Dn}(yi,pr,{upgrade:(Ie,ce)=>{0===ce&&Ie.createObjectStore(q)}}).catch(Ie=>{throw Tt.create("idb-open",{originalErrorMessage:Ie.message})})),z}function de(){return(de=(0,l.A)(function*(Ie){try{return yield(yield ne()).transaction(q).objectStore(q).get(Lt(Ie))}catch(ce){if(ce instanceof k.g)rn.warn(ce.message);else{const Fe=Tt.create("idb-get",{originalErrorMessage:ce?.message});rn.warn(Fe.message)}}})).apply(this,arguments)}function Ze(Ie,ce){return ht.apply(this,arguments)}function ht(){return(ht=(0,l.A)(function*(Ie,ce){try{const et=(yield ne()).transaction(q,"readwrite");yield et.objectStore(q).put(ce,Lt(Ie)),yield et.done}catch(Fe){if(Fe instanceof k.g)rn.warn(Fe.message);else{const et=Tt.create("idb-set",{originalErrorMessage:Fe?.message});rn.warn(et.message)}}})).apply(this,arguments)}function Lt(Ie){return`${Ie.name}!${Ie.options.appId}`}class Et{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Fe=this.container.getProvider("app").getImmediate();this._storage=new Cr(Fe),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var ce=this;return(0,l.A)(function*(){const et=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),st=kt();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==st&&!ce._heartbeatsCache.heartbeats.some(Ye=>Ye.date===st))return ce._heartbeatsCache.heartbeats.push({date:st,agent:et}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(Ye=>{const Ht=new Date(Ye.date).valueOf();return Date.now()-Ht<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,l.A)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const Fe=kt(),{heartbeatsToSend:et,unsentEntries:st}=function Kn(Ie,ce=1024){const Fe=[];let et=Ie.slice();for(const st of Ie){const Ye=Fe.find(Ht=>Ht.agent===st.agent);if(Ye){if(Ye.dates.push(st.date),Wi(Fe)>ce){Ye.dates.pop();break}}else if(Fe.push({agent:st.agent,dates:[st.date]}),Wi(Fe)>ce){Fe.pop();break}et=et.slice(1)}return{heartbeatsToSend:Fe,unsentEntries:et}}(ce._heartbeatsCache.heartbeats),Ye=(0,k.Uj)(JSON.stringify({version:2,heartbeats:et}));return ce._heartbeatsCache.lastSentHeartbeatDate=Fe,st.length>0?(ce._heartbeatsCache.heartbeats=st,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),Ye})()}}function kt(){return(new Date).toISOString().substring(0,10)}class Cr{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.A)(function*(){return!!(0,k.zW)()&&(0,k.eX)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,l.A)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function Re(Ie){return de.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var Fe=this;return(0,l.A)(function*(){var et;if(yield Fe._canUseIndexedDBPromise){const Ye=yield Fe.read();return Ze(Fe.app,{lastSentHeartbeatDate:null!==(et=ce.lastSentHeartbeatDate)&&void 0!==et?et:Ye.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Fe=this;return(0,l.A)(function*(){var et;if(yield Fe._canUseIndexedDBPromise){const Ye=yield Fe.read();return Ze(Fe.app,{lastSentHeartbeatDate:null!==(et=ce.lastSentHeartbeatDate)&&void 0!==et?et:Ye.lastSentHeartbeatDate,heartbeats:[...Ye.heartbeats,...ce.heartbeats]})}})()}}function Wi(Ie){return(0,k.Uj)(JSON.stringify({version:2,heartbeats:Ie})).length}!function sa(Ie){qt(new N.uA("platform-logger",ce=>new $e(ce),"PRIVATE")),qt(new N.uA("heartbeat",ce=>new Et(ce),"PRIVATE")),Bn(dt,"0.9.13",Ie),Bn(dt,"0.9.13","esm2017"),Bn("fire-js","")}("")},1362:(Ve,H,R)=>{"use strict";R.d(H,{Kq:()=>x,h1:()=>Y,uA:()=>S});var l=R(467),N=R(1076);class S{constructor(L,G,K){this.name=L,this.instanceFactory=G,this.type=K,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const k="[DEFAULT]";class x{constructor(L,G){this.name=L,this.container=G,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const G=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(G)){const K=new N.cY;if(this.instancesDeferred.set(G,K),this.isInitialized(G)||this.shouldAutoInitialize())try{const pe=this.getOrInitializeService({instanceIdentifier:G});pe&&K.resolve(pe)}catch{}}return this.instancesDeferred.get(G).promise}getImmediate(L){var G;const K=this.normalizeInstanceIdentifier(L?.identifier),pe=null!==(G=L?.optional)&&void 0!==G&&G;if(!this.isInitialized(K)&&!this.shouldAutoInitialize()){if(pe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:K})}catch(ge){if(pe)return null;throw ge}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function W(ee){return"EAGER"===ee.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:k})}catch{}for(const[G,K]of this.instancesDeferred.entries()){const pe=this.normalizeInstanceIdentifier(G);try{const ge=this.getOrInitializeService({instanceIdentifier:pe});K.resolve(ge)}catch{}}}}clearInstance(L=k){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,l.A)(function*(){const G=Array.from(L.instances.values());yield Promise.all([...G.filter(K=>"INTERNAL"in K).map(K=>K.INTERNAL.delete()),...G.filter(K=>"_delete"in K).map(K=>K._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=k){return this.instances.has(L)}getOptions(L=k){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:G={}}=L,K=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(K))throw Error(`${this.name}(${K}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const pe=this.getOrInitializeService({instanceIdentifier:K,options:G});for(const[ge,Pe]of this.instancesDeferred.entries())K===this.normalizeInstanceIdentifier(ge)&&Pe.resolve(pe);return pe}onInit(L,G){var K;const pe=this.normalizeInstanceIdentifier(G),ge=null!==(K=this.onInitCallbacks.get(pe))&&void 0!==K?K:new Set;ge.add(L),this.onInitCallbacks.set(pe,ge);const Pe=this.instances.get(pe);return Pe&&L(Pe,pe),()=>{ge.delete(L)}}invokeOnInitCallbacks(L,G){const K=this.onInitCallbacks.get(G);if(K)for(const pe of K)try{pe(L,G)}catch{}}getOrInitializeService({instanceIdentifier:L,options:G={}}){let K=this.instances.get(L);if(!K&&this.component&&(K=this.component.instanceFactory(this.container,{instanceIdentifier:(ee=L,ee===k?void 0:ee),options:G}),this.instances.set(L,K),this.instancesOptions.set(L,G),this.invokeOnInitCallbacks(K,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,K)}catch{}var ee;return K||null}normalizeInstanceIdentifier(L=k){return this.component?this.component.multipleInstances?L:k:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const G=this.getProvider(L.name);if(G.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);G.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const G=new x(L,this);return this.providers.set(L,G),G}getProviders(){return Array.from(this.providers.values())}}},8041:(Ve,H,R)=>{"use strict";R.d(H,{$b:()=>N,Ey:()=>ee,He:()=>Y,Vy:()=>W});const l=[];var N=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(N||{});const S={debug:N.DEBUG,verbose:N.VERBOSE,info:N.INFO,warn:N.WARN,error:N.ERROR,silent:N.SILENT},k=N.INFO,x={[N.DEBUG]:"log",[N.VERBOSE]:"log",[N.INFO]:"info",[N.WARN]:"warn",[N.ERROR]:"error"},$=(L,G,...K)=>{if(G<L.logLevel)return;const pe=(new Date).toISOString(),ge=x[G];if(!ge)throw new Error(`Attempted to log a message with an invalid logType (value: ${G})`);console[ge](`[${pe}]  ${L.name}:`,...K)};class W{constructor(G){this.name=G,this._logLevel=k,this._logHandler=$,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(G){if(!(G in N))throw new TypeError(`Invalid value "${G}" assigned to \`logLevel\``);this._logLevel=G}setLogLevel(G){this._logLevel="string"==typeof G?S[G]:G}get logHandler(){return this._logHandler}set logHandler(G){if("function"!=typeof G)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=G}get userLogHandler(){return this._userLogHandler}set userLogHandler(G){this._userLogHandler=G}debug(...G){this._userLogHandler&&this._userLogHandler(this,N.DEBUG,...G),this._logHandler(this,N.DEBUG,...G)}log(...G){this._userLogHandler&&this._userLogHandler(this,N.VERBOSE,...G),this._logHandler(this,N.VERBOSE,...G)}info(...G){this._userLogHandler&&this._userLogHandler(this,N.INFO,...G),this._logHandler(this,N.INFO,...G)}warn(...G){this._userLogHandler&&this._userLogHandler(this,N.WARN,...G),this._logHandler(this,N.WARN,...G)}error(...G){this._userLogHandler&&this._userLogHandler(this,N.ERROR,...G),this._logHandler(this,N.ERROR,...G)}}function Y(L){l.forEach(G=>{G.setLogLevel(L)})}function ee(L,G){for(const K of l){let pe=null;G&&G.level&&(pe=S[G.level]),K.userLogHandler=null===L?null:(ge,Pe,...Se)=>{const Te=Se.map(be=>{if(null==be)return null;if("string"==typeof be)return be;if("number"==typeof be||"boolean"==typeof be)return be.toString();if(be instanceof Error)return be.message;try{return JSON.stringify(be)}catch{return null}}).filter(be=>be).join(" ");Pe>=(pe??ge.logLevel)&&L({level:N[Pe].toLowerCase(),message:Te,args:Se,type:ge.name})}}}},2214:(Ve,H,R)=>{"use strict";R.d(H,{Dk:()=>l.getApps,Sx:()=>l.getApp});var l=R(7852);(0,l.registerVersion)("firebase","9.23.0","app")},7935:(Ve,H,R)=>{"use strict";R.d(H,{A:()=>l.A});var l=R(3345);l.A.registerVersion("firebase","9.23.0","app-compat")},6922:(Ve,H,R)=>{"use strict";var l=R(467),N=R(3345),S=R(1076),k=R(7852),x=R(1635),$=R(8041),W=R(1362);const ee={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};const Pe=function pe(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Se=function ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new S.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ue=new $.Vy("@firebase/auth");function ie(_,...h){Ue.logLevel<=$.$b.ERROR&&Ue.error(`Auth (${k.SDK_VERSION}): ${_}`,...h)}function Ce(_,...h){throw we(_,...h)}function X(_,...h){return we(_,...h)}function ue(_,h,p){const v=Object.assign(Object.assign({},Se()),{[h]:p});return new S.FA("auth","Firebase",v).create(h,{appName:_.name})}function _e(_,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&Ce(_,"argument-error"),ue(_,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function we(_,...h){if("string"!=typeof _){const p=h[0],v=[...h.slice(1)];return v[0]&&(v[0].appName=_.name),_._errorFactory.create(p,...v)}return Te.create(_,...h)}function re(_,h,...p){if(!_)throw we(h,...p)}function Le(_){const h="INTERNAL ASSERTION FAILED: "+_;throw ie(h),new Error(h)}function $e(_,h){_||Le(h)}function it(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function dt(){return"http:"===Ln()||"https:"===Ln()}function Ln(){var _;return typeof self<"u"&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Qr{constructor(h,p){this.shortDelay=h,this.longDelay=p,$e(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,S.jZ)()||(0,S.lV)()}get(){return function rn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(dt()||(0,S.sr)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ti(_,h){$e(_.emulator,"Emulator should always be set here");const{url:p}=_.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class Lr{static initialize(h,p,v){this.fetchImpl=h,p&&(this.headersImpl=p),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Le("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Le("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Le("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const he={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ve=new Qr(3e4,6e4);function le(_,h){return _.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:_.tenantId}):h}function fe(_,h,p,v){return Me.apply(this,arguments)}function Me(){return(Me=(0,l.A)(function*(_,h,p,v,D={}){return ye(_,D,(0,l.A)(function*(){let O={},Q={};v&&("GET"===h?Q=v:O={body:JSON.stringify(v)});const se=(0,S.Am)(Object.assign({key:_.config.apiKey},Q)).slice(1),Ne=yield _._getAdditionalHeaders();return Ne["Content-Type"]="application/json",_.languageCode&&(Ne["X-Firebase-Locale"]=_.languageCode),Lr.fetch()(qe(_,_.config.apiHost,p,se),Object.assign({method:h,headers:Ne,referrerPolicy:"no-referrer"},O))}))})).apply(this,arguments)}function ye(_,h,p){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,l.A)(function*(_,h,p){_._canInitEmulator=!1;const v=Object.assign(Object.assign({},he),h);try{const D=new sn(_),O=yield Promise.race([p(),D.promise]);D.clearNetworkTimeout();const Q=yield O.json();if("needConfirmation"in Q)throw Kt(_,"account-exists-with-different-credential",Q);if(O.ok&&!("errorMessage"in Q))return Q;{const se=O.ok?Q.errorMessage:Q.error.message,[Ne,We]=se.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw Kt(_,"credential-already-in-use",Q);if("EMAIL_EXISTS"===Ne)throw Kt(_,"email-already-in-use",Q);if("USER_DISABLED"===Ne)throw Kt(_,"user-disabled",Q);const rt=v[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(We)throw ue(_,rt,We);Ce(_,rt)}}catch(D){if(D instanceof S.g)throw D;Ce(_,"network-request-failed",{message:String(D)})}})).apply(this,arguments)}function pt(_,h,p,v){return $t.apply(this,arguments)}function $t(){return($t=(0,l.A)(function*(_,h,p,v,D={}){const O=yield fe(_,h,p,v,D);return"mfaPendingCredential"in O&&Ce(_,"multi-factor-auth-required",{_serverResponse:O}),O})).apply(this,arguments)}function qe(_,h,p,v){const D=`${h}${p}?${v}`;return _.config.emulator?Ti(_.config,D):`${_.config.apiScheme}://${D}`}class sn{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,v)=>{this.timer=setTimeout(()=>v(X(this.auth,"network-request-failed")),ve.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kt(_,h,p){const v={appName:_.name};p.email&&(v.email=p.email),p.phoneNumber&&(v.phoneNumber=p.phoneNumber);const D=X(_,h,v);return D.customData._tokenResponse=p,D}function vt(){return(vt=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function Mn(){return(Mn=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function En(){return(En=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Vr(_){if(_)try{const h=new Date(Number(_));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function lt(){return(lt=(0,l.A)(function*(_,h=!1){const p=(0,S.Ku)(_),v=yield p.getIdToken(h),D=_t(v);re(D&&D.exp&&D.auth_time&&D.iat,p.auth,"internal-error");const O="object"==typeof D.firebase?D.firebase:void 0,Q=O?.sign_in_provider;return{claims:D,token:v,authTime:Vr(Pt(D.auth_time)),issuedAtTime:Vr(Pt(D.iat)),expirationTime:Vr(Pt(D.exp)),signInProvider:Q||null,signInSecondFactor:O?.sign_in_second_factor||null}})).apply(this,arguments)}function Pt(_){return 1e3*Number(_)}function _t(_){const[h,p,v]=_.split(".");if(void 0===h||void 0===p||void 0===v)return ie("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,S.u)(p);return D?JSON.parse(D):(ie("Failed to decode base64 JWT payload"),null)}catch(D){return ie("Caught error parsing JWT payload as JSON",D?.toString()),null}}function pn(_,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,l.A)(function*(_,h,p=!1){if(p)return h;try{return yield h}catch(v){throw v instanceof S.g&&function qt({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}(v)&&_.auth.currentUser===_&&(yield _.auth.signOut()),v}})).apply(this,arguments)}class zn{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const D=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const v=this.getInterval(h);this.timerId=setTimeout((0,l.A)(function*(){yield p.iteration()}),v)}iteration(){var h=this;return(0,l.A)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ro{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vr(this.lastLoginAt),this.creationTime=Vr(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function tt(_){return Er.apply(this,arguments)}function Er(){return Er=(0,l.A)(function*(_){var h;const p=_.auth,v=yield _.getIdToken(),D=yield pn(_,function Vn(_,h){return En.apply(this,arguments)}(p,{idToken:v}));re(D?.users.length,p,"internal-error");const O=D.users[0];_._notifyReloadListener(O);const Q=null!==(h=O.providerUserInfo)&&void 0!==h&&h.length?function io(_){return _.map(h=>{var{providerId:p}=h,v=(0,x.Tt)(h,["providerId"]);return{providerId:p,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}(O.providerUserInfo):[],se=function Ai(_,h){return[..._.filter(v=>!h.some(D=>D.providerId===v.providerId)),...h]}(_.providerData,Q),rt=!!_.isAnonymous&&!(_.email&&O.passwordHash||se?.length),Ke={uid:O.localId,displayName:O.displayName||null,photoURL:O.photoUrl||null,email:O.email||null,emailVerified:O.emailVerified||!1,phoneNumber:O.phoneNumber||null,tenantId:O.tenantId||null,providerData:se,metadata:new ro(O.createdAt,O.lastLoginAt),isAnonymous:rt};Object.assign(_,Ke)}),Er.apply(this,arguments)}function Hi(){return(Hi=(0,l.A)(function*(_){const h=(0,S.Ku)(_);yield tt(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function us(){return(us=(0,l.A)(function*(_,h){const p=yield ye(_,{},(0,l.A)(function*(){const v=(0,S.Am)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:D,apiKey:O}=_.config,Q=qe(_,D,"/v1/token",`key=${O}`),se=yield _._getAdditionalHeaders();return se["Content-Type"]="application/x-www-form-urlencoded",Lr.fetch()(Q,{method:"POST",headers:se,body:v})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class _i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){re(h.idToken,"internal-error"),re(typeof h.idToken<"u","internal-error"),re(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Zt(_){const h=_t(_);return re(h,"internal-error"),re(typeof h.exp<"u","internal-error"),re(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h){var p=this;return(0,l.A)(function*(v,D=!1){return re(!p.accessToken||p.refreshToken,v,"user-token-expired"),D||!p.accessToken||p.isExpired?p.refreshToken?(yield p.refresh(v,p.refreshToken),p.accessToken):null:p.accessToken}).apply(this,arguments)}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var v=this;return(0,l.A)(function*(){const{accessToken:D,refreshToken:O,expiresIn:Q}=yield function fr(_,h){return us.apply(this,arguments)}(h,p);v.updateTokensAndExpiration(D,O,Number(Q))})()}updateTokensAndExpiration(h,p,v){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(h,p){const{refreshToken:v,accessToken:D,expirationTime:O}=p,Q=new _i;return v&&(re("string"==typeof v,"internal-error",{appName:h}),Q.refreshToken=v),D&&(re("string"==typeof D,"internal-error",{appName:h}),Q.accessToken=D),O&&(re("number"==typeof O,"internal-error",{appName:h}),Q.expirationTime=O),Q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new _i,this.toJSON())}_performRefresh(){return Le("not implemented")}}function Un(_,h){re("string"==typeof _||typeof _>"u","internal-error",{appName:h})}class Bn{constructor(h){var{uid:p,auth:v,stsTokenManager:D}=h,O=(0,x.Tt)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=v,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=O.displayName||null,this.email=O.email||null,this.emailVerified=O.emailVerified||!1,this.phoneNumber=O.phoneNumber||null,this.photoURL=O.photoURL||null,this.isAnonymous=O.isAnonymous||!1,this.tenantId=O.tenantId||null,this.providerData=O.providerData?[...O.providerData]:[],this.metadata=new ro(O.createdAt||void 0,O.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,l.A)(function*(){const v=yield pn(p,p.stsTokenManager.getToken(p.auth,h));return re(v,p.auth,"internal-error"),p.accessToken!==v&&(p.accessToken=v,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),v})()}getIdTokenResult(h){return function ia(_){return lt.apply(this,arguments)}(this,h)}reload(){return function Tt(_){return Hi.apply(this,arguments)}(this)}_assign(h){this!==h&&(re(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new Bn(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h){var p=this;return(0,l.A)(function*(v,D=!1){let O=!1;v.idToken&&v.idToken!==p.stsTokenManager.accessToken&&(p.stsTokenManager.updateFromServerResponse(v),O=!0),D&&(yield tt(p)),yield p.auth._persistUserIfCurrent(p),O&&p.auth._notifyListenersIfCurrent(p)}).apply(this,arguments)}delete(){var h=this;return(0,l.A)(function*(){const p=yield h.getIdToken();return yield pn(h,function hr(_,h){return vt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var v,D,O,Q,se,Ne,We,rt;const Ke=null!==(v=p.displayName)&&void 0!==v?v:void 0,Vt=null!==(D=p.email)&&void 0!==D?D:void 0,oi=null!==(O=p.phoneNumber)&&void 0!==O?O:void 0,ko=null!==(Q=p.photoURL)&&void 0!==Q?Q:void 0,Sa=null!==(se=p.tenantId)&&void 0!==se?se:void 0,xo=null!==(Ne=p._redirectEventId)&&void 0!==Ne?Ne:void 0,mu=null!==(We=p.createdAt)&&void 0!==We?We:void 0,Tf=null!==(rt=p.lastLoginAt)&&void 0!==rt?rt:void 0,{uid:Fl,emailVerified:Fo,isAnonymous:Af,providerData:Sf,stsTokenManager:Mf}=p;re(Fl&&Mf,h,"internal-error");const U_=_i.fromJSON(this.name,Mf);re("string"==typeof Fl,h,"internal-error"),Un(Ke,h.name),Un(Vt,h.name),re("boolean"==typeof Fo,h,"internal-error"),re("boolean"==typeof Af,h,"internal-error"),Un(oi,h.name),Un(ko,h.name),Un(Sa,h.name),Un(xo,h.name),Un(mu,h.name),Un(Tf,h.name);const Rf=new Bn({uid:Fl,auth:h,email:Vt,emailVerified:Fo,displayName:Ke,isAnonymous:Af,photoURL:ko,phoneNumber:oi,tenantId:Sa,stsTokenManager:U_,createdAt:mu,lastLoginAt:Tf});return Sf&&Array.isArray(Sf)&&(Rf.providerData=Sf.map(B_=>Object.assign({},B_))),xo&&(Rf._redirectEventId=xo),Rf}static _fromIdTokenResponse(h,p){return(0,l.A)(function*(v,D,O=!1){const Q=new _i;Q.updateFromServerResponse(D);const se=new Bn({uid:D.localId,auth:v,stsTokenManager:Q,isAnonymous:O});return yield tt(se),se}).apply(this,arguments)}}const Gi=new Map;function _n(_){$e(_ instanceof Function,"Expected a class definition");let h=Gi.get(_);return h?($e(h instanceof _,"Instance stored in cache mismatched with class"),h):(h=new _,Gi.set(_,h),h)}const pr=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.A)(function*(){return!0})()}_set(p,v){var D=this;return(0,l.A)(function*(){D.storage[p]=v})()}_get(p){var v=this;return(0,l.A)(function*(){const D=v.storage[p];return void 0===D?null:D})()}_remove(p){var v=this;return(0,l.A)(function*(){delete v.storage[p]})()}_addListener(p,v){}_removeListener(p,v){}}return _.type="NONE",_})();function q(_,h,p){return`firebase:${_}:${h}:${p}`}class z{constructor(h,p,v){this.persistence=h,this.auth=p,this.userKey=v;const{config:D,name:O}=this.auth;this.fullUserKey=q(this.userKey,D.apiKey,O),this.fullPersistenceKey=q("persistence",D.apiKey,O),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,l.A)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Bn._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,l.A)(function*(){if(p.persistence===h)return;const v=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,v?p.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p){return(0,l.A)(function*(v,D,O="authUser"){if(!D.length)return new z(_n(pr),v,O);const Q=(yield Promise.all(D.map(function(){var Ke=(0,l.A)(function*(Vt){if(yield Vt._isAvailable())return Vt});return function(Vt){return Ke.apply(this,arguments)}}()))).filter(Ke=>Ke);let se=Q[0]||_n(pr);const Ne=q(O,v.config.apiKey,v.name);let We=null;for(const Ke of D)try{const Vt=yield Ke._get(Ne);if(Vt){const oi=Bn._fromJSON(v,Vt);Ke!==se&&(We=oi),se=Ke;break}}catch{}const rt=Q.filter(Ke=>Ke._shouldAllowMigration);return se._shouldAllowMigration&&rt.length?(se=rt[0],We&&(yield se._set(Ne,We.toJSON())),yield Promise.all(D.map(function(){var Ke=(0,l.A)(function*(Vt){if(Vt!==se)try{yield Vt._remove(Ne)}catch{}});return function(Vt){return Ke.apply(this,arguments)}}())),new z(se,v,O)):new z(se,v,O)}).apply(this,arguments)}}function ne(_){const h=_.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(ht(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Re(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Wt(h))return"Blackberry";if(In(h))return"Webos";if(de(h))return"Safari";if((h.includes("chrome/")||Ze(h))&&!h.includes("edge/"))return"Chrome";if(Lt(h))return"Android";{const v=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===v?.length)return v[1]}return"Other"}function Re(_=(0,S.ZQ)()){return/firefox\//i.test(_)}function de(_=(0,S.ZQ)()){const h=_.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function Ze(_=(0,S.ZQ)()){return/crios\//i.test(_)}function ht(_=(0,S.ZQ)()){return/iemobile/i.test(_)}function Lt(_=(0,S.ZQ)()){return/android/i.test(_)}function Wt(_=(0,S.ZQ)()){return/blackberry/i.test(_)}function In(_=(0,S.ZQ)()){return/webos/i.test(_)}function Et(_=(0,S.ZQ)()){return/iphone|ipad|ipod/i.test(_)||/macintosh/i.test(_)&&/mobile/i.test(_)}function Wi(_=(0,S.ZQ)()){return Et(_)||Lt(_)||In(_)||Wt(_)||/windows phone/i.test(_)||ht(_)}function Ie(_,h=[]){let p;switch(_){case"Browser":p=ne((0,S.ZQ)());break;case"Worker":p=`${ne((0,S.ZQ)())}-${_}`;break;default:p=_}const v=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${k.SDK_VERSION}/${v}`}function Fe(){return(Fe=(0,l.A)(function*(_){return(yield fe(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function et(_,h){return st.apply(this,arguments)}function st(){return(st=(0,l.A)(function*(_,h){return fe(_,"GET","/v2/recaptchaConfig",le(_,h))})).apply(this,arguments)}function Ye(_){return void 0!==_&&void 0!==_.getResponse}function Ht(_){return void 0!==_&&void 0!==_.enterprise}class Dn{constructor(h){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===h.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=h.recaptchaKey.split("/")[3],this.emailPasswordEnabled=h.recaptchaEnforcementState.some(p=>"EMAIL_PASSWORD_PROVIDER"===p.provider&&"OFF"!==p.enforcementState)}}function Si(_){return new Promise((h,p)=>{const v=document.createElement("script");v.setAttribute("src",_),v.onload=h,v.onerror=D=>{const O=X("internal-error");O.customData=D,p(O)},v.type="text/javascript",v.charset="UTF-8",function Cn(){var _,h;return null!==(h=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==h?h:document}().appendChild(v)})}function wr(_){return`__${_}${Math.floor(1e6*Math.random())}`}class za{constructor(h){this.type="recaptcha-enterprise",this.auth=wn(h)}verify(){var h=this;return(0,l.A)(function*(p="verify",v=!1){function O(){return O=(0,l.A)(function*(se){if(!v){if(null==se.tenantId&&null!=se._agentRecaptchaConfig)return se._agentRecaptchaConfig.siteKey;if(null!=se.tenantId&&void 0!==se._tenantRecaptchaConfigs[se.tenantId])return se._tenantRecaptchaConfigs[se.tenantId].siteKey}return new Promise(function(){var Ne=(0,l.A)(function*(We,rt){et(se,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ke=>{if(void 0!==Ke.recaptchaKey){const Vt=new Dn(Ke);return null==se.tenantId?se._agentRecaptchaConfig=Vt:se._tenantRecaptchaConfigs[se.tenantId]=Vt,We(Vt.siteKey)}rt(new Error("recaptcha Enterprise site key undefined"))}).catch(Ke=>{rt(Ke)})});return function(We,rt){return Ne.apply(this,arguments)}}())}),O.apply(this,arguments)}function Q(se,Ne,We){const rt=window.grecaptcha;Ht(rt)?rt.enterprise.ready(()=>{rt.enterprise.execute(se,{action:p}).then(Ke=>{Ne(Ke)}).catch(()=>{Ne("NO_RECAPTCHA")})}):We(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((se,Ne)=>{(function D(se){return O.apply(this,arguments)})(h.auth).then(We=>{if(!v&&Ht(window.grecaptcha))Q(We,se,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));Si("https://www.google.com/recaptcha/enterprise.js?render="+We).then(()=>{Q(We,se,Ne)}).catch(rt=>{Ne(rt)})}}).catch(We=>{Ne(We)})})}).apply(this,arguments)}}function Yr(_,h,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.A)(function*(_,h,p,v=!1){const D=new za(_);let O;try{O=yield D.verify(p)}catch{O=yield D.verify(p,!0)}const Q=Object.assign({},h);return Object.assign(Q,v?{captchaResp:O}:{captchaResponse:O}),Object.assign(Q,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(Q,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),Q})).apply(this,arguments)}class br{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const v=O=>new Promise((Q,se)=>{try{Q(h(O))}catch(Ne){se(Ne)}});v.onAbort=p,this.queue.push(v);const D=this.queue.length-1;return()=>{this.queue[D]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,l.A)(function*(){if(p.auth.currentUser===h)return;const v=[];try{for(const D of p.queue)yield D(h),D.onAbort&&v.push(D.onAbort)}catch(D){v.reverse();for(const O of v)try{O()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:D?.message})}})()}}class oc{constructor(h,p,v,D){this.app=h,this.heartbeatServiceProvider=p,this.appCheckServiceProvider=v,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vi(this),this.idTokenSubscription=new vi(this),this.beforeStateQueue=new br(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(h,p){var v=this;return p&&(this._popupRedirectResolver=_n(p)),this._initializationPromise=this.queue((0,l.A)(function*(){var D,O;if(!v._deleted&&(v.persistenceManager=yield z.create(v,h),!v._deleted)){if(null!==(D=v._popupRedirectResolver)&&void 0!==D&&D._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch{}yield v.initializeCurrentUser(p),v.lastNotifiedUid=(null===(O=v.currentUser)||void 0===O?void 0:O.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,l.A)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,l.A)(function*(){var v;const D=yield p.assertedPersistence.getCurrentUser();let O=D,Q=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const se=null===(v=p.redirectUser)||void 0===v?void 0:v._redirectEventId,Ne=O?._redirectEventId,We=yield p.tryRedirectSignIn(h);(!se||se===Ne)&&We?.user&&(O=We.user,Q=!0)}if(!O)return p.directlySetCurrentUser(null);if(!O._redirectEventId){if(Q)try{yield p.beforeStateQueue.runMiddleware(O)}catch(se){O=D,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(se))}return O?p.reloadAndSetCurrentUserOrClear(O):p.directlySetCurrentUser(null)}return re(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===O._redirectEventId?p.directlySetCurrentUser(O):p.reloadAndSetCurrentUserOrClear(O)})()}tryRedirectSignIn(h){var p=this;return(0,l.A)(function*(){let v=null;try{v=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,l.A)(function*(){try{yield tt(h)}catch(v){if("auth/network-request-failed"!==v?.code)return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function $i(){if(typeof navigator>"u")return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var h=this;return(0,l.A)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,l.A)(function*(){const v=h?(0,S.Ku)(h):null;return v&&re(v.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(v&&v._clone(p))})()}_updateCurrentUser(h){var p=this;return(0,l.A)(function*(v,D=!1){if(!p._deleted)return v&&re(p.tenantId===v.tenantId,p,"tenant-id-mismatch"),D||(yield p.beforeStateQueue.runMiddleware(v)),p.queue((0,l.A)(function*(){yield p.directlySetCurrentUser(v),p.notifyAuthListeners()}))}).apply(this,arguments)}signOut(){var h=this;return(0,l.A)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,l.A)(function*(){yield p.assertedPersistence.setPersistence(_n(h))}))}initializeRecaptchaConfig(){var h=this;return(0,l.A)(function*(){const p=yield et(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),v=new Dn(p);null==h.tenantId?h._agentRecaptchaConfig=v:h._tenantRecaptchaConfigs[h.tenantId]=v,v.emailPasswordEnabled&&new za(h).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new S.FA("auth","Firebase",h())}onAuthStateChanged(h,p,v){return this.registerStateListener(this.authStateSubscription,h,p,v)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,v){return this.registerStateListener(this.idTokenSubscription,h,p,v)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var v=this;return(0,l.A)(function*(){const D=yield v.getOrInitRedirectPersistenceManager(p);return null===h?D.removeCurrentUser():D.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,l.A)(function*(){if(!p.redirectPersistenceManager){const v=h&&_n(h)||p._popupRedirectResolver;re(v,p,"argument-error"),p.redirectPersistenceManager=yield z.create(p,[_n(v._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,l.A)(function*(){var v,D;return p._isInitialized&&(yield p.queue((0,l.A)(function*(){}))),(null===(v=p._currentUser)||void 0===v?void 0:v._redirectEventId)===h?p._currentUser:(null===(D=p.redirectUser)||void 0===D?void 0:D._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,l.A)(function*(){if(h===p.currentUser)return p.queue((0,l.A)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,v,D){if(this._deleted)return()=>{};const O="function"==typeof p?p:p.next.bind(p),Q=this._isInitialized?Promise.resolve():this._initializationPromise;return re(Q,this,"internal-error"),Q.then(()=>O(this.currentUser)),"function"==typeof p?h.addObserver(p,v,D):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,l.A)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ie(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,l.A)(function*(){var p;const v={"X-Client-Version":h.clientVersion};h.app.options.appId&&(v["X-Firebase-gmpid"]=h.app.options.appId);const D=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();D&&(v["X-Firebase-Client"]=D);const O=yield h._getAppCheckToken();return O&&(v["X-Firebase-AppCheck"]=O),v})()}_getAppCheckToken(){var h=this;return(0,l.A)(function*(){var p;const v=yield null===(p=h.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getToken();return v?.error&&function xe(_,...h){Ue.logLevel<=$.$b.WARN&&Ue.warn(`Auth (${k.SDK_VERSION}): ${_}`,...h)}(`Error while retrieving App Check token: ${v.error}`),v?.token})()}}function wn(_){return(0,S.Ku)(_)}class vi{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,S.tD)(p=>this.observer=p)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function rr(_){const h=_.indexOf(":");return h<0?"":_.substr(0,h+1)}function ac(_){if(!_)return null;const h=Number(_);return isNaN(h)?null:h}class Ts{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Le("not implemented")}_getIdTokenResponse(h){return Le("not implemented")}_linkToIdToken(h,p){return Le("not implemented")}_getReauthenticationResolver(h){return Le("not implemented")}}function qh(_,h){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:resetPassword",le(_,h))})).apply(this,arguments)}function lc(_,h){return gd.apply(this,arguments)}function gd(){return(gd=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function cc(){return(cc=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:update",le(_,h))})).apply(this,arguments)}function qn(_,h){return uc.apply(this,arguments)}function uc(){return(uc=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithPassword",le(_,h))})).apply(this,arguments)}function Ya(_,h){return dc.apply(this,arguments)}function dc(){return(dc=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:sendOobCode",le(_,h))})).apply(this,arguments)}function hc(){return(hc=(0,l.A)(function*(_,h){return Ya(_,h)})).apply(this,arguments)}function oo(_,h){return fc.apply(this,arguments)}function fc(){return(fc=(0,l.A)(function*(_,h){return Ya(_,h)})).apply(this,arguments)}function Ja(_,h){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,l.A)(function*(_,h){return Ya(_,h)})).apply(this,arguments)}function Yn(){return(Yn=(0,l.A)(function*(_,h){return Ya(_,h)})).apply(this,arguments)}function Ir(){return(Ir=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithEmailLink",le(_,h))})).apply(this,arguments)}function pc(){return(pc=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithEmailLink",le(_,h))})).apply(this,arguments)}class As extends Ts{constructor(h,p,v,D=null){super("password",v),this._email=h,this._password=p,this._tenantId=D}static _fromEmailAndPassword(h,p){return new As(h,p,"password")}static _fromEmailAndCode(h,p,v=null){return new As(h,p,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,l.A)(function*(){var v;switch(p.signInMethod){case"password":const D={returnSecureToken:!0,email:p._email,password:p._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=h._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const O=yield Yr(h,D,"signInWithPassword");return qn(h,O)}return qn(h,D).catch(function(){var O=(0,l.A)(function*(Q){if("auth/missing-recaptcha-token"===Q.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const se=yield Yr(h,D,"signInWithPassword");return qn(h,se)}return Promise.reject(Q)});return function(Q){return O.apply(this,arguments)}}());case"emailLink":return function ds(_,h){return Ir.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:Ce(h,"internal-error")}})()}_linkToIdToken(h,p){var v=this;return(0,l.A)(function*(){switch(v.signInMethod){case"password":return lc(h,{idToken:p,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Qh(_,h){return pc.apply(this,arguments)}(h,{idToken:p,email:v._email,oobCode:v._password});default:Ce(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Jr(_,h){return gc.apply(this,arguments)}function gc(){return(gc=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithIdp",le(_,h))})).apply(this,arguments)}class ze extends Ts{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new ze(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):Ce("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D}=p,O=(0,x.Tt)(p,["providerId","signInMethod"]);if(!v||!D)return null;const Q=new ze(v,D);return Q.idToken=O.idToken||void 0,Q.accessToken=O.accessToken||void 0,Q.secret=O.secret,Q.nonce=O.nonce,Q.pendingToken=O.pendingToken||null,Q}_getIdTokenResponse(h){return Jr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Jr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Jr(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,S.Am)(p)}return h}}function Qt(){return(Qt=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:sendVerificationCode",le(_,h))})).apply(this,arguments)}function ao(){return(ao=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithPhoneNumber",le(_,h))})).apply(this,arguments)}function hs(){return(hs=(0,l.A)(function*(_,h){const p=yield pt(_,"POST","/v1/accounts:signInWithPhoneNumber",le(_,h));if(p.temporaryProof)throw Kt(_,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const vn={USER_NOT_FOUND:"user-not-found"};function Ei(){return(Ei=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithPhoneNumber",le(_,Object.assign(Object.assign({},h),{operation:"REAUTH"})),vn)})).apply(this,arguments)}class ot extends Ts{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new ot({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new ot({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Ur(_,h){return ao.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function gr(_,h){return hs.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function fs(_,h){return Ei.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:v,verificationCode:D}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:v,code:D}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:O}=h;return v||p||D||O?new ot({verificationId:p,verificationCode:v,phoneNumber:D,temporaryProof:O}):null}}class Ki{constructor(h){var p,v,D,O,Q,se;const Ne=(0,S.I9)((0,S.hp)(h)),We=null!==(p=Ne.apiKey)&&void 0!==p?p:null,rt=null!==(v=Ne.oobCode)&&void 0!==v?v:null,Ke=function Za(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Ne.mode)&&void 0!==D?D:null);re(We&&rt&&Ke,"argument-error"),this.apiKey=We,this.operation=Ke,this.code=rt,this.continueUrl=null!==(O=Ne.continueUrl)&&void 0!==O?O:null,this.languageCode=null!==(Q=Ne.languageCode)&&void 0!==Q?Q:null,this.tenantId=null!==(se=Ne.tenantId)&&void 0!==se?se:null}static parseLink(h){const p=function el(_){const h=(0,S.I9)((0,S.hp)(_)).link,p=h?(0,S.I9)((0,S.hp)(h)).deep_link_id:null,v=(0,S.I9)((0,S.hp)(_)).deep_link_id;return(v?(0,S.I9)((0,S.hp)(v)).link:null)||v||p||h||_}(h);try{return new Ki(p)}catch{return null}}}let lo=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(p,v){return As._fromEmailAndPassword(p,v)}static credentialWithLink(p,v){const D=Ki.parseLink(v);return re(D,"argument-error"),As._fromEmailAndCode(p,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Dr{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Tr extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Zr extends Tr{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return re("providerId"in p&&"signInMethod"in p,"argument-error"),ze._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return re(h.idToken||h.accessToken,"argument-error"),ze._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Zr.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Zr.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:v,oauthTokenSecret:D,pendingToken:O,nonce:Q,providerId:se}=h;if(!v&&!D&&!p&&!O||!se)return null;try{return new Zr(se)._credential({idToken:p,accessToken:v,nonce:Q,pendingToken:O})}catch{return null}}}let md=(()=>{class _ extends Tr{constructor(){super("facebook.com")}static credential(p){return ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),Ci=(()=>{class _ extends Tr{constructor(){super("google.com"),this.addScope("profile")}static credential(p,v){return ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:v,oauthAccessToken:D}=p;if(!v&&!D)return null;try{return _.credential(v,D)}catch{return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),qi=(()=>{class _ extends Tr{constructor(){super("github.com")}static credential(p){return ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return _.credential(p.oauthAccessToken)}catch{return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class Mi extends Ts{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Jr(h,this.buildRequest())}_linkToIdToken(h,p){const v=this.buildRequest();return v.idToken=p,Jr(h,v)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Jr(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:v,signInMethod:D,pendingToken:O}=p;return v&&D&&O&&v===D?new Mi(v,O):null}static _create(h,p){return new Mi(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class mc extends Dr{constructor(h){re(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return mc.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return mc.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Mi.fromJSON(h);return re(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:v}=h;if(!p||!v)return null;try{return Mi._create(v,p)}catch{return null}}}let oa=(()=>{class _ extends Tr{constructor(){super("twitter.com")}static credential(p,v){return ze._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:v})}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:v,oauthTokenSecret:D}=p;if(!v||!D)return null;try{return _.credential(v,D)}catch{return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function Ri(_,h){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signUp",le(_,h))})).apply(this,arguments)}class ir{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,v){return(0,l.A)(function*(D,O,Q,se=!1){const Ne=yield Bn._fromIdTokenResponse(D,Q,se),We=Qi(Q);return new ir({user:Ne,providerId:We,_tokenResponse:Q,operationType:O})}).apply(this,arguments)}static _forOperation(h,p,v){return(0,l.A)(function*(){yield h._updateTokensIfNecessary(v,!0);const D=Qi(v);return new ir({user:h,providerId:D,_tokenResponse:v,operationType:p})})()}}function Qi(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function jn(){return(jn=(0,l.A)(function*(_){var h;const p=wn(_);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new ir({user:p.currentUser,providerId:null,operationType:"signIn"});const v=yield Ri(p,{returnSecureToken:!0}),D=yield ir._fromIdTokenResponse(p,"signIn",v,!0);return yield p._updateCurrentUser(D.user),D})).apply(this,arguments)}class tl extends S.g{constructor(h,p,v,D){var O;super(p.code,p.message),this.operationType=v,this.user=D,Object.setPrototypeOf(this,tl.prototype),this.customData={appName:h.name,tenantId:null!==(O=h.tenantId)&&void 0!==O?O:void 0,_serverResponse:p.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(h,p,v,D){return new tl(h,p,v,D)}}function mr(_,h,p,v){return("reauthenticate"===h?p._getReauthenticationResolver(_):p._getIdTokenResponse(_)).catch(O=>{throw"auth/multi-factor-auth-required"===O.code?tl._fromErrorAndOperation(_,O,h,v):O})}function sr(_){return new Set(_.map(({providerId:h})=>h).filter(h=>!!h))}function or(){return or=(0,l.A)(function*(_,h){const p=(0,S.Ku)(_);yield gs(!0,p,h);const{providerUserInfo:v}=yield function mn(_,h){return Mn.apply(this,arguments)}(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),D=sr(v||[]);return p.providerData=p.providerData.filter(O=>D.has(O.providerId)),D.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p}),or.apply(this,arguments)}function Ss(_,h){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,l.A)(function*(_,h,p=!1){const v=yield pn(_,h._linkToIdToken(_.auth,yield _.getIdToken()),p);return ir._forOperation(_,"link",v)})).apply(this,arguments)}function gs(_,h,p){return yc.apply(this,arguments)}function yc(){return(yc=(0,l.A)(function*(_,h,p){yield tt(h);const D=!1===_?"provider-already-linked":"no-such-provider";re(sr(h.providerData).has(p)===_,h.auth,D)})).apply(this,arguments)}function Yh(_,h){return vc.apply(this,arguments)}function vc(){return(vc=(0,l.A)(function*(_,h,p=!1){const{auth:v}=_,D="reauthenticate";try{const O=yield pn(_,mr(v,D,h,_),p);re(O.idToken,v,"internal-error");const Q=_t(O.idToken);re(Q,v,"internal-error");const{sub:se}=Q;return re(_.uid===se,v,"user-mismatch"),ir._forOperation(_,D,O)}catch(O){throw"auth/user-not-found"===O?.code&&Ce(v,"user-mismatch"),O}})).apply(this,arguments)}function Ec(_,h){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,l.A)(function*(_,h,p=!1){const v="signIn",D=yield mr(_,v,h),O=yield ir._fromIdTokenResponse(_,v,D);return p||(yield _._updateCurrentUser(O.user)),O})).apply(this,arguments)}function wc(_,h){return _d.apply(this,arguments)}function _d(){return(_d=(0,l.A)(function*(_,h){return Ec(wn(_),h)})).apply(this,arguments)}function rg(_,h){return un.apply(this,arguments)}function un(){return(un=(0,l.A)(function*(_,h){const p=(0,S.Ku)(_);return yield gs(!1,p,h.providerId),Ss(p,h)})).apply(this,arguments)}function ig(_,h){return Xh.apply(this,arguments)}function Xh(){return(Xh=(0,l.A)(function*(_,h){return Yh((0,S.Ku)(_),h)})).apply(this,arguments)}function Jh(){return(Jh=(0,l.A)(function*(_,h){return pt(_,"POST","/v1/accounts:signInWithCustomToken",le(_,h))})).apply(this,arguments)}function Yi(){return Yi=(0,l.A)(function*(_,h){const p=wn(_),v=yield function S_(_,h){return Jh.apply(this,arguments)}(p,{token:h,returnSecureToken:!0}),D=yield ir._fromIdTokenResponse(p,"signIn",v);return yield p._updateCurrentUser(D.user),D}),Yi.apply(this,arguments)}class bc{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?nl._fromServerResponse(h,p):"totpInfo"in p?Ic._fromServerResponse(h,p):Ce(h,"internal-error")}}class nl extends bc{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new nl(p)}}class Ic extends bc{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Ic(p)}}function Ms(_,h,p){var v;re((null===(v=p.url)||void 0===v?void 0:v.length)>0,_,"invalid-continue-uri"),re(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(re(p.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(re(p.android.packageName.length>0,_,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function la(){return la=(0,l.A)(function*(_,h,p){var v;const D=wn(_),O={requestType:"PASSWORD_RESET",email:h,clientType:"CLIENT_TYPE_WEB"};if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const Q=yield Yr(D,O,"getOobCode",!0);p&&Ms(D,Q,p),yield oo(D,Q)}else p&&Ms(D,O,p),yield oo(D,O).catch(function(){var Q=(0,l.A)(function*(se){if("auth/missing-recaptcha-token"!==se.code)return Promise.reject(se);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield Yr(D,O,"getOobCode",!0);p&&Ms(D,Ne,p),yield oo(D,Ne)}});return function(se){return Q.apply(this,arguments)}}())}),la.apply(this,arguments)}function Xi(){return(Xi=(0,l.A)(function*(_,h,p){yield qh((0,S.Ku)(_),{oobCode:h,newPassword:p})})).apply(this,arguments)}function ei(){return ei=(0,l.A)(function*(_,h){yield function Xr(_,h){return cc.apply(this,arguments)}((0,S.Ku)(_),{oobCode:h})}),ei.apply(this,arguments)}function vd(_,h){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,l.A)(function*(_,h){const p=(0,S.Ku)(_),v=yield qh(p,{oobCode:h}),D=v.requestType;switch(re(D,p,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":re(v.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":re(v.mfaInfo,p,"internal-error");default:re(v.email,p,"internal-error")}let O=null;return v.mfaInfo&&(O=bc._fromServerResponse(wn(p),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:O},operation:D}})).apply(this,arguments)}function Xn(){return(Xn=(0,l.A)(function*(_,h){const{data:p}=yield vd((0,S.Ku)(_),h);return p.email})).apply(this,arguments)}function ca(){return ca=(0,l.A)(function*(_,h,p){var v;const D=wn(_),O={returnSecureToken:!0,email:h,password:p,clientType:"CLIENT_TYPE_WEB"};let Q;if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const We=yield Yr(D,O,"signUpPassword");Q=Ri(D,We)}else Q=Ri(D,O).catch(function(){var We=(0,l.A)(function*(rt){if("auth/missing-recaptcha-token"===rt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ke=yield Yr(D,O,"signUpPassword");return Ri(D,Ke)}return Promise.reject(rt)});return function(rt){return We.apply(this,arguments)}}());const se=yield Q.catch(We=>Promise.reject(We)),Ne=yield ir._fromIdTokenResponse(D,"signIn",se);return yield D._updateCurrentUser(Ne.user),Ne}),ca.apply(this,arguments)}function uo(){return uo=(0,l.A)(function*(_,h,p){var v;const D=wn(_),O={requestType:"EMAIL_SIGNIN",email:h,clientType:"CLIENT_TYPE_WEB"};function Q(se,Ne){re(Ne.handleCodeInApp,D,"argument-error"),Ne&&Ms(D,se,Ne)}if(null!==(v=D._getRecaptchaConfig())&&void 0!==v&&v.emailPasswordEnabled){const se=yield Yr(D,O,"getOobCode",!0);Q(se,p),yield Ja(D,se)}else Q(O,p),yield Ja(D,O).catch(function(){var se=(0,l.A)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const We=yield Yr(D,O,"getOobCode",!0);Q(We,p),yield Ja(D,We)}});return function(Ne){return se.apply(this,arguments)}}())}),uo.apply(this,arguments)}function rl(){return(rl=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_),D=lo.credentialWithLink(h,p||it());return re(D._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),wc(v,D)})).apply(this,arguments)}function Ac(){return(Ac=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:createAuthUri",le(_,h))})).apply(this,arguments)}function ho(){return ho=(0,l.A)(function*(_,h){const v={identifier:h,continueUri:dt()?it():"http://localhost"},{signinMethods:D}=yield function Tc(_,h){return Ac.apply(this,arguments)}((0,S.Ku)(_),v);return D||[]}),ho.apply(this,arguments)}function Ji(){return Ji=(0,l.A)(function*(_,h){const p=(0,S.Ku)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};h&&Ms(p.auth,D,h);const{email:O}=yield function Xa(_,h){return hc.apply(this,arguments)}(p.auth,D);O!==_.email&&(yield _.reload())}),Ji.apply(this,arguments)}function sl(){return sl=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_),O={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:h};p&&Ms(v.auth,O,p);const{email:Q}=yield function Qn(_,h){return Yn.apply(this,arguments)}(v.auth,O);Q!==_.email&&(yield _.reload())}),sl.apply(this,arguments)}function ef(){return(ef=(0,l.A)(function*(_,h){return fe(_,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ol(){return ol=(0,l.A)(function*(_,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const v=(0,S.Ku)(_),O={idToken:yield v.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},Q=yield pn(v,function og(_,h){return ef.apply(this,arguments)}(v.auth,O));v.displayName=Q.displayName||null,v.photoURL=Q.photoUrl||null;const se=v.providerData.find(({providerId:Ne})=>"password"===Ne);se&&(se.displayName=v.displayName,se.photoURL=v.photoURL),yield v._updateTokensIfNecessary(Q)}),ol.apply(this,arguments)}function Rc(_,h,p){return al.apply(this,arguments)}function al(){return(al=(0,l.A)(function*(_,h,p){const{auth:v}=_,O={idToken:yield _.getIdToken(),returnSecureToken:!0};h&&(O.email=h),p&&(O.password=p);const Q=yield pn(_,lc(v,O));yield _._updateTokensIfNecessary(Q,!0)})).apply(this,arguments)}class fo{constructor(h,p,v={}){this.isNewUser=h,this.providerId=p,this.profile=v}}class ll extends fo{constructor(h,p,v,D){super(h,p,v),this.username=D}}class Cd extends fo{constructor(h,p){super(h,"facebook.com",p)}}class wd extends ll{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class da extends fo{constructor(h,p){super(h,"google.com",p)}}class ha extends ll{constructor(h,p,v){super(h,"twitter.com",p,v)}}function tf(_){const{user:h,_tokenResponse:p}=_;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function Pc(_){var h,p;if(!_)return null;const{providerId:v}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},O=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!v&&_?.idToken){const Q=null===(p=null===(h=_t(_.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(Q)return new fo(O,"anonymous"!==Q&&"custom"!==Q?Q:null)}if(!v)return null;switch(v){case"facebook.com":return new Cd(O,D);case"github.com":return new wd(O,D);case"google.com":return new da(O,D);case"twitter.com":return new ha(O,D,_.screenName||null);case"custom":case"anonymous":return new fo(O,null);default:return new fo(O,v,D)}}(p)}class Zi{constructor(h,p,v){this.type=h,this.credential=p,this.auth=v}static _fromIdtoken(h,p){return new Zi("enroll",h,p)}static _fromMfaPendingCredential(h){return new Zi("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,v;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Zi._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(v=h.multiFactorSession)&&void 0!==v&&v.idToken)return Zi._fromIdtoken(h.multiFactorSession.idToken)}return null}}class Os{constructor(h,p,v){this.session=h,this.hints=p,this.signInResolver=v}static _fromError(h,p){const v=wn(h),D=p.customData._serverResponse,O=(D.mfaInfo||[]).map(se=>bc._fromServerResponse(v,se));re(D.mfaPendingCredential,v,"internal-error");const Q=Zi._fromMfaPendingCredential(D.mfaPendingCredential);return new Os(Q,O,function(){var se=(0,l.A)(function*(Ne){const We=yield Ne._process(v,Q);delete D.mfaInfo,delete D.mfaPendingCredential;const rt=Object.assign(Object.assign({},D),{idToken:We.idToken,refreshToken:We.refreshToken});switch(p.operationType){case"signIn":const Ke=yield ir._fromIdTokenResponse(v,p.operationType,rt);return yield v._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return re(p.user,v,"internal-error"),ir._forOperation(p.user,p.operationType,rt);default:Ce(v,"internal-error")}});return function(Ne){return se.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,l.A)(function*(){return p.signInResolver(h)})()}}class Ns{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(v=>bc._fromServerResponse(h.auth,v)))})}static _fromUser(h){return new Ns(h)}getSession(){var h=this;return(0,l.A)(function*(){return Zi._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var v=this;return(0,l.A)(function*(){const D=h,O=yield v.getSession(),Q=yield pn(v.user,D._process(v.user.auth,O,p));return yield v.user._updateTokensIfNecessary(Q),v.user.reload()})()}unenroll(h){var p=this;return(0,l.A)(function*(){const v="string"==typeof h?h:h.uid,D=yield p.user.getIdToken();try{const O=yield pn(p.user,function Sd(_,h){return fe(_,"POST","/v2/accounts/mfaEnrollment:withdraw",le(_,h))}(p.user.auth,{idToken:D,mfaEnrollmentId:v}));p.enrolledFactors=p.enrolledFactors.filter(({uid:Q})=>Q!==v),yield p.user._updateTokensIfNecessary(O),yield p.user.reload()}catch(O){throw O}})()}}const zt=new WeakMap,ks="__sak";class Sr{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(ks,"1"),this.storage.removeItem(ks),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const mo=(()=>{class _ extends Sr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,v)=>this.onStorageEvent(p,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Md(){const _=(0,S.ZQ)();return de(_)||Et(_)}()&&function sa(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Wi(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const v of Object.keys(this.listeners)){const D=this.storage.getItem(v),O=this.localCache[v];D!==O&&p(v,O,D)}}onStorageEvent(p,v=!1){if(!p.key)return void this.forAllChangedKeys((se,Ne,We)=>{this.notifyListeners(se,We)});const D=p.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const se=this.storage.getItem(D);if(p.newValue!==se)null!==p.newValue?this.storage.setItem(D,p.newValue):this.storage.removeItem(D);else if(this.localCache[D]===p.newValue&&!v)return}const O=()=>{const se=this.storage.getItem(D);!v&&this.localCache[D]===se||this.notifyListeners(D,se)},Q=this.storage.getItem(D);!function Cr(){return(0,S.lT)()&&10===document.documentMode}()||Q===p.newValue||p.newValue===p.oldValue?O():setTimeout(O,10)}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const O of Array.from(D))O(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,v,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:v,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,v){var D=()=>super._set,O=this;return(0,l.A)(function*(){yield D().call(O,p,v),O.localCache[p]=JSON.stringify(v)})()}_get(p){var v=()=>super._get,D=this;return(0,l.A)(function*(){const O=yield v().call(D,p);return D.localCache[p]=JSON.stringify(O),O})()}_remove(p){var v=()=>super._remove,D=this;return(0,l.A)(function*(){yield v().call(D,p),delete D.localCache[p]})()}}return _.type="LOCAL",_})(),xs=(()=>{class _ extends Sr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,v){}_removeListener(p,v){}}return _.type="SESSION",_})();let ul=(()=>{class _{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const v=this.receivers.find(O=>O.isListeningto(p));if(v)return v;const D=new _(p);return this.receivers.push(D),D}isListeningto(p){return this.eventTarget===p}handleEvent(p){var v=this;return(0,l.A)(function*(){const D=p,{eventId:O,eventType:Q,data:se}=D.data,Ne=v.handlersMap[Q];if(!Ne?.size)return;D.ports[0].postMessage({status:"ack",eventId:O,eventType:Q});const We=Array.from(Ne).map(function(){var Ke=(0,l.A)(function*(Vt){return Vt(D.origin,se)});return function(Vt){return Ke.apply(this,arguments)}}()),rt=yield function Fs(_){return Promise.all(_.map(function(){var h=(0,l.A)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(v){return{fulfilled:!1,reason:v}}});return function(p){return h.apply(this,arguments)}}()))}(We);D.ports[0].postMessage({status:"done",eventId:O,eventType:Q,response:rt})})()}_subscribe(p,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(v)}_unsubscribe(p,v){this.handlersMap[p]&&v&&this.handlersMap[p].delete(v),(!v||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function Lc(_="",h=10){let p="";for(let v=0;v<h;v++)p+=Math.floor(10*Math.random());return _+p}class dg{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p){var v=this;return(0,l.A)(function*(D,O,Q=50){const se=typeof MessageChannel<"u"?new MessageChannel:null;if(!se)throw new Error("connection_unavailable");let Ne,We;return new Promise((rt,Ke)=>{const Vt=Lc("",20);se.port1.start();const oi=setTimeout(()=>{Ke(new Error("unsupported_event"))},Q);We={messageChannel:se,onMessage(ko){const Sa=ko;if(Sa.data.eventId===Vt)switch(Sa.data.status){case"ack":clearTimeout(oi),Ne=setTimeout(()=>{Ke(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ne),rt(Sa.data.response);break;default:clearTimeout(oi),clearTimeout(Ne),Ke(new Error("invalid_response"))}}},v.handlers.add(We),se.port1.addEventListener("message",We.onMessage),v.target.postMessage({eventType:D,eventId:Vt,data:O},[se.port2])}).finally(()=>{We&&v.removeMessageHandler(We)})}).apply(this,arguments)}}function on(){return window}function Vc(){return typeof on().WorkerGlobalScope<"u"&&"function"==typeof on().importScripts}function dl(){return(dl=(0,l.A)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Rd="firebaseLocalStorageDb",_o="firebaseLocalStorage",es="fbase_key";class hl{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function fl(_,h){return _.transaction([_o],h?"readwrite":"readonly").objectStore(_o)}function Bc(){const _=indexedDB.open(Rd,1);return new Promise((h,p)=>{_.addEventListener("error",()=>{p(_.error)}),_.addEventListener("upgradeneeded",()=>{const v=_.result;try{v.createObjectStore(_o,{keyPath:es})}catch(D){p(D)}}),_.addEventListener("success",(0,l.A)(function*(){const v=_.result;v.objectStoreNames.contains(_o)?h(v):(v.close(),yield function hg(){const _=indexedDB.deleteDatabase(Rd);return new hl(_).toPromise()}(),h(yield Bc()))}))})}function fa(_,h,p){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,l.A)(function*(_,h,p){const v=fl(_,!0).put({[es]:h,value:p});return new hl(v).toPromise()})).apply(this,arguments)}function pl(){return(pl=(0,l.A)(function*(_,h){const p=fl(_,!1).get(h),v=yield new hl(p).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function jc(_,h){const p=fl(_,!0).delete(h);return new hl(p).toPromise()}const Mr=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,l.A)(function*(){return p.db||(p.db=yield Bc()),p.db})()}_withRetries(p){var v=this;return(0,l.A)(function*(){let D=0;for(;;)try{const O=yield v._openDb();return yield p(O)}catch(O){if(D++>3)throw O;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,l.A)(function*(){return Vc()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,l.A)(function*(){p.receiver=ul._getInstance(function Hn(){return Vc()?self:null}()),p.receiver._subscribe("keyChanged",function(){var v=(0,l.A)(function*(D,O){return{keyProcessed:(yield p._poll()).includes(O.key)}});return function(D,O){return v.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var v=(0,l.A)(function*(D,O){return["keyChanged"]});return function(D,O){return v.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,l.A)(function*(){var v,D;if(p.activeServiceWorker=yield function gt(){return dl.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new dg(p.activeServiceWorker);const O=yield p.sender._send("ping",{},800);O&&null!==(v=O[0])&&void 0!==v&&v.fulfilled&&null!==(D=O[0])&&void 0!==D&&D.value.includes("keyChanged")&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var v=this;return(0,l.A)(function*(){if(v.sender&&v.activeServiceWorker&&function Uc(){var _;return(null===(_=navigator?.serviceWorker)||void 0===_?void 0:_.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:p},v.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.A)(function*(){try{if(!indexedDB)return!1;const p=yield Bc();return yield fa(p,ks,"1"),yield jc(p,ks),!0}catch{}return!1})()}_withPendingWrite(p){var v=this;return(0,l.A)(function*(){v.pendingWrites++;try{yield p()}finally{v.pendingWrites--}})()}_set(p,v){var D=this;return(0,l.A)(function*(){return D._withPendingWrite((0,l.A)(function*(){return yield D._withRetries(O=>fa(O,p,v)),D.localCache[p]=v,D.notifyServiceWorker(p)}))})()}_get(p){var v=this;return(0,l.A)(function*(){const D=yield v._withRetries(O=>function wt(_,h){return pl.apply(this,arguments)}(O,p));return v.localCache[p]=D,D})()}_remove(p){var v=this;return(0,l.A)(function*(){return v._withPendingWrite((0,l.A)(function*(){return yield v._withRetries(D=>jc(D,p)),delete v.localCache[p],v.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,l.A)(function*(){const v=yield p._withRetries(Q=>{const se=fl(Q,!1).getAll();return new hl(se).toPromise()});if(!v)return[];if(0!==p.pendingWrites)return[];const D=[],O=new Set;for(const{fbase_key:Q,value:se}of v)O.add(Q),JSON.stringify(p.localCache[Q])!==JSON.stringify(se)&&(p.notifyListeners(Q,se),D.push(Q));for(const Q of Object.keys(p.localCache))p.localCache[Q]&&!O.has(Q)&&(p.notifyListeners(Q,null),D.push(Q));return D})()}notifyListeners(p,v){this.localCache[p]=v;const D=this.listeners[p];if(D)for(const O of Array.from(D))O(v)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,l.A)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(v)}_removeListener(p,v){this.listeners[p]&&(this.listeners[p].delete(v),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})(),On=1e12;class ts{constructor(h){this.auth=h,this.counter=On,this._widgets=new Map}render(h,p){const v=this.counter;return this._widgets.set(v,new zc(h,this.auth.name,p||{})),this.counter++,v}reset(h){var p;const v=h||On;null===(p=this._widgets.get(v))||void 0===p||p.delete(),this._widgets.delete(v)}getResponse(h){var p;return(null===(p=this._widgets.get(h||On))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,l.A)(function*(){var v;return null===(v=p._widgets.get(h||On))||void 0===v||v.execute(),""})()}}class zc{constructor(h,p,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof h?document.getElementById(h):h;re(D,"argument-error",{appName:p}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function pa(_){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<_;v++)h.push(p.charAt(Math.floor(62*Math.random())));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ki=wr("rcb"),lf=new Qr(3e4,6e4);class pg{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=on().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return re(function Pd(_){return _.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_)}(p),h,"argument-error"),this.shouldResolveImmediately(p)&&Ye(on().grecaptcha)?Promise.resolve(on().grecaptcha):new Promise((v,D)=>{const O=on().setTimeout(()=>{D(X(h,"network-request-failed"))},lf.get());on()[ki]=()=>{on().clearTimeout(O),delete on()[ki];const se=on().grecaptcha;if(!se||!Ye(se))return void D(X(h,"internal-error"));const Ne=se.render;se.render=(We,rt)=>{const Ke=Ne(We,rt);return this.counter++,Ke},this.hostLanguage=p,v(se)},Si(`https://www.google.com/recaptcha/api.js??${(0,S.Am)({onload:ki,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(O),D(X(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=on().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Od{load(h){return(0,l.A)(function*(){return new ts(h)})()}clearedOneInstance(){}}const ma="recaptcha",cf={theme:"light",type:"image"};class gl{constructor(h,p=Object.assign({},cf),v){this.parameters=p,this.type=ma,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(v),this.isInvisible="invisible"===this.parameters.size,re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof h?document.getElementById(h):h;re(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Od:new pg,this.validateStartingState()}verify(){var h=this;return(0,l.A)(function*(){h.assertNotDestroyed();const p=yield h.render(),v=h.getAssertedRecaptcha();return v.getResponse(p)||new Promise(O=>{const Q=se=>{se&&(h.tokenChangeListeners.delete(Q),O(se))};h.tokenChangeListeners.add(Q),h.isInvisible&&v.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){re(!this.parameters.sitekey,this.auth,"argument-error"),re(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),re(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(v=>v(p)),"function"==typeof h)h(p);else if("string"==typeof h){const v=on()[h];"function"==typeof v&&v(p)}}}assertNotDestroyed(){re(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,l.A)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const v=document.createElement("div");p.appendChild(v),p=v}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,l.A)(function*(){re(dt()&&!Vc(),h.auth,"internal-error"),yield function gg(){let _=null;return new Promise(h=>{"complete"!==document.readyState?(_=()=>h(),window.addEventListener("load",_)):h()}).catch(h=>{throw _&&window.removeEventListener("load",_),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function ce(_){return Fe.apply(this,arguments)}(h.auth);re(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return re(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ls{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=ot._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Rr(){return(Rr=(0,l.A)(function*(_,h,p){const v=wn(_),D=yield yo(v,h,(0,S.Ku)(p));return new Ls(D,O=>wc(v,O))})).apply(this,arguments)}function _a(){return(_a=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_);yield gs(!1,v,"phone");const D=yield yo(v.auth,h,(0,S.Ku)(p));return new Ls(D,O=>rg(v,O))})).apply(this,arguments)}function Vs(){return(Vs=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_),D=yield yo(v.auth,h,(0,S.Ku)(p));return new Ls(D,O=>ig(v,O))})).apply(this,arguments)}function yo(_,h,p){return Nd.apply(this,arguments)}function Nd(){return Nd=(0,l.A)(function*(_,h,p){var v;const D=yield p.verify();try{let O;if(re("string"==typeof D,_,"argument-error"),re(p.type===ma,_,"argument-error"),O="string"==typeof h?{phoneNumber:h}:h,"session"in O){const Q=O.session;if("phoneNumber"in O)return re("enroll"===Q.type,_,"internal-error"),(yield function kc(_,h){return fe(_,"POST","/v2/accounts/mfaEnrollment:start",le(_,h))}(_,{idToken:Q.credential,phoneEnrollmentInfo:{phoneNumber:O.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{re("signin"===Q.type,_,"internal-error");const se=(null===(v=O.multiFactorHint)||void 0===v?void 0:v.uid)||O.multiFactorUid;return re(se,_,"missing-multi-factor-info"),(yield function Gc(_,h){return fe(_,"POST","/v2/accounts/mfaSignIn:start",le(_,h))}(_,{mfaPendingCredential:Q.credential,mfaEnrollmentId:se,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Q}=yield function Ct(_,h){return Qt.apply(this,arguments)}(_,{phoneNumber:O.phoneNumber,recaptchaToken:D});return Q}}finally{p._reset()}}),Nd.apply(this,arguments)}function ms(){return(ms=(0,l.A)(function*(_,h){yield Ss((0,S.Ku)(_),h)})).apply(this,arguments)}let Yt=(()=>{class _{constructor(p){this.providerId=_.PROVIDER_ID,this.auth=wn(p)}verifyPhoneNumber(p,v){return yo(this.auth,p,(0,S.Ku)(v))}static credential(p,v){return ot._fromVerification(p,v)}static credentialFromResult(p){return _.credentialFromTaggedObject(p)}static credentialFromError(p){return _.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:v,temporaryProof:D}=p;return v&&D?ot._fromTokenResponse(v,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function vo(_,h){return h?_n(h):(re(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class wi extends Ts{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Jr(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Jr(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Jr(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function df(_){return Ec(_.auth,new wi(_),_.bypassAuthState)}function hf(_){const{auth:h,user:p}=_;return re(p,h,"internal-error"),Yh(p,new wi(_),_.bypassAuthState)}function ns(_){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,l.A)(function*(_){const{auth:h,user:p}=_;return re(p,h,"internal-error"),Ss(p,new wi(_),_.bypassAuthState)})).apply(this,arguments)}class _s{constructor(h,p,v,D,O=!1){this.auth=h,this.resolver=v,this.user=D,this.bypassAuthState=O,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,l.A)(function*(v,D){h.pendingPromise={resolve:v,reject:D};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(O){h.reject(O)}});return function(v,D){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,l.A)(function*(){const{urlResponse:v,sessionId:D,postBody:O,tenantId:Q,error:se,type:Ne}=h;if(se)return void p.reject(se);const We={auth:p.auth,requestUri:v,sessionId:D,tenantId:Q||void 0,postBody:O||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Ne)(We))}catch(rt){p.reject(rt)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return df;case"linkViaPopup":case"linkViaRedirect":return ns;case"reauthViaPopup":case"reauthViaRedirect":return hf;default:Ce(this.auth,"internal-error")}}resolve(h){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){$e(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cr=new Qr(2e3,1e4);function ya(){return(ya=(0,l.A)(function*(_,h,p){const v=wn(_);_e(_,h,Dr);const D=vo(v,p);return new vl(v,"signInViaPopup",h,D).executeNotNull()})).apply(this,arguments)}function Co(){return(Co=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_);_e(v.auth,h,Dr);const D=vo(v.auth,p);return new vl(v.auth,"reauthViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}function yl(){return(yl=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_);_e(v.auth,h,Dr);const D=vo(v.auth,p);return new vl(v.auth,"linkViaPopup",h,D,v).executeNotNull()})).apply(this,arguments)}let vl=(()=>{class _ extends _s{constructor(p,v,D,O,Q){super(p,v,O,Q),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var p=this;return(0,l.A)(function*(){const v=yield p.execute();return re(v,p.auth,"internal-error"),v})()}onExecution(){var p=this;return(0,l.A)(function*(){$e(1===p.filter.length,"Popup operations only handle one event");const v=Lc();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],v),p.authWindow.associatedEvent=v,p.resolver._originValidation(p.auth).catch(D=>{p.reject(D)}),p.resolver._isIframeWebStorageSupported(p.auth,D=>{D||p.reject(X(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const p=()=>{var v,D;this.pollId=null!==(D=null===(v=this.authWindow)||void 0===v?void 0:v.window)&&void 0!==D&&D.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,cr.get())};p()}}return _.currentPopupAction=null,_})();const Qc="pendingRedirect",rs=new Map;class El extends _s{constructor(h,p,v=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,v),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,l.A)(function*(){let v=rs.get(p.auth._key());if(!v){try{const O=(yield function Yc(_,h){return mg.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;v=()=>Promise.resolve(O)}catch(D){v=()=>Promise.reject(D)}rs.set(p.auth._key(),v)}return p.bypassAuthState||rs.set(p.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,v=this;return(0,l.A)(function*(){if("signInViaRedirect"===h.type)return p().call(v,h);if("unknown"!==h.type){if(h.eventId){const D=yield v.auth._redirectUserForId(h.eventId);if(D)return v.user=D,p().call(v,h);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,l.A)(function*(){})()}cleanUp(){}}function mg(){return(mg=(0,l.A)(function*(_,h){const p=xd(h),v=yg(_);if(!(yield v._isAvailable()))return!1;const D="true"===(yield v._get(p));return yield v._remove(p),D})).apply(this,arguments)}function Cl(_,h){return ff.apply(this,arguments)}function ff(){return(ff=(0,l.A)(function*(_,h){return yg(_)._set(xd(h),"true")})).apply(this,arguments)}function Xc(_,h){rs.set(_._key(),h)}function yg(_){return _n(_._redirectPersistence)}function xd(_){return q(Qc,_.config.apiKey,_.name)}function wl(_,h,p){return function va(_,h,p){return Jc.apply(this,arguments)}(_,h,p)}function Jc(){return(Jc=(0,l.A)(function*(_,h,p){const v=wn(_);_e(_,h,Dr),yield v._initializationPromise;const D=vo(v,p);return yield Cl(D,v),D._openRedirect(v,h,"signInViaRedirect")})).apply(this,arguments)}function Ea(_,h,p){return function Zc(_,h,p){return wo.apply(this,arguments)}(_,h,p)}function wo(){return(wo=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_);_e(v.auth,h,Dr),yield v.auth._initializationPromise;const D=vo(v.auth,p);yield Cl(D,v.auth);const O=yield Io(v);return D._openRedirect(v.auth,h,"reauthViaRedirect",O)})).apply(this,arguments)}function vg(_,h,p){return function pf(_,h,p){return bl.apply(this,arguments)}(_,h,p)}function bl(){return(bl=(0,l.A)(function*(_,h,p){const v=(0,S.Ku)(_);_e(v.auth,h,Dr),yield v.auth._initializationPromise;const D=vo(v.auth,p);yield gs(!1,v,h.providerId),yield Cl(D,v.auth);const O=yield Io(v);return D._openRedirect(v.auth,h,"linkViaRedirect",O)})).apply(this,arguments)}function ti(){return(ti=(0,l.A)(function*(_,h){return yield wn(_)._initializationPromise,Il(_,h,!1)})).apply(this,arguments)}function Il(_,h){return bo.apply(this,arguments)}function bo(){return(bo=(0,l.A)(function*(_,h,p=!1){const v=wn(_),D=vo(v,h),Q=yield new El(v,D,p).execute();return Q&&!p&&(delete Q.user._redirectEventId,yield v._persistUserIfCurrent(Q.user),yield v._setRedirectUser(null,h)),Q})).apply(this,arguments)}function Io(_){return Do.apply(this,arguments)}function Do(){return(Do=(0,l.A)(function*(_){const h=Lc(`${_.uid}:::`);return _._redirectEventId=h,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),h})).apply(this,arguments)}class Ca{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(h,v)&&(p=!0,this.sendToConsumer(h,v),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function bi(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wa(_);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var v;if(h.error&&!wa(h)){const D=(null===(v=h.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";p.onError(X(this.auth,D))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const v=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&v}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Dl(h))}saveEventToCache(h){this.cachedEventUids.add(Dl(h)),this.lastProcessedEventTime=Date.now()}}function Dl(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(h=>h).join("-")}function wa({type:_,error:h}){return"unknown"===_&&"auth/no-auth-event"===h?.code}function eu(_){return ba.apply(this,arguments)}function ba(){return(ba=(0,l.A)(function*(_,h={}){return fe(_,"GET","/v1/projects",h)})).apply(this,arguments)}const Fd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ao=/^https?/;function is(){return(is=(0,l.A)(function*(_){if(_.config.emulator)return;const{authorizedDomains:h}=yield eu(_);for(const p of h)try{if(tu(p))return}catch{}Ce(_,"unauthorized-domain")})).apply(this,arguments)}function tu(_){const h=it(),{protocol:p,hostname:v}=new URL(h);if(_.startsWith("chrome-extension://")){const Q=new URL(_);return""===Q.hostname&&""===v?"chrome-extension:"===p&&_.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&Q.hostname===v}if(!Ao.test(p))return!1;if(Fd.test(_))return v===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(v)}const Tl=new Qr(3e4,6e4);function So(){const _=on().___jsl;if(_?.H)for(const h of Object.keys(_.H))if(_.H[h].r=_.H[h].r||[],_.H[h].L=_.H[h].L||[],_.H[h].r=[..._.H[h].L],_.CP)for(let p=0;p<_.CP.length;p++)_.CP[p]=null}let kn=null;const Eg=new Qr(5e3,15e3),Ld="__/auth/iframe",nu="emulator/auth/iframe",ru={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Vd=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mo(_){const h=_.config;re(h.authDomain,_,"auth-domain-config-required");const p=h.emulator?Ti(h,nu):`https://${_.config.authDomain}/${Ld}`,v={apiKey:h.apiKey,appName:_.name,v:k.SDK_VERSION},D=Vd.get(_.config.apiHost);D&&(v.eid=D);const O=_._getFrameworks();return O.length&&(v.fw=O.join(",")),`${p}?${(0,S.Am)(v).slice(1)}`}function I(){return I=(0,l.A)(function*(_){const h=yield function Us(_){return kn=kn||function $r(_){return new Promise((h,p)=>{var v,D,O;function Q(){So(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{So(),p(X(_,"network-request-failed"))},timeout:Tl.get()})}if(null!==(D=null===(v=on().gapi)||void 0===v?void 0:v.iframes)&&void 0!==D&&D.Iframe)h(gapi.iframes.getContext());else{if(null===(O=on().gapi)||void 0===O||!O.load){const se=wr("iframefcb");return on()[se]=()=>{gapi.load?Q():p(X(_,"network-request-failed"))},Si(`https://apis.google.com/js/api.js?onload=${se}`).catch(Ne=>p(Ne))}Q()}}).catch(h=>{throw kn=null,h})}(_),kn}(_),p=on().gapi;return re(p,_,"internal-error"),h.open({where:document.body,url:Mo(_),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ru,dontclear:!0},v=>new Promise(function(){var D=(0,l.A)(function*(O,Q){yield v.restyle({setHideOnLeave:!1});const se=X(_,"network-request-failed"),Ne=on().setTimeout(()=>{Q(se)},Eg.get());function We(){on().clearTimeout(Ne),O(v)}v.ping(We).then(We,()=>{Q(se)})});return function(O,Q){return D.apply(this,arguments)}}()))}),I.apply(this,arguments)}const M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class He{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const ft="__/auth/handler",yt="emulator/auth/handler",Pr=encodeURIComponent("fac");function dn(_,h,p,v,D,O){return xi.apply(this,arguments)}function xi(){return(xi=(0,l.A)(function*(_,h,p,v,D,O){re(_.config.authDomain,_,"auth-domain-config-required"),re(_.config.apiKey,_,"invalid-api-key");const Q={apiKey:_.config.apiKey,appName:_.name,authType:p,redirectUrl:v,v:k.SDK_VERSION,eventId:D};if(h instanceof Dr){h.setDefaultLanguage(_.languageCode),Q.providerId=h.providerId||"",(0,S.Im)(h.getCustomParameters())||(Q.customParameters=JSON.stringify(h.getCustomParameters()));for(const[rt,Ke]of Object.entries(O||{}))Q[rt]=Ke}if(h instanceof Tr){const rt=h.getScopes().filter(Ke=>""!==Ke);rt.length>0&&(Q.scopes=rt.join(","))}_.tenantId&&(Q.tid=_.tenantId);const se=Q;for(const rt of Object.keys(se))void 0===se[rt]&&delete se[rt];const Ne=yield _._getAppCheckToken(),We=Ne?`#${Pr}=${encodeURIComponent(Ne)}`:"";return`${function Al({config:_}){return _.emulator?Ti(_,yt):`https://${_.authDomain}/${ft}`}(_)}?${(0,S.Am)(se).slice(1)}${We}`})).apply(this,arguments)}const an="webStorageSupport",An=class ni{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xs,this._completeRedirectFn=Il,this._overrideRedirectResult=Xc}_openPopup(h,p,v,D){var O=this;return(0,l.A)(function*(){var Q;$e(null===(Q=O.eventManagers[h._key()])||void 0===Q?void 0:Q.manager,"_initialize() not called before _openPopup()");const se=yield dn(h,p,v,it(),D);return function Ge(_,h,p,v=500,D=600){const O=Math.max((window.screen.availHeight-D)/2,0).toString(),Q=Math.max((window.screen.availWidth-v)/2,0).toString();let se="";const Ne=Object.assign(Object.assign({},M),{width:v.toString(),height:D.toString(),top:O,left:Q}),We=(0,S.ZQ)().toLowerCase();p&&(se=Ze(We)?"_blank":p),Re(We)&&(h=h||"http://localhost",Ne.scrollbars="yes");const rt=Object.entries(Ne).reduce((Vt,[oi,ko])=>`${Vt}${oi}=${ko},`,"");if(function Kn(_=(0,S.ZQ)()){var h;return Et(_)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(We)&&"_self"!==se)return function nt(_,h){const p=document.createElement("a");p.href=_,p.target=h;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(v)}(h||"",se),new He(null);const Ke=window.open(h||"",se,rt);re(Ke,_,"popup-blocked");try{Ke.focus()}catch{}return new He(Ke)}(h,se,Lc())})()}_openRedirect(h,p,v,D){var O=this;return(0,l.A)(function*(){return yield O._originValidation(h),function rf(_){on().location.href=_}(yield dn(h,p,v,it(),D)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:D,promise:O}=this.eventManagers[p];return D?Promise.resolve(D):($e(O,"If manager is not set, promise should be"),O)}const v=this.initAndGetManager(h);return this.eventManagers[p]={promise:v},v.catch(()=>{delete this.eventManagers[p]}),v}initAndGetManager(h){var p=this;return(0,l.A)(function*(){const v=yield function C(_){return I.apply(this,arguments)}(h),D=new Ca(h);return v.register("authEvent",O=>(re(O?.authEvent,h,"invalid-auth-event"),{status:D.onEvent(O.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:D},p.iframes[h._key()]=v,D})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(an,{type:an},D=>{var O;const Q=null===(O=D?.[0])||void 0===O?void 0:O[an];void 0!==Q&&p(!!Q),Ce(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Nn(_){return is.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Wi()||de()||Et()}};class ri{constructor(h){this.factorId=h}_process(h,p,v){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,v);case"signin":return this._finalizeSignIn(h,p.credential);default:return Le("unexpected MultiFactorSessionType")}}}class Gn extends ri{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new Gn(h)}_finalizeEnroll(h,p,v){return function xc(_,h){return fe(_,"POST","/v2/accounts/mfaEnrollment:finalize",le(_,h))}(h,{idToken:p,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Wc(_,h){return fe(_,"POST","/v2/accounts/mfaSignIn:finalize",le(_,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ys=(()=>{class _{constructor(){}static assertion(p){return Gn._fromCredential(p)}}return _.FACTOR_ID="phone",_})();var Ud="@firebase/auth";class wg{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,l.A)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(v=>{h(v?.stsTokenManager.accessToken||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);p&&(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ml(){return window}(0,S.XA)("authIdTokenMaxAge"),function mf(_){(0,k._registerComponent)(new W.uA("auth",(h,{options:p})=>{const v=h.getProvider("app").getImmediate(),D=h.getProvider("heartbeat"),O=h.getProvider("app-check-internal"),{apiKey:Q,authDomain:se}=v.options;re(Q&&!Q.includes(":"),"invalid-api-key",{appName:v.name});const Ne={apiKey:Q,authDomain:se,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ie(_)},We=new oc(v,D,O,Ne);return function Kh(_,h){const p=h?.persistence||[],v=(Array.isArray(p)?p:[p]).map(_n);h?.errorMap&&_._updateErrorMap(h.errorMap),_._initializeWithPersistence(v,h?.popupRedirectResolver)}(We,p),We},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,v)=>{h.getProvider("auth-internal").initialize()})),(0,k._registerComponent)(new W.uA("auth-internal",h=>{const p=wn(h.getProvider("auth").getImmediate());return new wg(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,k.registerVersion)(Ud,"0.23.2",function Fi(_){switch(_){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(_)),(0,k.registerVersion)(Ud,"0.23.2","esm2017")}("Browser");function bg(){return bg=(0,l.A)(function*(_,h,p){var v;const{BuildInfo:D}=Ml();$e(h.sessionId,"AuthEvent did not contain a session ID");const O=yield function Ig(_){return iu.apply(this,arguments)}(h.sessionId),Q={};return Et()?Q.ibi=D.packageName:Lt()?Q.apn=D.packageName:Ce(_,"operation-not-supported-in-this-environment"),D.displayName&&(Q.appDisplayName=D.displayName),Q.sessionId=O,dn(_,p,h.type,void 0,null!==(v=h.eventId)&&void 0!==v?v:void 0,Q)}),bg.apply(this,arguments)}function Pl(){return(Pl=(0,l.A)(function*(_){const{BuildInfo:h}=Ml(),p={};Et()?p.iosBundleId=h.packageName:Lt()?p.androidPackageName=h.packageName:Ce(_,"operation-not-supported-in-this-environment"),yield eu(_,p)})).apply(this,arguments)}function Ol(){return(Ol=(0,l.A)(function*(_,h,p){const{cordova:v}=Ml();let D=()=>{};try{yield new Promise((O,Q)=>{let se=null;function Ne(){var Ke;O();const Vt=null===(Ke=v.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof Vt&&Vt(),"function"==typeof p?.close&&p.close()}function We(){se||(se=window.setTimeout(()=>{Q(X(_,"redirect-cancelled-by-user"))},2e3))}function rt(){"visible"===document?.visibilityState&&We()}h.addPassiveListener(Ne),document.addEventListener("resume",We,!1),Lt()&&document.addEventListener("visibilitychange",rt,!1),D=()=>{h.removePassiveListener(Ne),document.removeEventListener("resume",We,!1),document.removeEventListener("visibilitychange",rt,!1),se&&window.clearTimeout(se)}})}finally{D()}})).apply(this,arguments)}function iu(){return(iu=(0,l.A)(function*(_){const h=function _f(_){if($e(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(_);const h=new ArrayBuffer(_.length),p=new Uint8Array(h);for(let v=0;v<_.length;v++)p[v]=_.charCodeAt(v);return p}(_),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class yf extends Ca{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,l.A)(function*(){yield h.initPromise})()}}function Ta(_){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,l.A)(function*(_){const h=yield vs()._get(su(_));return h&&(yield vs()._remove(su(_))),h})).apply(this,arguments)}function iE(){const _=[];for(let p=0;p<20;p++){const v=Math.floor(62*Math.random());_.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(v))}return _.join("")}function vs(){return _n(mo)}function su(_){return q("authEvent",_.config.apiKey,_.name)}function Hd(_){if(!_?.includes("?"))return{};const[h,...p]=_.split("?");return(0,S.I9)(p.join("?"))}const Tg=class Gd{constructor(){this._redirectPersistence=xs,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Il,this._overrideRedirectResult=Xc}_initialize(h){var p=this;return(0,l.A)(function*(){const v=h._key();let D=p.eventManagers.get(v);return D||(D=new yf(h),p.eventManagers.set(v,D),p.attachCallbackListeners(h,D)),D})()}_openPopup(h){Ce(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,v,D){var O=this;return(0,l.A)(function*(){!function Da(_){var h,p,v,D,O,Q,se,Ne,We,rt;const Ke=Ml();re("function"==typeof(null===(h=Ke?.universalLinks)||void 0===h?void 0:h.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),re(typeof(null===(p=Ke?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),re("function"==typeof(null===(O=null===(D=null===(v=Ke?.cordova)||void 0===v?void 0:v.plugins)||void 0===D?void 0:D.browsertab)||void 0===O?void 0:O.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(Ne=null===(se=null===(Q=Ke?.cordova)||void 0===Q?void 0:Q.plugins)||void 0===se?void 0:se.browsertab)||void 0===Ne?void 0:Ne.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),re("function"==typeof(null===(rt=null===(We=Ke?.cordova)||void 0===We?void 0:We.InAppBrowser)||void 0===rt?void 0:rt.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const Q=yield O._initialize(h);yield Q.initialized(),Q.resetRedirect(),function _g(){rs.clear()}(),yield O._originValidation(h);const se=function O_(_,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:iE(),postBody:null,tenantId:_.tenantId,error:X(_,"no-auth-event")}}(h,v,D);yield function N_(_,h){return vs()._set(su(_),h)}(h,se);const Ne=yield function rE(_,h,p){return bg.apply(this,arguments)}(h,se,p),We=yield function P_(_){const{cordova:h}=Ml();return new Promise(p=>{h.plugins.browsertab.isAvailable(v=>{let D=null;v?h.plugins.browsertab.openUrl(_):D=h.InAppBrowser.open(_,function kt(_=(0,S.ZQ)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),p(D)})})}(Ne);return function jd(_,h,p){return Ol.apply(this,arguments)}(h,Q,We)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Rl(_){return Pl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:v,handleOpenURL:D,BuildInfo:O}=Ml(),Q=setTimeout((0,l.A)(function*(){yield Ta(h),p.onEvent(Ag())}),500),se=function(){var rt=(0,l.A)(function*(Ke){clearTimeout(Q);const Vt=yield Ta(h);let oi=null;Vt&&Ke?.url&&(oi=function k_(_,h){var p,v;const D=function $d(_){const h=Hd(_),p=h.link?decodeURIComponent(h.link):void 0,v=Hd(p).link,D=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Hd(D).link||D||v||p||_}(h);if(D.includes("/__/auth/callback")){const O=Hd(D),Q=O.firebaseError?function Dg(_){try{return JSON.parse(_)}catch{return null}}(decodeURIComponent(O.firebaseError)):null,se=null===(v=null===(p=Q?.code)||void 0===p?void 0:p.split("auth/"))||void 0===v?void 0:v[1],Ne=se?X(se):null;return Ne?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Ne,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(Vt,Ke.url)),p.onEvent(oi||Ag())});return function(Vt){return rt.apply(this,arguments)}}();typeof v<"u"&&"function"==typeof v.subscribe&&v.subscribe(null,se);const Ne=D,We=`${O.packageName.toLowerCase()}://`;Ml().handleOpenURL=function(){var rt=(0,l.A)(function*(Ke){if(Ke.toLowerCase().startsWith(We)&&se({url:Ke}),"function"==typeof Ne)try{Ne(Ke)}catch(Vt){console.error(Vt)}});return function(Ke){return rt.apply(this,arguments)}}()}};function Ag(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function Oo(){var _;return(null===(_=self?.location)||void 0===_?void 0:_.protocol)||null}function au(_=(0,S.ZQ)()){return!("file:"!==Oo()&&"ionic:"!==Oo()&&"capacitor:"!==Oo()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function L_(){try{const _=self.localStorage,h=Lc();if(_)return _.setItem(h,"1"),_.removeItem(h),!function MI(_=(0,S.ZQ)()){return function SI(){return(0,S.lT)()&&11===document?.documentMode}()||function lu(_=(0,S.ZQ)()){return/Edge\/\d+/.test(_)}(_)}()||(0,S.zW)()}catch{return Mg()&&(0,S.zW)()}return!1}function Mg(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function vf(){return(function F_(){return"http:"===Oo()||"https:"===Oo()}()||(0,S.sr)()||au())&&!function oE(){return(0,S.lV)()||(0,S.Ll)()}()&&L_()&&!Mg()}function Ef(){return au()&&typeof document<"u"}function cu(){return(cu=(0,l.A)(function*(){return!!Ef()&&new Promise(_=>{const h=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),_(!0)})})})).apply(this,arguments)}const ii={LOCAL:"local",NONE:"none",SESSION:"session"},kl=re,Cf="persistence";function Kd(_){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.A)(function*(_){yield _._initializationPromise;const h=du(),p=q(Cf,_.config.apiKey,_.name);h&&h.setItem(p,_._getPersistence())})).apply(this,arguments)}function du(){var _;try{return(null===(_=function zd(){return typeof window<"u"?window:null}())||void 0===_?void 0:_.sessionStorage)||null}catch{return null}}const hu=re;class No{constructor(){this.browserResolver=_n(An),this.cordovaResolver=_n(Tg),this.underlyingResolver=null,this._redirectPersistence=xs,this._completeRedirectFn=Il,this._overrideRedirectResult=Xc}_initialize(h){var p=this;return(0,l.A)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,v,D){var O=this;return(0,l.A)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openPopup(h,p,v,D)})()}_openRedirect(h,p,v,D){var O=this;return(0,l.A)(function*(){return yield O.selectUnderlyingResolver(),O.assertedUnderlyingResolver._openRedirect(h,p,v,D)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Ef()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return hu(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,l.A)(function*(){if(h.underlyingResolver)return;const p=yield function Rg(){return cu.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function Qd(_){return _.unwrap()}function Pg(_){return Og(_)}function Og(_){const{_tokenResponse:h}=_ instanceof S.g?_.customData:_;if(!h)return null;if(!(_ instanceof S.g)&&"temporaryProof"in h&&"phoneNumber"in h)return Yt.credentialFromResult(_);const p=h.providerId;if(!p||p===ee.PASSWORD)return null;let v;switch(p){case ee.GOOGLE:v=Ci;break;case ee.FACEBOOK:v=md;break;case ee.GITHUB:v=qi;break;case ee.TWITTER:v=oa;break;default:const{oauthIdToken:D,oauthAccessToken:O,oauthTokenSecret:Q,pendingToken:se,nonce:Ne}=h;return O||Q||D||se?se?p.startsWith("saml.")?Mi._create(p,se):ze._fromParams({providerId:p,signInMethod:p,pendingToken:se,idToken:D,accessToken:O}):new Zr(p).credential({idToken:D,accessToken:O,rawNonce:Ne}):null}return _ instanceof S.g?v.credentialFromError(_):v.credentialFromResult(_)}function Hr(_,h){return h.catch(p=>{throw p instanceof S.g&&function wf(_,h){var p;const v=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new If(_,function Nc(_,h){var p;const v=(0,S.Ku)(_),D=h;return re(h.customData.operationType,v,"argument-error"),re(null===(p=D.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,v,"argument-error"),Os._fromError(v,D)}(_,h));else if(v){const D=Og(h),O=h;D&&(O.credential=D,O.tenantId=v.tenantId||void 0,O.email=v.email||void 0,O.phoneNumber=v.phoneNumber||void 0)}}(_,p),p}).then(p=>{const D=p.user;return{operationType:p.operationType,credential:Pg(p),additionalUserInfo:tf(p),user:Ii.getOrCreate(D)}})}function bf(_,h){return si.apply(this,arguments)}function si(){return(si=(0,l.A)(function*(_,h){const p=yield h;return{verificationId:p.verificationId,confirm:v=>Hr(_,p.confirm(v))}})).apply(this,arguments)}class If{constructor(h,p){this.resolver=p,this.auth=function V_(_){return _.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Hr(Qd(this.auth),this.resolver.resolveSignIn(h))}}class Ii{constructor(h){this._delegate=h,this.multiFactor=function go(_){const h=(0,S.Ku)(_);return zt.has(h)||zt.set(h,Ns._fromUser(h)),zt.get(h)}(h)}static getOrCreate(h){return Ii.USER_MAP.has(h)||Ii.USER_MAP.set(h,new Ii(h)),Ii.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,l.A)(function*(){return Hr(p.auth,rg(p._delegate,h))})()}linkWithPhoneNumber(h,p){var v=this;return(0,l.A)(function*(){return bf(v.auth,function uf(_,h,p){return _a.apply(this,arguments)}(v._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,l.A)(function*(){return Hr(p.auth,function kd(_,h,p){return yl.apply(this,arguments)}(p._delegate,h,No))})()}linkWithRedirect(h){var p=this;return(0,l.A)(function*(){return yield Kd(wn(p.auth)),vg(p._delegate,h,No)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,l.A)(function*(){return Hr(p.auth,ig(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return bf(this.auth,function qc(_,h,p){return Vs.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Hr(this.auth,function _l(_,h,p){return Co.apply(this,arguments)}(this._delegate,h,No))}reauthenticateWithRedirect(h){var p=this;return(0,l.A)(function*(){return yield Kd(wn(p.auth)),Ea(p._delegate,h,No)})()}sendEmailVerification(h){return function Rs(_,h){return Ji.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,l.A)(function*(){return yield function _c(_,h){return or.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function lg(_,h){return Rc((0,S.Ku)(_),h,null)}(this._delegate,h)}updatePassword(h){return function Mc(_,h){return Rc((0,S.Ku)(_),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function lr(_,h){return ms.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function ag(_,h){return ol.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function il(_,h,p){return sl.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ii.USER_MAP=new WeakMap;const Wn=re;let Yd=(()=>{class _{constructor(p,v){if(this.app=p,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=p.options;Wn(D,"invalid-api-key",{appName:p.name}),Wn(D,"invalid-api-key",{appName:p.name});const O=typeof window<"u"?No:void 0;this._delegate=v.initialize({options:{persistence:fu(D,p.name),popupRedirectResolver:O}}),this._delegate._updateErrorMap(Pe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ii.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,v){!function qa(_,h,p){const v=wn(_);re(v._canInitEmulator,v,"emulator-config-failed"),re(/^https?:\/\//.test(h),v,"invalid-emulator-scheme");const D=!!p?.disableWarnings,O=rr(h),{host:Q,port:se}=function pd(_){const h=rr(_),p=/(\/\/)?([^?#/]+)/.exec(_.substr(h.length));if(!p)return{host:"",port:null};const v=p[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(v);if(D){const O=D[1];return{host:O,port:ac(v.substr(O.length+1))}}{const[O,Q]=v.split(":");return{host:O,port:ac(Q)}}}(h);v.config.emulator={url:`${O}//${Q}${null===se?"":`:${se}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:Q,port:se,protocol:O.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function ng(){function _(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,p,v)}applyActionCode(p){return function Pi(_,h){return ei.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return vd(this._delegate,p)}confirmPasswordReset(p,v){return function sg(_,h,p){return Xi.apply(this,arguments)}(this._delegate,p,v)}createUserWithEmailAndPassword(p,v){var D=this;return(0,l.A)(function*(){return Hr(D._delegate,function Dc(_,h,p){return ca.apply(this,arguments)}(D._delegate,p,v))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function Sc(_,h){return ho.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Zh(_,h){const p=Ki.parseLink(h);return"EMAIL_SIGNIN"===p?.operation}(0,p)}getRedirectResult(){var p=this;return(0,l.A)(function*(){Wn(vf(),p._delegate,"operation-not-supported-in-this-environment");const v=yield function gf(_,h){return ti.apply(this,arguments)}(p._delegate,No);return v?Hr(p._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Wd(_,h){wn(_)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,v,D){const{next:O,error:Q,complete:se}=Df(p,v,D);return this._delegate.onAuthStateChanged(O,Q,se)}onIdTokenChanged(p,v,D){const{next:O,error:Q,complete:se}=Df(p,v,D);return this._delegate.onIdTokenChanged(O,Q,se)}sendSignInLinkToEmail(p,v){return function ua(_,h,p){return uo.apply(this,arguments)}(this._delegate,p,v)}sendPasswordResetEmail(p,v){return function M_(_,h,p){return la.apply(this,arguments)}(this._delegate,p,v||void 0)}setPersistence(p){var v=this;return(0,l.A)(function*(){let D;switch(function xl(_,h){kl(Object.values(ii).includes(h),_,"invalid-persistence-type"),(0,S.lV)()?kl(h!==ii.SESSION,_,"unsupported-persistence-type"):(0,S.Ll)()?kl(h===ii.NONE,_,"unsupported-persistence-type"):Mg()?kl(h===ii.NONE||h===ii.LOCAL&&(0,S.zW)(),_,"unsupported-persistence-type"):kl(h===ii.NONE||L_(),_,"unsupported-persistence-type")}(v._delegate,p),p){case ii.SESSION:D=xs;break;case ii.LOCAL:D=(yield _n(Mr)._isAvailable())?Mr:mo;break;case ii.NONE:D=pr;break;default:return Ce("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Hr(this._delegate,function aa(_){return jn.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Hr(this._delegate,wc(this._delegate,p))}signInWithCustomToken(p){return Hr(this._delegate,function yd(_,h){return Yi.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,v){return Hr(this._delegate,function Ed(_,h,p){return wc((0,S.Ku)(_),lo.credential(h,p))}(this._delegate,p,v))}signInWithEmailLink(p,v){return Hr(this._delegate,function $n(_,h,p){return rl.apply(this,arguments)}(this._delegate,p,v))}signInWithPhoneNumber(p,v){return bf(this._delegate,function Kc(_,h,p){return Rr.apply(this,arguments)}(this._delegate,p,v))}signInWithPopup(p){var v=this;return(0,l.A)(function*(){return Wn(vf(),v._delegate,"operation-not-supported-in-this-environment"),Hr(v._delegate,function ml(_,h,p){return ya.apply(this,arguments)}(v._delegate,p,No))})()}signInWithRedirect(p){var v=this;return(0,l.A)(function*(){return Wn(vf(),v._delegate,"operation-not-supported-in-this-environment"),yield Kd(v._delegate),wl(v._delegate,p,No)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function co(_,h){return Xn.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=ii,_})();function Df(_,h,p){let v=_;"function"!=typeof _&&({next:v,error:h,complete:p}=_);const D=v;return{next:Q=>D(Q&&Ii.getOrCreate(Q)),error:h,complete:p}}function fu(_,h){const p=function qd(_,h){const p=du();if(!p)return[];const v=q(Cf,_,h);switch(p.getItem(v)){case ii.NONE:return[pr];case ii.LOCAL:return[Mr,xs];case ii.SESSION:return[xs];default:return[]}}(_,h);if(typeof self<"u"&&!p.includes(Mr)&&p.push(Mr),typeof window<"u")for(const v of[mo,xs])p.includes(v)||p.push(v);return p.includes(pr)||p.push(pr),p}class ur{constructor(){this.providerId="phone",this._delegate=new Yt(Qd(N.A.auth()))}static credential(h,p){return Yt.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}ur.PHONE_SIGN_IN_METHOD=Yt.PHONE_SIGN_IN_METHOD,ur.PROVIDER_ID=Yt.PROVIDER_ID;const pu=re;class gu{constructor(h,p,v=N.A.app()){var D;pu(null===(D=v.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new gl(h,p,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function kg(_){_.INTERNAL.registerComponent(new W.uA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),v=h.getProvider("auth");return new Yd(p,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lo,FacebookAuthProvider:md,GithubAuthProvider:qi,GoogleAuthProvider:Ci,OAuthProvider:Zr,SAMLAuthProvider:mc,PhoneAuthProvider:ur,PhoneMultiFactorGenerator:ys,RecaptchaVerifier:gu,TwitterAuthProvider:oa,Auth:Yd,AuthCredential:Ts,Error:S.g}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.4.2")}(N.A)},467:(Ve,H,R)=>{"use strict";function l(S,k,x,$,W,Y,ee){try{var L=S[Y](ee),G=L.value}catch(K){return void x(K)}L.done?k(G):Promise.resolve(G).then($,W)}function N(S){return function(){var k=this,x=arguments;return new Promise(function($,W){var Y=S.apply(k,x);function ee(G){l(Y,$,W,ee,L,"next",G)}function L(G){l(Y,$,W,ee,L,"throw",G)}ee(void 0)})}}R.d(H,{A:()=>N})},1635:(Ve,H,R)=>{"use strict";function k(he,ve){var le={};for(var fe in he)Object.prototype.hasOwnProperty.call(he,fe)&&ve.indexOf(fe)<0&&(le[fe]=he[fe]);if(null!=he&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(fe=Object.getOwnPropertySymbols(he);Me<fe.length;Me++)ve.indexOf(fe[Me])<0&&Object.prototype.propertyIsEnumerable.call(he,fe[Me])&&(le[fe[Me]]=he[fe[Me]])}return le}function K(he,ve,le,fe){return new(le||(le=Promise))(function(ye,Xe){function pt(sn){try{qe(fe.next(sn))}catch(Kt){Xe(Kt)}}function $t(sn){try{qe(fe.throw(sn))}catch(Kt){Xe(Kt)}}function qe(sn){sn.done?ye(sn.value):function Me(ye){return ye instanceof le?ye:new le(function(Xe){Xe(ye)})}(sn.value).then(pt,$t)}qe((fe=fe.apply(he,ve||[])).next())})}function ie(he){return this instanceof ie?(this.v=he,this):new ie(he)}function Ce(he,ve,le){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,fe=le.apply(he,ve||[]),ye=[];return Me=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),pt("next"),pt("throw"),pt("return",function Xe(vt){return function(mn){return Promise.resolve(mn).then(vt,Kt)}}),Me[Symbol.asyncIterator]=function(){return this},Me;function pt(vt,mn){fe[vt]&&(Me[vt]=function(Mn){return new Promise(function(Vn,En){ye.push([vt,Mn,Vn,En])>1||$t(vt,Mn)})},mn&&(Me[vt]=mn(Me[vt])))}function $t(vt,mn){try{!function qe(vt){vt.value instanceof ie?Promise.resolve(vt.value.v).then(sn,Kt):hr(ye[0][2],vt)}(fe[vt](mn))}catch(Mn){hr(ye[0][3],Mn)}}function sn(vt){$t("next",vt)}function Kt(vt){$t("throw",vt)}function hr(vt,mn){vt(mn),ye.shift(),ye.length&&$t(ye[0][0],ye[0][1])}}function ue(he){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var le,ve=he[Symbol.asyncIterator];return ve?ve.call(he):(he=function Se(he){var ve="function"==typeof Symbol&&Symbol.iterator,le=ve&&he[ve],fe=0;if(le)return le.call(he);if(he&&"number"==typeof he.length)return{next:function(){return he&&fe>=he.length&&(he=void 0),{value:he&&he[fe++],done:!he}}};throw new TypeError(ve?"Object is not iterable.":"Symbol.iterator is not defined.")}(he),le={},fe("next"),fe("throw"),fe("return"),le[Symbol.asyncIterator]=function(){return this},le);function fe(ye){le[ye]=he[ye]&&function(Xe){return new Promise(function(pt,$t){!function Me(ye,Xe,pt,$t){Promise.resolve($t).then(function(qe){ye({value:qe,done:pt})},Xe)}(pt,$t,(Xe=he[ye](Xe)).done,Xe.value)})}}}R.d(H,{AQ:()=>Ce,N3:()=>ie,Tt:()=>k,sH:()=>K,xN:()=>ue}),"function"==typeof SuppressedError&&SuppressedError}},Ve=>{Ve(Ve.s=1225)}]);